{"version":3,"file":"EditCompatibilityForm.CRG9KgHN.js","sources":["../../../../../../src/lib/components/mods/compatibility/EditCompatibilityForm.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import ModCompatibilityEdit from './ModCompatibilityEdit.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { EditModCompatibilityDocument } from '$lib/generated';\n  import { getContextClient } from '@urql/svelte';\n  import { createEventDispatcher } from 'svelte';\n  import { getTranslate } from '@tolgee/svelte';\n\n  export let modId: string;\n  export let mod: ModData;\n\n  export const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const dispatch = createEventDispatcher();\n\n  async function onSubmit(e: Event) {\n    e.preventDefault();\n    const success = (\n      await client\n        .mutation(EditModCompatibilityDocument, {\n          modId,\n          compatibility: mod.compatibility\n        })\n        .toPromise()\n    ).data.updateModCompatibility;\n    if (success) {\n      dispatch('submit');\n    } else {\n      dispatch('fail');\n    }\n  }\n</script>\n\n<form on:submit={onSubmit}>\n  <ModCompatibilityEdit bind:compatibilityInfo={mod.compatibility} />\n  <div class=\"p-5\">\n    <button class=\"variant-ghost-primary btn\" type=\"submit\">{$t('entry.save')}</button>\n  </div>\n</form>\n"],"names":["t1_value","ctx","compatibility","modcompatibilityedit_props","compatibilityInfo","insert_hydration_dev","target","form","anchor","append_hydration_dev","div","button","modcompatibilityedit_changes","current","dirty","set_data_dev","t1","modId","$$props","mod","t","getTranslate","client","getContextClient","dispatch","createEventDispatcher","async","onSubmit","e","preventDefault","success","mutation","EditModCompatibilityDocument","toPromise","data","updateModCompatibility","$$self","$$","not_equal","value"],"mappings":"+dAsC6DA,EAAAC,GAAG,EAAA,YAAA,EAAY,0CAF5BA,KAAIC,gBAAa,SAAjBC,EAAAC,kBAAAH,KAAIC,siBADpDG,EAKMC,EAAAC,EAAAC,sBAHJC,EAEKF,EAAAG,GADHD,EAAkFC,EAAAC,kCAHrEV,EAAQ,CAAA,EAAA,GAAA,GAAA,GAAA,EAAA,qDACuBW,EAAAR,kBAAAH,GAAIC,EAAAA,uCAESW,GAAAC,EAAA,IAAAd,KAAAA,EAAAC,KAAG,cAAY,KAAAc,EAAAC,EAAAhB,4XA9B/DiB,CAAAA,EAAaC,OACbC,CAAYD,EAAAA,EAER,MAAAE,EAAAA,CAAAA,EAAMC,iBAEf,MAAAC,EAASC,EAAAA,EAETC,EAAWC,EAAAA,EAEFC,eAAAC,EAASC,EAAAA,CACtBA,EAAEC,eAAAA,EACI,MAAAC,GACER,MAAAA,EACHS,SAASC,GACRf,QACAf,cAAeiB,EAAIjB,aAEpB+B,CAAAA,EAAAA,UAAAA,GACHC,KAAKC,uBAELX,EADEM,EACO,SAEA,2fAMiCM,EAAAC,GAAAC,UAAAnB,EAAIjB,cAAaqC,CAAAA,IAAjBpB,EAAIjB,cAAaqC"}