{"version":3,"file":"DZlxvIB3.js","sources":["../../../../../../src/lib/components/announcements/AnnouncementRow.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { AnnouncementImportance } from '$lib/generated';\n  import { markdown } from '$lib/utils/markdown';\n\n  const iconNames: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'info',\n    [AnnouncementImportance.Alert]: 'error',\n    [AnnouncementImportance.Warning]: 'warning',\n    [AnnouncementImportance.Fix]: 'build_circle'\n  };\n  const backgroundColors: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'bg-sky-500',\n    [AnnouncementImportance.Alert]: 'bg-red-600',\n    [AnnouncementImportance.Warning]: 'bg-yellow-400',\n    [AnnouncementImportance.Fix]: 'bg-green-600'\n  };\n  const monospacePrefix = 'monotext:';\n\n  interface Props {\n    message: string;\n    importance: AnnouncementImportance;\n  }\n\n  let { message, importance }: Props = $props();\n\n  // Enables making monospace announcements\n  let isMonospace = $derived(message.startsWith(monospacePrefix));\n  let finalMessage = $derived(isMonospace ? message.replaceAll(monospacePrefix, '') : message);\n</script>\n\n<div class=\"{backgroundColors[importance]} max-h-64 overflow-hidden rounded-sm\">\n  <div class=\"striped p-1 text-black\">\n    <span class=\"material-icons align-middle text-2xl\">{iconNames[importance]}</span>\n    <div\n      class=\"text-l announcement-markdown inline-block max-w-full align-middle break-words\"\n      class:font-mono={isMonospace}\n      class:whitespace-pre={isMonospace}>\n      <b>{importance}: </b>\n      {#await markdown(finalMessage, true) then previewRendered}\n        <!-- eslint-disable-next-line -->\n        {@html previewRendered}\n      {/await}\n    </div>\n  </div>\n</div>\n\n<style>\n  .striped {\n    background: repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 14px,\n      rgba(60, 60, 60, 0.1) 14px,\n      rgba(60, 60, 60, 0.1) 28px\n    );\n  }\n</style>\n"],"names":["iconNames","AnnouncementImportance","backgroundColors","monospacePrefix","isMonospace","$.tag","$.derived","$$props","finalMessage","$.await","node","markdown","$.get","previewRendered"],"mappings":"giBAAA,+BAIQA,EAAsD,EACzDC,EAAuB,IAAI,EAAG,QAC9BA,EAAuB,KAAK,EAAG,SAC/BA,EAAuB,OAAO,EAAG,WACjCA,EAAuB,GAAG,EAAG,gBAE1BC,EAA6D,EAChED,EAAuB,IAAI,EAAG,cAC9BA,EAAuB,KAAK,EAAG,cAC/BA,EAAuB,OAAO,EAAG,iBACjCA,EAAuB,GAAG,EAAG,gBAE1BE,EAAkB,gBAUpBC,EAAWC,EAAAC,EAAA,IAAAC,EAAA,QAAoB,WAAWJ,CAAe,CAAA,EAAA,aAAA,EACzDK,EAAYH,UAAYD,CAAW,YAAW,WAAWD,EAAiB,EAAE,+IAWpE,IAAAM,EAAAC,EAAA,IAAAC,EAAQC,EAACJ,CAAY,EAAE,EAAI,UAAOK,IAAe,4BAEhDA,CAAe,CAAA,0DAVjBX,EAAgBK,EAAA,UAAA,GAAA,EAAA,uCAAA,gBAAA,MAE2BP,EAASO,EAAA,UAAA,CAAA,gHAG1CH,CAAW,qBACNA,CAAW,6CARvC"}