{"version":3,"file":"CPMC8YZG.js","sources":["../../../../../../src/lib/models/guides.ts","../../../../../../src/lib/components/guides/GuideForm.svelte"],"sourcesContent":["import * as zod from 'zod';\n\nexport type GuideData = {\n  name: string;\n  short_description: string;\n  guide: string;\n};\n\nexport const guideSchema = zod.object({\n  name: zod.string().min(3).max(32),\n  short_description: zod.string().min(16).max(128),\n  guide: zod.string()\n});\n","<script lang=\"ts\">\n  import { createForm } from 'felte';\n  import { validator } from '@felte/validator-zod';\n  import { reporter } from '@felte/reporter-svelte';\n  import type { GuideData } from '$lib/models/guides';\n  import { guideSchema } from '$lib/models/guides';\n  import { trimNonSchema } from '$lib/utils/forms';\n  import { getTranslate } from '@tolgee/svelte';\n  import FormField from '$lib/components/forms/FormField.svelte';\n  import FormMarkdownField from '$lib/components/forms/FormMarkdownField.svelte';\n\n  export const { t } = getTranslate();\n\n  interface Props {\n    onSubmit: (data: GuideData) => void;\n    initialValues?: GuideData | undefined;\n    submitIcon: string;\n    submitText?: string;\n  }\n\n  let {\n    onSubmit,\n    initialValues = {\n      name: '',\n      guide: '',\n      short_description: ''\n    },\n    submitIcon,\n    submitText = $t('entry.create')\n  }: Props = $props();\n\n  const { form, data } = createForm<GuideData>({\n    initialValues: initialValues,\n    extend: [validator({ schema: guideSchema }), reporter],\n    onSubmit: (submitted: GuideData) => onSubmit(trimNonSchema(submitted, guideSchema))\n  });\n</script>\n\n<form use:form>\n  <div class=\"grid grid-flow-row gap-6\">\n    <FormField label={$t('entry.name')} name=\"name\" bind:value={$data.name} required />\n\n    <FormField\n      label={$t('entry.short-description')}\n      name=\"short_description\"\n      bind:value={$data.short_description}\n      required />\n\n    <FormMarkdownField label={$t('guide')} name=\"guide\" bind:value={$data.guide} required />\n\n    <div>\n      <button class=\"btn border border-primary-500 preset-tonal-primary\" type=\"submit\">\n        <span class=\"material-icons pr-2\">{submitIcon}</span>\n        {submitText}</button>\n    </div>\n  </div>\n</form>\n"],"names":["guideSchema","zod.object","zod.string","t","getTranslate","initialValues","$.prop","$$props","submitText","$t","form","data","createForm","validator","reporter","submitted","trimNonSchema","$0","$.derived","$data","$$value","$.untrack"],"mappings":"gXAQO,MAAMA,EAAcC,EAAW,CACpC,KAAMC,EAAI,EAAS,IAAI,CAAC,EAAE,IAAI,EAAE,EAChC,kBAAmBA,EAAI,EAAS,IAAI,EAAE,EAAE,IAAI,GAAG,EAC/C,MAAOA,EAAI,CACb,CAAC,0VCZD,yGAWiB,CAAA,EAAAC,CAAC,EAAKC,EAAY,MAW/BC,EAAaC,EAAAC,EAAA,gBAAA,GAAA,KAAA,CACX,KAAM,GACN,MAAO,GACP,kBAAmB,EAAC,EAAA,EAGtBC,EAAUF,EAAAC,EAAA,aAAA,GAAA,IAAGE,EAAE,EAAC,cAAc,CAAA,QAGxB,KAAAC,EAAM,KAAAC,CAAI,EAAKC,GAAU,CAC/B,cAAeP,EAAa,EAC5B,QAASQ,GAAS,CAAG,OAAQb,CAAW,GAAKc,EAAQ,EACrD,SAAWC,GAAoBR,EAAA,SAAcS,GAAcD,EAAWf,CAAW,CAAA,2DAM/D,IAAAiB,EAAAC,EAAA,IAAAT,EAAE,EAAC,YAAY,CAAA,0EAA2B,OAAAU,EAAK,EAAC,yBAANA,CAAK,EAAC,KAAIC,EAAAC,EAAVF,CAAK,CAAA,kEAGxD,IAAAF,EAAAC,EAAA,IAAAT,EAAE,EAAC,yBAAyB,CAAA,uFAEvB,OAAAU,EAAK,EAAC,sCAANA,CAAK,EAAC,kBAAiBC,EAAAC,EAAvBF,CAAK,CAAA,kEAGO,IAAAF,EAAAC,EAAA,IAAAT,EAAE,EAAC,OAAO,CAAA,4EAA4B,OAAAU,EAAK,EAAC,0BAANA,CAAK,EAAC,MAAKC,EAAAC,EAAXF,CAAK,CAAA,qLAKhEX,EAAU,GAAA,EAAA,EAAA,kCAjBnB"}