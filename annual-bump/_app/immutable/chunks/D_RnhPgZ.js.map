{"version":3,"file":"D_RnhPgZ.js","sources":["../../../../../../src/lib/components/mods/compatibility/OutdatedBanner.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityStateText.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityIcon.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityInfo.svelte","../../../../../../src/lib/modals/CompatibilityModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { run } from 'svelte/legacy';\n\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import { CompatibilityState } from '$lib/generated';\n\n  interface Props {\n    compatibility: CompatibilityInfoInput;\n    logo?: boolean;\n  }\n\n  let { compatibility, logo = false }: Props = $props();\n\n  function Worst(input: CompatibilityInfoInput): CompatibilityState {\n    const EA = input.EA.state;\n    if (EA == CompatibilityState.Broken) {\n      // Broken is always the worst\n      return EA;\n    }\n    if (EA == CompatibilityState.Works) {\n      return input.EXP.state; // Anything other than Works is worse\n    }\n    if (input.EXP.state != CompatibilityState.Works) {\n      // If it's not better then it is the worst\n      return input.EXP.state;\n    }\n    return EA;\n  }\n\n  let worst = $state(CompatibilityState.Works);\n  run(() => {\n    if (compatibility) {\n      worst = Worst(compatibility);\n    } else {\n      worst = CompatibilityState.Works;\n    }\n  });\n  let works = $derived(worst === CompatibilityState.Works);\n</script>\n\n{#if !works}\n  <div\n    class=\"mod-outdated-stripe\"\n    style=\"max-width: inherit;\"\n    class:mod-damaged={worst === CompatibilityState.Damaged}\n    class:mod-broken={worst === CompatibilityState.Broken}\n    class:mod-logo-outdated={logo}>\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import type { CompatibilityState } from '$lib/generated';\n  import { getTranslate } from '@tolgee/svelte';\n  interface Props {\n    state?: CompatibilityState;\n  }\n\n  let { state = null }: Props = $props();\n\n  export const { t } = getTranslate();\n\n  const textForState = state ?? ('Unknown' as CompatibilityState);\n  const classForState = (s: CompatibilityState): string => `mod-state-${s.toString().toLowerCase()}`;\n</script>\n\n<p class=\"{classForState(textForState)} mod-state\">\n  {$t(`compatibility-info.state.${textForState.toString().toLowerCase()}`)}\n</p>\n","<script lang=\"ts\">\n  import type { CompatibilityInput } from '$lib/generated';\n  import { CompatibilityState } from '$lib/generated';\n\n  interface Props {\n    compatibility?: CompatibilityInput;\n    EXP?: boolean;\n  }\n\n  let { compatibility = null, EXP = false }: Props = $props();\n  let iconText = $state('rocket_launch');\n  if (EXP) {\n    iconText = 'science';\n  }\n</script>\n\n<p\n  class=\"material-icons text-sm!\"\n  class:mod-state-works={compatibility?.state === CompatibilityState.Works}\n  class:mod-state-damaged={compatibility?.state === CompatibilityState.Damaged}\n  class:mod-state-broken={compatibility?.state === CompatibilityState.Broken}\n  class:mod-state-unknown={!compatibility}>\n  {iconText}\n</p>\n","<script lang=\"ts\">\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import CompatibilityStateText from '$lib/components/mods/compatibility/CompatibilityStateText.svelte';\n  import { markdown } from '../../../utils/markdown';\n  import { getTranslate } from '@tolgee/svelte';\n\n  interface Props {\n    compatibility: CompatibilityInfoInput;\n  }\n\n  let { compatibility }: Props = $props();\n\n  export const { t } = getTranslate();\n  export const compatibilityStateDescriptions: {\n    [key: string]: string;\n  } = {\n    Works: $t('compatibility-info.state.works.description'),\n    Damaged: $t('compatibility-info.state.damaged.description'),\n    Broken: $t('compatibility-info.state.broken.description'),\n    Unknown: $t('compatibility-info.state.unknown.description')\n  };\n</script>\n\n<div>\n  {$t('compatibility-info.maintained-by')}\n  <a href=\"https://discord.gg/xkVJ73E\" style=\"text-decoration: underline\">{$t('discord')}</a>!\n</div>\n<br />\n{#if compatibility}\n  <div>{$t('early-access')}: <CompatibilityStateText state={compatibility?.EA?.state} /></div>\n  <div class=\"compatibility-state-description\">\n    {compatibilityStateDescriptions[compatibility?.EA?.state || 'Unknown']}\n  </div>\n  {#if compatibility.EA.note}\n    <div>\n      {$t('compatibility-info.note')}: {#await markdown(compatibility.EA.note) then rendered}\n        <!-- eslint-disable -->\n        {@html rendered}\n      {/await}\n    </div>\n  {/if}\n  <br />\n  <div>{$t('experimental')}: <CompatibilityStateText state={compatibility?.EXP?.state} /></div>\n  <div class=\"compatibility-state-description\">\n    {compatibilityStateDescriptions[compatibility?.EXP?.state || 'Unknown']}\n  </div>\n  {#if compatibility.EXP.note}\n    <div>\n      {$t('compatibility-info.note')}: {#await markdown(compatibility.EXP.note) then rendered}\n        <!-- eslint-disable -->\n        {@html rendered}\n      {/await}\n    </div>\n  {/if}\n{:else}\n  <div>\n    {compatibilityStateDescriptions.Unknown}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import CompatibilityInfo from '$lib/components/mods/compatibility/CompatibilityInfo.svelte';\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import { getTranslate } from '@tolgee/svelte';\n  import BaseModal from '$lib/components/general/BaseModal.svelte';\n\n  interface Props {\n    compatibility: CompatibilityInfoInput;\n    open?: boolean;\n  }\n\n  let { compatibility, open = $bindable(false) }: Props = $props();\n\n  export const { t } = getTranslate();\n</script>\n\n<BaseModal bind:open>\n  <h2 class=\"text-2xl\">{$t('compatibility-info')}</h2>\n  <div>\n    <CompatibilityInfo {compatibility} />\n  </div>\n</BaseModal>\n"],"names":["logo","Worst","input","EA","$.equals","CompatibilityState","worst","$.tag","$.state","$.proxy","run","$$props","$.set","works","$.derived","$.strict_equals","$.get","$$render","consequent","state","t","getTranslate","textForState","classForState","s","$t","compatibility","EXP","iconText","compatibilityStateDescriptions","$0","$.await","node_3","markdown","rendered","$.template_effect","$.set_text","text_4","node_7","text_7","consequent_1","text_3","text_6","text_8","open","text"],"mappings":"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"}