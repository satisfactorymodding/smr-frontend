{"version":3,"file":"Chku_yZT.js","sources":["../../../../../../src/lib/components/mods/compatibility/EditCompatibilityForm.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import ModCompatibilityEdit from './ModCompatibilityEdit.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { EditModCompatibilityDocument } from '$lib/generated';\n  import { getContextClient } from '@urql/svelte';\n  import { createEventDispatcher } from 'svelte';\n  import { getTranslate } from '@tolgee/svelte';\n\n  interface Props {\n    modId: string;\n    mod: ModData;\n  }\n\n  let { modId, mod = $bindable() }: Props = $props();\n\n  export const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const dispatch = createEventDispatcher();\n\n  async function onSubmit(e: Event) {\n    e.preventDefault();\n    const success = (\n      await client\n        .mutation(EditModCompatibilityDocument, {\n          modId,\n          compatibility: mod.compatibility\n        })\n        .toPromise()\n    ).data.updateModCompatibility;\n    if (success) {\n      dispatch('submit');\n    } else {\n      dispatch('fail');\n    }\n  }\n</script>\n\n<form onsubmit={onSubmit}>\n  <ModCompatibilityEdit bind:compatibilityInfo={mod.compatibility} />\n  <div class=\"p-5\">\n    <button class=\"btn border border-primary-500 preset-tonal-primary\" type=\"submit\">{$t('entry.save')}</button>\n  </div>\n</form>\n"],"names":["mod","$.prop","$$props","t","getTranslate","client","getContextClient","dispatch","createEventDispatcher","onSubmit","e","success","EditModCompatibilityDocument","$$ownership_validator","ModCompatibilityEdit","$$value","$.template_effect","$0","$.set_text","text","$t"],"mappings":"4hBAAA,qFAaeA,EAAGC,EAAAC,EAAA,MAAA,EAAA,EAED,KAAA,CAAA,EAAAC,CAAC,EAAKC,EAAY,EAE3BC,EAASC,EAAgB,EAEzBC,EAAWC,EAAqB,iBAEvBC,EAASC,EAAU,CAChCA,EAAE,eAAc,EACV,MAAAC,WACEN,EACH,SAASO,GACR,MAAKV,EAAA,MACL,cAAeF,EAAG,EAAC,aAAA,CAAA,EAEpB,WAAS,GAAA,EACZ,KAAK,uBAELO,EADEI,EACO,SAEA,MAFQ,CAIrB,8FAI8CX,EAAG,IAAA,gBAAA,GAAA,EAAA,EAAHa,EAAA,QAAA,MAAAC,EAAA,IAAAd,EAAG,EAAC,aAAa,qCAAjB,OAAAA,EAAG,EAAC,iFAAJA,EAAAA,EAAG,EAAC,cAAae,EAAA,EAAA,EAAA,GAAA,EAAA,4GAEqBC,EAAAC,GAAAC,EAAAC,EAAAF,CAAA,EAAA,CAAA,IAAAG,EAAE,EAAC,YAAY,CAAA,CAAA,eAHrFX,CAAQ,gCAFxB"}