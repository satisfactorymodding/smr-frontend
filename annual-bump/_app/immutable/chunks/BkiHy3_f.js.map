{"version":3,"file":"BkiHy3_f.js","sources":["../../../../../../src/lib/utils/forms.ts"],"sourcesContent":["import type { ZodArray, ZodObject, ZodRawShape, ZodTypeAny } from 'zod';\nimport { ZodOptional } from 'zod';\n\nexport const trimNonSchema = <T, K extends T>(data: K, schema: ZodObject<ZodRawShape>): T =>\n  Object.fromEntries(\n    Object.entries(data)\n      .map(([key, value]) => {\n        if (Object.keys(schema.shape).indexOf(key) >= 0) {\n          if (value !== undefined && value !== null && typeof value === 'object') {\n            let objSchema = schema.shape[key];\n            if (objSchema instanceof ZodOptional) {\n              objSchema = (objSchema as ZodOptional<ZodTypeAny>).unwrap();\n            }\n\n            if (Array.isArray(value)) {\n              const arrayType = (objSchema as ZodArray<ZodTypeAny>).element;\n              for (let i = 0; i < value.length; i++) {\n                if (typeof value[i] === 'object') {\n                  value[i] = trimNonSchema(value[i], arrayType as ZodObject<ZodRawShape>);\n                }\n              }\n            } else if (value.constructor.name !== 'File') {\n              value = trimNonSchema(value, objSchema as ZodObject<ZodRawShape>);\n            }\n          }\n\n          return [key, value];\n        }\n\n        return undefined;\n      })\n      .filter((val) => !!val)\n  ) as T;\n"],"names":["trimNonSchema","data","schema","key","value","objSchema","ZodOptional","arrayType","val"],"mappings":"kCAGO,MAAMA,EAAgB,CAAiBC,EAASC,IACrD,OAAO,YACL,OAAO,QAAQD,CAAI,EAChB,IAAI,CAAC,CAACE,EAAKC,CAAK,IAAM,CACrB,GAAI,OAAO,KAAKF,EAAO,KAAK,EAAE,QAAQC,CAAG,GAAK,EAAG,CAC/C,GAA2BC,GAAU,MAAQ,OAAOA,GAAU,SAAU,CACtE,IAAIC,EAAYH,EAAO,MAAMC,CAAG,EAKhC,GAJIE,aAAqBC,IACvBD,EAAaA,EAAsC,OAAA,GAGjD,MAAM,QAAQD,CAAK,EAAG,CACxB,MAAMG,EAAaF,EAAmC,QACtD,QAAS,EAAI,EAAG,EAAID,EAAM,OAAQ,IAC5B,OAAOA,EAAM,CAAC,GAAM,WACtBA,EAAM,CAAC,EAAIJ,EAAcI,EAAM,CAAC,EAAGG,CAAmC,EAG5E,MAAWH,EAAM,YAAY,OAAS,SACpCA,EAAQJ,EAAcI,EAAOC,CAAmC,EAEpE,CAEA,MAAO,CAACF,EAAKC,CAAK,CACpB,CAGF,CAAC,EACA,OAAQI,GAAQ,CAAC,CAACA,CAAG,CAC1B"}