{"version":3,"file":"D-EtTq4V.js","sources":["../../../../../../src/lib/components/mods/compatibility/CompatibilityButton.svelte","../../../../../../src/lib/components/mods/ModCard.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import CompatibilityIcon from './CompatibilityIcon.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import CompatibilityModal from '$lib/modals/CompatibilityModal.svelte';\n\n  interface Props {\n    compatibility: CompatibilityInfoInput;\n  }\n\n  let { compatibility }: Props = $props();\n\n  export const { t } = getTranslate();\n\n  let open = $state(false);\n</script>\n\n<button class=\"m-0 btn min-w-0 px-1 py-0\" title={$t('compatibility-info.button')} onclick={() => (open = true)}>\n  <CompatibilityIcon compatibility={compatibility?.EA} />\n  <CompatibilityIcon compatibility={compatibility?.EXP} EXP={true} />\n</button>\n\n<CompatibilityModal bind:open {compatibility}></CompatibilityModal>\n","<script lang=\"ts\">\n  import type { Mod, Maybe, Version } from '$lib/generated';\n  import { base } from '$app/paths';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n  import { installMod } from '$lib/stores/launcher';\n  import { prettyNumber } from '$lib/utils/formatting';\n  import OutdatedBanner from '$lib/components/mods/compatibility/OutdatedBanner.svelte';\n  import CompatibilityButton from '$lib/components/mods/compatibility/CompatibilityButton.svelte';\n  import TagList from '$lib/components/utils/TagList.svelte';\n\n  interface Props {\n    mod: Pick<\n      Mod,\n      | 'id'\n      | 'mod_reference'\n      | 'name'\n      | 'logo'\n      | 'views'\n      | 'downloads'\n      | 'short_description'\n      | 'compatibility'\n      | 'tags'\n      | 'logo_thumbhash'\n    > & {\n      latestVersions: {\n        alpha?: Maybe<Pick<Version, 'id'>>;\n        beta?: Maybe<Pick<Version, 'id'>>;\n        release?: Maybe<Pick<Version, 'id'>>;\n      };\n    };\n  }\n\n  let { mod }: Props = $props();\n\n  let installable = $derived(\n    'latestVersions' in mod ? mod.latestVersions.alpha || mod.latestVersions.beta || mod.latestVersions.release : false\n  );\n</script>\n\n<FicsitCard\n  name={mod.name}\n  link={base + '/mod/' + mod.mod_reference}\n  logo={mod.logo}\n  thumbhash={mod.logo_thumbhash}\n  description={mod.short_description}>\n  {#snippet stats()}\n    <div class=\"flex flex-row items-center gap-2\">\n      <span><span class=\"material-icons mr-1 align-middle text-sm\">visibility</span>{prettyNumber(mod.views)}</span>\n      <span><span class=\"material-icons mr-1 align-middle text-sm\">download</span>{prettyNumber(mod.downloads)}</span>\n      <CompatibilityButton compatibility={mod.compatibility} />\n    </div>\n  {/snippet}\n  {#snippet tags()}\n    <div>\n      <TagList tags={mod.tags} />\n    </div>\n  {/snippet}\n  {#snippet actions()}\n    {#if installable}\n      <button class=\"btn preset-tonal-surface btn-sm\" title=\"Install\" onclick={() => installMod(mod.mod_reference)}>\n        <span class=\"material-icons\">download</span>\n      </button>\n    {/if}\n  {/snippet}\n  {#snippet outer()}\n    <div>\n      <OutdatedBanner compatibility={mod.compatibility} />\n    </div>\n  {/snippet}\n</FicsitCard>\n"],"names":["t","getTranslate","open","button","$.set","$.template_effect","$0","$.set_attribute","$t","installable","$.tag","$$props","prettyNumber","installMod","$$render","consequent","base"],"mappings":"smBAAA,sEAYiB,CAAA,EAAAA,CAAC,EAAKC,EAAY,EAE7B,IAAAC,MAAc,EAAK,EAAA,MAAA,iDAGyEC,EAAA,QAAA,IAAAC,EAAAF,EAAO,EAAI,2CAC1D,EAAE,kJACF,GAAG,kDAAO,+OAFZG,EAAAC,GAAAC,EAAAJ,EAAA,QAAAG,CAAA,EAAA,CAAA,IAAAE,IAAG,2BAA2B,CAAA,CAAA,gCAF/E,wlBCfA,6BAkCMC,EAAWC,QACb,mBAAgBC,EAAA,UAAc,eAAe,OAAKA,EAAA,IAAQ,eAAe,MAAIA,EAAA,IAAQ,eAAe,QAAU,EAAA,yMAcpE,yGAFuC,IAAAC,QAAiB,KAAK,EACxB,IAAAA,QAAiB,SAAS,qGAMpF,4IAK4DT,EAAA,QAAA,IAAAU,SAAe,aAAa,0BADxGJ,CAAW,GAAAK,EAAAC,CAAA,2HAQqB,+FAzBjCC,EAAO,QAAOL,EAAA,IAAO,aAAa,qCAD9B,sDAEA,mCACK,+CACE,gKAPnB"}