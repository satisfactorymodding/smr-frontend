{"version":3,"file":"voG9bnDH.js","sources":["../../../../../../src/lib/models/versions.ts","../../../../../../src/lib/components/versions/VersionForm.svelte"],"sourcesContent":["import * as zod from 'zod';\nimport JSZip from 'jszip';\nimport { validateUPluginJson } from '$lib/utils/uplugin';\nimport type { Writable } from 'svelte/store';\nimport type { ZodObject, ZodRawShape } from 'zod';\nimport type { File } from '$lib/models/file';\nimport type { VersionStabilities } from '$lib/generated';\nimport { TargetName } from '$lib/generated/graphql';\n\nexport type VersionData = {\n  file: File;\n  changelog: string;\n  stability: VersionStabilities;\n};\n\nexport type VersionMetadata = {\n  uplugin: {\n    Version: string;\n    SemVersion?: string;\n    GameVersion?: string;\n    Plugins?: {\n      Name: string;\n      SemVersion?: string;\n      BasePlugin?: boolean;\n      Optional?: boolean;\n    }[];\n  };\n  objects: string[];\n  targets: string[];\n};\n\nconst ALLOWED_TARGETS = Object.keys(TargetName)\n  .map((key) => TargetName[key])\n  .filter((value) => typeof value === 'string') as TargetName[];\n\nconst readUPluginJson = async (\n  uPluginJson: string,\n  modReference: string\n): Promise<{ [key: string]: unknown } | VersionMetadata['uplugin']> => {\n  const result = await validateUPluginJson(uPluginJson);\n\n  if (result.length != 0) {\n    return {\n      message: `invalid ${modReference}.uplugin`,\n      extended: result\n    };\n  }\n\n  const parsed = JSON.parse(uPluginJson) as VersionMetadata['uplugin'];\n\n  const hasSMLDependency = parsed.Plugins?.some((plugin) => plugin.Name === 'SML');\n  const hasGameVersion = !!parsed.GameVersion;\n\n  if (!hasSMLDependency && !hasGameVersion) {\n    return {\n      message: `either GameVersion or SML dependency must be present in ${modReference}.uplugin`\n    };\n  }\n\n  return parsed;\n};\n\nfunction basename(path: string): string {\n  const parts = path.split('/');\n  return parts[parts.length - 1];\n}\n\nfunction dirname(path: string): string {\n  const parts = path.split('/');\n  return parts.slice(0, parts.length - 1).join('/');\n}\n\nconst objectExtensions = ['.so', '.dll', '.pak', '.utoc', '.ucas'];\n\nconst validateModZip = async (\n  file: unknown,\n  modReference: string\n): Promise<{ [key: string]: unknown } | VersionMetadata> => {\n  const zipper = new JSZip();\n  return (\n    zipper\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      .loadAsync(file as any)\n      .then(async (zip) => {\n        const uPluginFiles = zip.filter((filePath) => basename(filePath) == modReference + '.uplugin');\n\n        if (uPluginFiles.length === 0) {\n          return {\n            message: 'Mod does not contain any ' + modReference + '.uplugin files'\n          };\n        }\n\n        const objects = Object.keys(zip.files).filter((f) => objectExtensions.some((ext) => f.endsWith(ext)));\n\n        if (uPluginFiles.length === 1 && uPluginFiles[0].name === modReference + '.uplugin') {\n          // Single-target mod\n          const uPluginData = await readUPluginJson(await uPluginFiles[0].async('string'), modReference);\n\n          if ('message' in uPluginData) {\n            return uPluginData;\n          }\n\n          return {\n            uplugin: uPluginData,\n            objects,\n            targets: ['Windows']\n          };\n        }\n\n        // Multi-target mod\n        if (uPluginFiles.some((f) => f.name === modReference + '.uplugin')) {\n          return {\n            message:\n              'Mod contains ' +\n              modReference +\n              '.uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html'\n          };\n        }\n\n        const targets = uPluginFiles.map((f) => dirname(f.name));\n\n        const invalidTargets = targets.filter((t) => !ALLOWED_TARGETS.includes(t as TargetName));\n        if (invalidTargets.length !== 0) {\n          return {\n            message: `invalid target(s): ${invalidTargets.join(', ')}`\n          };\n        }\n\n        const outsideFiles = zip.filter((filePath) => !targets.some((target) => filePath.startsWith(target + '/')));\n        if (outsideFiles.length !== 0) {\n          return {\n            message: `file(s) outside target directories: ${outsideFiles.map((f) => f.name).join(', ')}`\n          };\n        }\n\n        const uPluginFilesData = await Promise.all(\n          uPluginFiles.map((f) =>\n            f.async('string').catch((err) => {\n              // Will be caught by the .catch below\n              throw new Error(`invalid ${modReference}.uplugin: ${err}`);\n            })\n          )\n        );\n\n        if (!uPluginFilesData.every((f) => f === uPluginFilesData[0])) {\n          return {\n            message: 'Mod contains ' + modReference + '.uplugin files with different contents'\n          };\n        }\n\n        // Since the .uplugin files are all the same, we only need to parse one\n        const uPluginData = await readUPluginJson(uPluginFilesData[0], modReference);\n\n        if ('message' in uPluginData) {\n          return uPluginData;\n        }\n\n        return {\n          uplugin: uPluginData,\n          objects,\n          targets\n        };\n      })\n      .catch((err) => ({\n        message: 'invalid zip/smod file: ' + err\n      }))\n  );\n};\n\nexport const constructVersionSchema = (\n  modReference: string,\n  modMetadata: Writable<VersionMetadata>\n): ZodObject<ZodRawShape> =>\n  zod.object({\n    file: zod.optional(\n      zod.any().superRefine(async (file, ctx) => {\n        if (!('name' in file && 'size' in file && 'type' in file)) {\n          ctx.addIssue({\n            message: 'Unknown file error',\n            code: zod.ZodIssueCode.custom\n          });\n          return;\n        }\n\n        const result = await validateModZip(file, modReference);\n\n        if ('message' in result) {\n          ctx.addIssue({\n            message: result.message as string,\n            code: zod.ZodIssueCode.custom\n          });\n          return;\n        }\n\n        modMetadata.set(result as VersionMetadata);\n      })\n    ),\n    changelog: zod.string(),\n    stability: zod.string()\n  });\n","<script lang=\"ts\">\n  import { createForm } from 'felte';\n  import { validator } from '@felte/validator-zod';\n  import { reporter, ValidationMessage } from '@felte/reporter-svelte';\n  import type { VersionData, VersionMetadata } from '$lib/models/versions';\n  import { constructVersionSchema } from '$lib/models/versions';\n  import { trimNonSchema } from '$lib/utils/forms';\n  import { markdown } from '$lib/utils/markdown';\n  import { writable } from 'svelte/store';\n  import { VersionStabilities } from '$lib/generated';\n  import { prettyBytes } from '$lib/utils/formatting';\n  import { getTranslate } from '@tolgee/svelte';\n\n  export const { t } = getTranslate();\n\n  interface Props {\n    modReference: string;\n    onSubmit: (data: VersionData) => Promise<void>;\n    initialValues?: Omit<VersionData, 'file'>;\n    submitIcon: string;\n    submitText?: string;\n    editing?: boolean;\n  }\n\n  let {\n    modReference,\n    onSubmit,\n    initialValues = {\n      changelog: '',\n      stability: VersionStabilities.Release\n    },\n    submitIcon,\n    submitText = $t('entry.create'),\n    editing = false\n  }: Props = $props();\n\n  const modMeta = writable<VersionMetadata>();\n\n  let disabled = $state(false);\n\n  const versionSchema = constructVersionSchema(modReference, modMeta);\n  const { form, data } = createForm<VersionData>({\n    initialValues: initialValues as VersionData,\n    extend: [validator({ schema: versionSchema }), reporter],\n    onSubmit: (submitted: VersionData) => {\n      disabled = true;\n      onSubmit(trimNonSchema(submitted, versionSchema)).then(() => (disabled = false));\n    }\n  });\n\n  let preview = $derived(($data.changelog as string) || '');\n  let dependencies = $derived($modMeta?.uplugin?.Plugins?.filter((d) => !d.BasePlugin) || []);\n</script>\n\n<form use:form>\n  <div class=\"grid grid-flow-row gap-6\">\n    {#if !editing}\n      <div class=\"grid grid-flow-row gap-2\">\n        <label for=\"file\">{$t('file')} *</label>\n        <input id=\"file\" class=\"base-input\" name=\"file\" type=\"file\" accept=\".zip,.smod\" placeholder=\"File\" />\n        <ValidationMessage for=\"file\">\n          {#snippet children({ messages: message })}\n            <span class=\"validation-message\">{message || ''}</span>\n          {/snippet}\n        </ValidationMessage>\n      </div>\n\n      {#if $data.file}\n        <div>\n          <span><strong>{$t('file-type')}:</strong> {$data.file.type || 'Unknown'}</span><br />\n          <span><strong>{$t('file-size')}:</strong> {prettyBytes($data.file.size)}</span>\n        </div>\n      {/if}\n\n      {#if $modMeta}\n        <div>\n          <p class=\"mb-4\">\n            <span><strong>{$t('version')}:</strong> {$modMeta.uplugin.Version}<br /></span>\n\n            {#if $modMeta.uplugin.SemVersion !== undefined}\n              <span><strong>SemVersion:</strong> {$modMeta.uplugin.SemVersion}<br /></span>\n            {:else}\n              <span class=\"text-yellow-600\">\n                {$t('version-form.missing-sem-version')}\n                {$modMeta.uplugin.Version}.0.0\n              </span>\n            {/if}\n\n            {#if $modMeta.uplugin.GameVersion !== undefined}\n              <span><strong>Game version:</strong> {$modMeta.uplugin.GameVersion}<br /></span>\n            {:else}\n              <span class=\"text-yellow-600\">\n                {$t('version-form.missing-game-version')}\n              </span>\n            {/if}\n          </p>\n\n          <span><strong>Targets:</strong> {$modMeta.targets.join(', ')}<br /></span>\n\n          {#if $modMeta.uplugin.Plugins !== undefined}\n            <p>\n              <strong>{$t('dependencies')}:</strong><br />\n              {#each dependencies as dependency (dependency.Name)}\n                <strong>{dependency.Name}: </strong>\n                {#if dependency.SemVersion}\n                  <span>{dependency.SemVersion}</span>\n                {:else}\n                  <span>*</span>\n                {/if}\n                <br />\n              {/each}\n            </p>\n          {/if}\n\n          {#if $modMeta.objects && $modMeta.objects.length > 0}\n            <p>\n              <strong>{$t('objects')}:</strong><br />\n              {#each $modMeta.objects as object (object)}\n                <span>{object}</span>\n                <br />\n              {/each}\n            </p>\n          {:else}\n            <p>\n              <span class=\"text-yellow-600\">\n                {$t('version-form.missing-sem-version')}\n              </span>\n            </p>\n          {/if}\n        </div>\n      {/if}\n    {/if}\n\n    <div class=\"split grid gap-6\">\n      <div class=\"grid grid-flow-row auto-rows-max gap-2\">\n        <label class=\"label\">\n          <span>{$t('changelog')} *</span>\n          <textarea class=\"vertical-textarea textarea p-2\" bind:value={$data.changelog} required rows={10}></textarea>\n        </label>\n        <ValidationMessage for=\"changelog\">\n          {#snippet children({ messages: message })}\n            <span class=\"validation-message\">{message || ''}</span>\n          {/snippet}\n        </ValidationMessage>\n      </div>\n      <div class=\"grid grid-flow-row auto-rows-max gap-2\">\n        <span>{$t('preview')}:</span>\n        {#await markdown(preview) then previewRendered}\n          <!-- eslint-disable-next-line -->\n          <div class=\"markdown-content right\">{@html previewRendered}</div>\n        {/await}\n      </div>\n    </div>\n\n    <div class=\"text-muted\">\n      {$t('version-form.agreement-to')} <a href=\"/content-policy\">{$t('content-policy')}</a>.\n    </div>\n\n    <div>\n      <button class=\"btn border border-primary-500 preset-tonal-primary\" type=\"submit\" {disabled}>\n        <span class=\"material-icons pr-2\">{submitIcon}</span>\n        {submitText}\n      </button>\n    </div>\n  </div>\n</form>\n\n<style lang=\"postcss\">\n  @reference \"../../../app.css\";\n\n  .split {\n    grid-template-columns: 50% 50%;\n\n    & .right {\n      max-height: 75vh;\n      overflow: auto;\n    }\n  }\n\n  a {\n    @apply text-yellow-500 underline;\n  }\n</style>\n"],"names":["ALLOWED_TARGETS","TargetName","key","value","readUPluginJson","uPluginJson","modReference","result","validateUPluginJson","parsed","hasSMLDependency","plugin","hasGameVersion","basename","path","parts","dirname","objectExtensions","validateModZip","file","JSZip","zip","uPluginFiles","filePath","objects","f","ext","uPluginData","targets","invalidTargets","t","outsideFiles","target","uPluginFilesData","err","constructVersionSchema","modMetadata","zod.object","zod.optional","zod.any","ctx","zod.ZodIssueCode","zod.string","getTranslate","initialValues","$.prop","$$props","VersionStabilities","submitText","$t","editing","modMeta","writable","disabled","versionSchema","form","data","createForm","validator","reporter","submitted","$.set","trimNonSchema","preview","$.tag","$.derived","$data","dependencies","$modMeta","d","message","$.template_effect","$.set_text","text_1","text_3","prettyBytes","$$render","consequent","$.strict_equals","consequent_1","alternate","$0","text_11","consequent_2","alternate_1","$.validate_each_keys","$.get","dependency","$.each","node_7","text_15","consequent_3","alternate_2","text_14","text_13","consequent_4","object","node_10","text_16","text_18","consequent_5","alternate_3","consequent_6","text","consequent_7","text_20","markdown","$$anchor","previewRendered","$.bind_value","textarea","$$value","$.store_mutate","$.untrack"],"mappings":"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"}