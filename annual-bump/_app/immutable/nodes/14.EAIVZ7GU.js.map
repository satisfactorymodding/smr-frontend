{"version":3,"file":"14.EAIVZ7GU.js","sources":["../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../src/routes/guides/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { queryStore, getContextClient } from '@urql/svelte';\n  import { GetGuidesDocument } from '$lib/generated';\n  import GuideCard from './GuideCard.svelte';\n  import { base } from '$app/paths';\n  import { user } from '$lib/stores/user';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import Pager from '$lib/components/general/Pager.svelte';\n\n  interface Props {\n    colCount?: 4 | 5;\n    newGuide?: boolean;\n  }\n\n  let { colCount = 4, newGuide = false }: Props = $props();\n\n  const client = getContextClient();\n\n  let perPage = $state(32);\n  let page = $state(0);\n\n  export const { t } = getTranslate();\n\n  let guides = $derived(\n    queryStore({\n      query: GetGuidesDocument,\n      client,\n      variables: { offset: page * perPage, limit: perPage }\n    })\n  );\n\n  let totalGuides = $derived($guides?.data?.getGuides?.count || 0);\n\n  let gridClasses = $derived(\n    colCount == 4\n      ? '3xl:grid-cols-4 2xl:grid-cols-3 lg:grid-cols-2 grid-cols-1'\n      : '3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1'\n  );\n</script>\n\n<div\n  class=\"mb-5 ml-auto flex\"\n  class:justify-between={newGuide && $user !== null}\n  class:justify-end={!newGuide || $user == null}>\n  {#if newGuide && $user !== null}\n    <a class=\"btn border border-primary-500 preset-tonal-primary\" href=\"{base}/new-guide\">{$t('guides.new')}</a>\n  {/if}\n\n  <div>\n    <Pager bind:page bind:perPage total={totalGuides} />\n  </div>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _, i (i)}\n      <FicsitCard fake />\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>{$t('error.oh-no')} {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide (guide.id)}\n      <GuideCard {guide} logo={guide.user.avatar} />\n    {/each}\n  </div>\n{/if}\n\n<div class=\"mt-5 ml-auto flex justify-end\">\n  <div>\n    <Pager bind:page bind:perPage total={totalGuides} />\n  </div>\n</div>\n","<script lang=\"ts\">\n  import GuideGrid from '$lib/components/guides/GuideGrid.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Guides for Satisfactory and modding Satisfactory\" title=\"Guides\" />\n</svelte:head>\n\n<GuideGrid newGuide={true} colCount={4} />\n"],"names":["colCount","newGuide","client","getContextClient","perPage","page","t","getTranslate","guides","$.tag","queryStore","GetGuidesDocument","$.get","totalGuides","$.derived","$guides","gridClasses","$.equals","base","$t","$.strict_equals","$user","$$render","consequent","$.index","$$anchor","_","$.template_effect","$0","$.set_text","text_1","guide","$.each","div_3","consequent_2","alternate","consequent_1","alternate_1","$.add_svelte_meta","GuideGrid","_page"],"mappings":"o+BAAA,4JAeQ,IAAAA,oBAAW,CAAC,EAAEC,mBAAW,EAAK,EAE9B,MAAAC,GAASC,GAAgB,EAE3B,IAAAC,MAAiB,EAAE,EAAA,SAAA,EACnBC,MAAc,CAAC,EAAA,MAAA,EAEJ,KAAA,CAAA,EAAAC,CAAC,EAAKC,GAAY,MAE7BC,EAAMC,QACRC,GAAU,CACR,MAAOC,GACP,OAAAT,GACA,UAAS,CAAI,OAAMU,EAAEP,CAAI,IAAGD,CAAO,EAAE,MAAKQ,EAAER,CAAO,CAAA,eAInDS,EAAWJ,EAAAK,EAAA,IAAYC,EAAO,GAAE,MAAM,WAAW,OAAS,CAAC,EAAA,aAAA,EAE3DC,EAAWP,EACbK,EAAA,IAAAG,EAAAjB,GAAQ,EAAI,CAAA,EACR,6DACA,6CAA4C,8IASqBkB,IAAI,EAAA,YAAA,UAAc,CAAA,IAAAC,EAAE,EAAC,YAAY,CAAA,yBADnGlB,EAAQ,GAAAmB,EAAIC,EAAK,EAAK,KAAI,EAAA,GAAAC,EAAAC,EAAA,wEAKQV,CAAW,oNAMzC,MAAKD,EAACR,CAAO,CAAA,EAAAoB,GAAA,CAAAC,EAAKC,IAAC,mHADVV,CAAW,GAAA,EAAA,QAAA,CAAA,qEAMLW,EAAAC,GAAAC,EAAAC,EAAA,GAAAF,GAAA,EAAA,IAAAb,EAAO,EAAC,MAAM,SAAO,EAAA,EAAA,EAAA,CAAA,IAAzCI,EAAE,EAAC,aAAa,CAAA,CAAA,mCAGXJ,EAAO,EAAC,KAAK,UAAU,OAAUgB,GAAOA,EAAM,EAAE,IAAhD,IAAAC,GAAAC,EAAA,EAAA,IAAAlB,EAAO,EAAC,KAAK,UAAU,OAAUgB,GAAOA,EAAM,MAAbA,IAAK,0DAClBA,CAAK,EAAC,KAAK,qGAFtBf,CAAW,GAAA,EAAA,QAAA,CAAA,wBAHrBD,EAAO,EAAC,MAAKO,EAAAY,CAAA,EAAAZ,EAAAa,GAAA,EAAA,0CANlBpB,EAAO,EAAC,SAAQO,EAAAc,EAAA,EAAAd,EAAAe,GAAA,EAAA,+EAkBoBxB,CAAW,0NA7B3BZ,EAAQ,GAAAmB,EAAIC,EAAK,EAAK,KAAI,EAAA,iBAC7BpB,EAAQ,GAAAgB,EAAII,EAAK,EAAI,IAAI,wCAL/C,sDCvCA,2MASqBiB,EAAA,IAAAC,EAAAd,EAAA,CAAA,SAAA,YAAgB,CAAC,CAAA,EAAA,YAAAe,EAAA,GAAA,EAAA,CAAA,aAAA,YAAA,OANtC"}