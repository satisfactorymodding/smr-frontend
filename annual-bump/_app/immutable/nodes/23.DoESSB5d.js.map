{"version":3,"file":"23.DoESSB5d.js","sources":["../../../../../../src/routes/new-guide/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContextClient } from '@urql/svelte';\n  import { NewGuideDocument } from '$lib/generated';\n  import { goto } from '$app/navigation';\n  import GuideForm from '$lib/components/guides/GuideForm.svelte';\n  import type { GuideData } from '$lib/models/guides';\n  import { base } from '$app/paths';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import { toaster } from '$lib/utils/toaster-svelte';\n\n  const client = getContextClient();\n\n  const onSubmit = (data: GuideData) => {\n    client\n      .mutation(NewGuideDocument, {\n        guide: data\n      })\n      .toPromise()\n      .then((value) => {\n        if (value.error) {\n          console.error(value.error.message);\n          toaster.error({\n            description: 'Error creating guide: ' + value.error.message\n          });\n        } else {\n          toaster.success({\n            description: `Guide created`,\n            duration: 5000\n          });\n          goto(base + '/guide/' + value.data.createGuide.id);\n        }\n      });\n  };\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Creating a new guide\" title=\"New guide\" />\n</svelte:head>\n\n<h1 class=\"my-4 text-4xl font-bold\">New Guide</h1>\n\n<div class=\"card preset-filled-surface-100-900 p-4\">\n  <section>\n    <GuideForm {onSubmit} submitIcon=\"add_circle\" />\n  </section>\n</div>\n"],"names":["client","getContextClient","onSubmit","data","NewGuideDocument","value","$.log_if_contains_state","toaster","goto","base"],"mappings":"6jBAAA,yBAUQ,MAAAA,EAASC,EAAgB,EAEzBC,EAAYC,GAAoB,CACpCH,EACG,SAASI,EAAgB,CACxB,MAAOD,EAAA,EAER,UAAS,EACT,KAAME,GAAU,CACXA,EAAM,OACR,QAAQ,MAAK,GAAAC,EAAA,QAACD,EAAM,MAAM,OAAO,CAAA,EACjCE,EAAQ,MAAK,CACX,YAAa,yBAA2BF,EAAM,MAAM,QAAA,IAGtDE,EAAQ,QAAO,CACb,YAAW,gBACX,SAAU,IAAA,EAEZC,EAAKC,EAAO,UAAYJ,EAAM,KAAK,YAAY,EAAE,EAErD,CAAC,CACL,gUACF"}