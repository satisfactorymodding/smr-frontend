import{aw as nt,a as he,p as $e,f as we,g as h,m as s,n as ae,k as o,L as t,Q as it,q as l,r as xe,R as dt,u as O,S as e,F as v,y as $,X as Se,a4 as L,t as Ae,h as F,a0 as Z,a1 as i,C as le,G as ve,a9 as Je,U as Xe,ah as y,I as lt,Y as vt,J as Be,K as ct,O as pt,N as mt,D as _e,ae as je,af as fe,z as Ue,aQ as be,a6 as Me,ab as He,aD as gt,az as Ce,ad as ut,a8 as _t}from"../chunks/C90Be9iR.js";import{w as ft,A as bt,K as ht}from"../chunks/C2xQDKU4.js";import{l as $t}from"../chunks/Bi2QyF3C.js";import{m as wt}from"../chunks/rlXBDvSR.js";import{A as xt}from"../chunks/DZlxvIB3.js";import{a as yt,p as Vt,b as Tt,c as Pt}from"../chunks/DomivD8e.js";import{I as Dt,P as It}from"../chunks/BXwJ0UMO.js";import{M as kt}from"../chunks/DN0KTx-o.js";import{a as Ke}from"../chunks/CDGGhnbA.js";import{u as Le}from"../chunks/xNDX8WaE.js";import{i as Mt}from"../chunks/CpLG6daU.js";import{V as Ct,a as St}from"../chunks/BSnqbSUG.js";import{Q as At}from"../chunks/LDwLMLnf.js";import{t as We}from"../chunks/CTLp1XiY.js";import{B as Nt}from"../chunks/PJ6b_Mab.js";const Et=async({params:D,parent:d})=>({...D,...await $t({version:nt({query:ft,client:(await d()).client,variables:{version:D.versionId}})})}),pa=Object.freeze(Object.defineProperty({__proto__:null,load:Et},Symbol.toStringTag,{value:"Module"}));Q[v]="src/lib/components/versions/VersionDescription.svelte";var Rt=h($('<div class="p-4"><!></div>'),Q[v],[[16,4]]),zt=h($("<p><!></p>"),Q[v],[[27,10]]),Gt=h($('<div><!> <div class="h-fit card preset-filled-surface-100-900 p-4"><section><div class="markdown-content break-words"><!></div></section></div></div>'),Q[v],[[14,0,[[22,2,[[23,4,[[24,6]]]]]]]]);function Q(D,d){he(new.target),$e(d,!0,Q);var n={...we()},r=Gt(),C=t(r);{var b=c=>{var f=Rt(),g=t(f);s(()=>xt(g,{get importance(){return bt.Warning},message:"This version has not yet been approved by the virus scanner and is hidden until this process is complete. If this message isn't gone in the next few minutes, ask for manual approval on the Discord."}),"component",Q,17,6,{componentTag:"AnnouncementRow"}),e(f),l(c,f)};s(()=>ae(C,c=>{d.approved||c(b)}),"if",Q,15,2)}var B=o(C,2),V=t(B),m=t(V),I=t(m);return s(()=>it(I,()=>wt(d.changelog),null,(c,f)=>{var g=zt(),S=t(g);dt(S,()=>O(f)),e(g),l(c,g)}),"await",Q,25,8),e(m),e(V),e(B),e(r),l(D,r),xe(n)}re[v]="src/lib/components/versions/VersionInfo.svelte";var qt=h($("<span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span>",1),re[v],[[17,2,[[17,8]]],[17,90],[18,2,[[18,8]]],[18,84],[19,2,[[19,8]]],[19,77],[20,2,[[20,8]]],[20,73],[21,2,[[21,8]]]]);function re(D,d){he(new.target),$e(d,!0,re);const n=()=>(ve(b,"t"),le(b,"$t",r)),[r,C]=Ae(),{t:b}=Se();var B={get t(){return b},...we()};s(()=>Dt(D,{children:L(re,(m,I)=>{var c=qt(),f=F(c),g=t(f),S=t(g);e(g);var A=o(g);e(f);var W=o(f,3),N=t(W),u=t(N);e(N);var k=o(N);e(W);var E=o(W,3),w=t(E),R=t(w);e(w);var se=o(w);e(E);var z=o(E,3),_=t(z),x=t(_);e(_);var T=o(_);e(z);var M=o(z,3),P=t(M),j=t(P);e(P);var G=o(P);e(M),Z((q,U,ne,J,H,K,ie,ee)=>{i(S,`${q??""}:`),i(A,` ${U??""}`),i(u,`${ne??""}:`),i(k,` ${J??""}`),i(R,`${H??""}:`),i(se,` ${d.version.game_version??""}`),i(x,`${K??""}:`),i(T,` ${ie??""}`),i(j,`${ee??""}:`),i(G,` ${d.version.hash??""}`)},[()=>n()("entry.created-at"),()=>yt(d.version.created_at),()=>n()("downloads"),()=>Vt(d.version.downloads),()=>n()("game-versions"),()=>n()("size"),()=>Tt(d.version.size),()=>n()("hash")]),l(m,c)}),$$slots:{default:!0}}),"component",re,16,0,{componentTag:"InfoCard"});var V=xe(B);return C(),V}oe[v]="src/lib/components/versions/VirustotalResults.svelte";var Ft=h($('<tr class="rounded border !border-surface-500"><td><div> </div></td><td><div class="text-center"><a target="_blank" class="text-white"><span class="material-icons text-center" style="width: 20px">policy</span></a></div></td><td><div class="text-center"><span class="material-icons text-center" style="width: 20px"> </span></div></td></tr>'),oe[v],[[28,8,[[29,10,[[30,12]]],[32,10,[[33,12,[[34,14,[[39,16]]]]]]],[45,10,[[46,13,[[47,14]]]]]]]]),Ot=h($('<div class="grid grid-flow-row"><h3 class="my-4 text-2xl font-bold"> </h3> <table class="max-w-auto table !overflow-visible"><tbody><tr class="rounded border !border-surface-500"><td style="width: 25%;"><div> </div></td><td style="width: 25%;"><div class="text-center"> </div></td><td style="width: 25%;"><div class="text-center"> </div></td></tr><!></tbody></table></div>'),oe[v],[[13,0,[[14,2],[15,2,[[16,4,[[17,6,[[18,8,[[19,11]]],[22,8,[[23,11]]],[24,8,[[25,11]]]]]]]]]]]]);function oe(D,d){he(new.target),$e(d,!0,oe);const n=()=>(ve(b,"t"),le(b,"$t",r)),[r,C]=Ae(),{t:b}=Se();var B={get t(){return b},...we()},V=Ot(),m=t(V),I=t(m,!0);e(m);var c=o(m,2),f=t(c),g=t(f),S=t(g),A=t(S),W=t(A,!0);e(A),e(S);var N=o(S),u=t(N),k=t(u,!0);e(u),e(N);var E=o(N),w=t(E),R=t(w,!0);e(w),e(E),e(g);var se=o(g);Je(()=>d.results,_=>_.file_name),s(()=>Xe(se,17,()=>d.results,_=>_.file_name,(_,x)=>{var T=Ft(),M=t(T),P=t(M),j=t(P,!0);e(P),e(M);var G=o(M),q=t(G),U=t(q),ne=t(U);e(U),e(q),e(G);var J=o(G),H=t(J),K=t(H),ie=t(K,!0);e(K),e(H),e(J),e(T),Z((ee,ce,pe)=>{i(j,O(x).file_name),y(U,"title",ee),y(U,"href",`https://www.virustotal.com/gui/file/${O(x).hash}`),y(ne,"title",ce),y(K,"title",pe),i(ie,O(x).safe?"checkmark":"cancel")},[()=>n()("version.virustotal.result"),()=>n()("version.virustotal.result"),()=>O(x).safe?n()("version.virustotal.safe"):n()("version.virustotal.not_safe")]),l(_,T)}),"each",oe,27,6),e(f),e(c),e(V),Z((_,x,T,M,P,j,G,q)=>{i(I,_),y(c,"aria-label",x),y(A,"title",T),i(W,M),y(u,"title",P),i(k,j),y(w,"title",G),i(R,q)},[()=>n()("virustotal.table.title"),()=>n()("virustotal.table.title"),()=>n()("virustotal.table.file_name"),()=>n()("virustotal.table.file_name"),()=>n()("virustotal.table.results"),()=>n()("virustotal.table.results"),()=>n()("virustotal.table.safe"),()=>n()("virustotal.table.safe")]),l(D,V);var z=xe(B);return C(),z}a[v]="src/routes/mod/[modId]/version/[versionId]/+page.svelte";var Qt=h($('<button class="btn border border-primary-500 preset-tonal-primary"><span class="material-icons pr-2">edit_document</span> Edit</button> <!> <button class="btn border border-primary-500 preset-tonal-primary"><span class="material-icons pr-2">delete</span> Delete</button>',1),a[v],[[87,12,[[90,14]]],[101,12,[[102,14]]]]),Bt=h($(' <span class="material-icons" style="margin: 0;">arrow_drop_down</span>',1),a[v],[[111,16]]),jt=h($('<li><a class="w-full"><span> </span></a></li>'),a[v],[[119,26,[[120,28,[[130,30]]]]]]),Ut=h($('<nav class="list-nav"><ul></ul></nav>'),a[v],[[116,20,[[117,22]]]]),Ht=h($("<!> <!>",1),a[v],[]),Kt=h($('<a class="btn border border-primary-500 preset-tonal-primary">View</a> <a class="btn border border-primary-500 preset-tonal-primary">Download</a>',1),a[v],[[141,12],[144,12]]),Lt=h($('<div class="xlx:grid-flow-row grid gap-6"><div class="flex h-auto flex-wrap items-center justify-between"><h1 class="text-4xl font-bold"> </h1> <div class="grid grid-flow-col gap-4"><!> <!> <button class="btn border border-primary-500 preset-tonal-primary" title="Install via Satisfactory Mod Manager"><span class="material-icons">download</span> <span>Install</span></button> <a class="btn border border-primary-500 preset-tonal-primary" title="View the description page for this mod"><span class="material-icons">extension</span> <span> </span></a></div></div> <div class="grid-auto-max grid auto-cols-fr gap-4"><!> <div class="grid auto-rows-min grid-cols-1 gap-8"><!> <!> <!> <!></div></div></div>'),a[v],[[78,4,[[79,6,[[80,8],[85,8,[[148,10,[[152,12],[153,12]]],[155,10,[[159,12],[160,12]]]]]]],[164,6,[[168,8]]]]]]);function a(D,d){he(new.target),$e(d,!0,a);const n=()=>(ve(Le,"user"),le(Le,"$user",b)),r=()=>(ve(c,"version"),le(c,"$version",b)),C=()=>(ve(V,"t"),le(V,"$t",b)),[b,B]=Ae(),{t:V}=Se(),{modId:m,versionId:I,version:c}=d.data,f=vt();let g=Be(pt(()=>n()?.roles?.deleteContent||r()?.data?.getVersion.mod?.authors?.findIndex(u=>Ce(u.user_id,n()?.id))>=0),"canUserEdit");const S=()=>{f.mutation(ht,{versionId:I}).toPromise().then(u=>{u.error?(console.error(...ut("error",u.error.message)),We.error({description:"Error deleting version: "+u.error.message})):(We.success({description:"Version deleted",duration:5e3}),je(fe+"/mod/"+m))})};let A=Be(mt(!1),"deleteModalOpen");var W={...we()};ct("topcvo",u=>{var k=_e(),E=F(k);{var w=R=>{s(()=>kt(R,{get description(){return`Information for mod version ${r().data.getVersion.mod.name??""} ${r().data.getVersion.version??""}`},get title(){return`Mod version ${r().data.getVersion.mod.name??""} ${r().data.getVersion.version??""}`}}),"component",a,66,4,{componentTag:"MetaDescriptors"})};s(()=>ae(E,R=>{!r().fetching&&!r().error&&r().data.getVersion&&R(w)}),"if",a,65,2)}l(u,k)});{const u=L(a,function(k){_t(...arguments),s(()=>It(k,{}),"component",a,74,4,{componentTag:"Page404"})});s(()=>At(D,{get query(){return c},empty:u,children:L(a,(k,E)=>{var w=_e(),R=F(w);{var se=z=>{var _=Lt(),x=t(_),T=t(x),M=t(T);e(T);var P=o(T,2),j=t(P);{var G=p=>{var X=Qt(),te=F(X);te.__click=()=>je(fe+"/mod/"+m+"/version/"+I+"/edit");var Y=o(te,2);s(()=>Nt(Y,{title:"Delete version?",body:"Are you sure you wish to delete this version?",buttonTextCancel:"Cancel",buttonTextConfirm:"Delete",confirm:S,get open(){return O(A)},set open(ye){Ue(A,ye,!0)}}),"component",a,94,12,{componentTag:"BasicModal"});var me=o(Y,2);me.__click=()=>Ue(A,!0),l(p,X)};s(()=>ae(j,p=>{O(g)&&p(G)}),"if",a,86,10)}var q=o(j,2);{var U=p=>{s(()=>be(p,{children:L(a,(X,te)=>{var Y=Ht(),me=F(Y);s(()=>Me(me,()=>be.Trigger,(Ve,ze)=>{ze(Ve,{class:"btn border border-primary-500 preset-tonal-primary",title:"Download a specific release target of this mod",children:L(a,(ge,Ge)=>{He();var ue=Bt(),Te=F(ue);He(),Z(Pe=>i(Te,`${Pe??""} `),[()=>C()("download")]),l(ge,ue)}),$$slots:{default:!0}})}),"component",a,107,14,{componentTag:"Popover.Trigger"});var ye=o(me,2);s(()=>gt(ye,{children:L(a,(Ve,ze)=>{var ge=_e(),Ge=F(ge);s(()=>Me(Ge,()=>be.Positioner,(ue,Te)=>{Te(ue,{children:L(a,(Pe,Wt)=>{var qe=_e(),et=F(qe);s(()=>Me(et,()=>be.Content,(tt,at)=>{at(tt,{class:"z-10 w-72 card preset-filled-surface-100-900 shadow-xl",children:L(a,(rt,Jt)=>{var De=Ut(),Fe=t(De);Je(()=>r().data.getVersion.targets,de=>de.targetName),s(()=>Xe(Fe,5,()=>r().data.getVersion.targets,de=>de.targetName,(de,Oe)=>{var Ie=jt(),ke=t(Ie),Qe=t(ke),ot=t(Qe);e(Qe),e(ke),e(Ie),Z(st=>{y(ke,"href",Ke+"/mod/"+m+"/versions/"+I+"/"+O(Oe).targetName+"/download"),i(ot,`Download ${st??""}`)},[()=>Pt(O(Oe).targetName)]),l(de,Ie)}),"each",a,118,24),e(Fe),e(De),l(rt,De)}),$$slots:{default:!0}})}),"component",a,115,18,{componentTag:"Popover.Content"}),l(Pe,qe)}),$$slots:{default:!0}})}),"component",a,114,16,{componentTag:"Popover.Positioner"}),l(Ve,ge)}),$$slots:{default:!0}}),"component",a,113,14,{componentTag:"Portal"}),l(X,Y)}),$$slots:{default:!0}}),"component",a,106,12,{componentTag:"Popover"})},ne=p=>{var X=Kt(),te=F(X),Y=o(te,2);Z(()=>{y(te,"href",fe+"/mod/"+m+"/version/"+I),y(Y,"href",Ke+"/mod/"+m+"/versions/"+I+"/download")}),l(p,X)};s(()=>ae(q,p=>{Ce(r().data.getVersion.targets.length,0,!1)?p(U):p(ne,!1)}),"if",a,105,10)}var J=o(q,2);J.__click=()=>Mt(r().data.getVersion.mod.mod_reference);var H=o(J,2),K=o(t(H),2),ie=t(K,!0);e(K),e(H),e(P),e(x);var ee=o(x,2),ce=t(ee);s(()=>Q(ce,{get changelog(){return r().data.getVersion.changelog},get approved(){return r().data.getVersion.approved}}),"component",a,165,8,{componentTag:"VersionDescription"});var pe=o(ce,2),Ne=t(pe);s(()=>re(Ne,{get version(){return r().data.getVersion}}),"component",a,169,10,{componentTag:"VersionInfo"});var Ee=o(Ne,2);s(()=>Ct(Ee,{get targets(){return r().data.getVersion.targets}}),"component",a,170,10,{componentTag:"VersionTargetSupportGrid"});var Re=o(Ee,2);s(()=>St(Re,{get dependencies(){return r().data.getVersion.dependencies}}),"component",a,171,10,{componentTag:"VersionDependenciesGrid"});var Ye=o(Re,2);{var Ze=p=>{s(()=>oe(p,{get results(){return r().data.getVersion.virustotal_results}}),"component",a,173,12,{componentTag:"VirustotalResults"})};s(()=>ae(Ye,p=>{Ce(r().data.getVersion.virustotal_results.length,0,!1)&&p(Ze)}),"if",a,172,10)}e(pe),e(ee),e(_),Z(p=>{i(M,`${r().data.getVersion.mod.name??""}
          Version ${r().data.getVersion.version??""}`),y(H,"href",fe+"/mod/"+m),i(ie,p)},[()=>C()("version.back")]),l(z,_)};s(()=>ae(R,z=>{r().data.getVersion&&z(se)}),"if",a,77,2)}l(k,w)}),$$slots:{empty:!0,default:!0}}),"component",a,72,0,{componentTag:"QueryStateHandler"})}var N=xe(W);return B(),N}lt(["click"]);export{a as component,pa as universal};
//# sourceMappingURL=19.C75G0C01.js.map
