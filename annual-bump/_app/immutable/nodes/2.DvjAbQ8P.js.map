{"version":3,"file":"2.DvjAbQ8P.js","sources":["../../../../../../src/routes/+page.ts","../../../../../../src/lib/components/general/Doggo.svelte","../../../../../../src/lib/stores/global.ts","../../../../../../src/routes/+page.svelte"],"sourcesContent":["import { queryStore } from '@urql/svelte';\nimport { GetModsDocument, ModFields, Order } from '$lib/generated';\nimport { loadWaitForNoFetch } from '$lib/utils/gql';\nimport type { PageLoad } from './$types';\n\nexport const load: PageLoad = async ({ parent }) => ({\n  ...(await loadWaitForNoFetch({\n    mods: queryStore({\n      query: GetModsDocument,\n      client: (await parent()).client,\n      variables: {\n        offset: 0,\n        limit: 4,\n        order: Order.Desc,\n        orderBy: ModFields.LastVersionDate\n      }\n    })\n  }))\n});\n","<script lang=\"ts\">\n  import { run } from 'svelte/legacy';\n\n  import { spring } from 'svelte/motion';\n  import { assets } from '$app/paths';\n  import { writable } from 'svelte/store';\n\n  let { dogVisible = writable<boolean>(false) } = $props();\n\n  const x = spring<number>(-2000, { stiffness: 0.004, damping: 0.25, precision: 1 });\n  const y = spring<number>(-1000, { stiffness: 0.004, damping: 0.25, precision: 1 });\n  let sprite = $state(assets + '/images/dog_stand.gif');\n\n  let last_mouse = $state({ clientX: -1000, clientY: 0 });\n  let patting = false;\n\n  let actual_mouse_x = $derived(last_mouse.clientX - 350);\n  let actual_mouse_y = $derived(last_mouse.clientY - 100);\n  let dx = $derived(Math.abs($x - actual_mouse_x));\n  let dy = $derived(Math.abs($y - actual_mouse_y));\n  let isClose = $derived(dx < 80 && dy < 40);\n  let isLookingRight = $derived($x < actual_mouse_x);\n  run(() => {\n    sprite = assets + ('/images/dog_' + (isClose ? 'stand.gif' : 'boing.gif'));\n  });\n  let head_offset = $derived(isLookingRight ? -70 : 50);\n  run(() => {\n    x.set(actual_mouse_x + head_offset);\n  });\n  run(() => {\n    y.set(actual_mouse_y);\n  });\n\n  function update_pos(event: MouseEvent) {\n    if (!patting && dogVisible) {\n      last_mouse = event;\n    }\n  }\n\n  function pat() {\n    sprite = assets + '/images/dog_aw_yis_pats.gif';\n    patting = true;\n  }\n\n  function try_pat() {\n    if (isClose) {\n      pat();\n    }\n  }\n\n  async function end_pat() {\n    if (patting) {\n      sprite = assets + '/images/dog_boing.gif';\n      actual_mouse_x = 3000;\n      setTimeout(() => {\n        $dogVisible = false;\n        $x = -2000;\n        $y = -1000;\n        patting = false;\n      }, 700);\n    }\n  }\n</script>\n\n<svelte:window onmousedown={try_pat} onmousemove={update_pos} onmouseup={end_pat} />\n\n{#if $dogVisible}\n  <img\n    class={'doggo-flipper h-full' + (isLookingRight ? '-R' : '-L')}\n    src={sprite}\n    alt=\"Doggo!\"\n    title=\"Click to pat doggo!\"\n    style=\"width: 200px;\n                      height: auto;\n                      position: absolute;\n                        top: {$y}px;\n                        left: {$x}px;\n                        z-index: 69;\n                      \" />\n{/if}\n\n<style lang=\"postcss\">\n  .doggo-flipper-L {\n    animation: 0.1s linear 0s 1 alternate flip-L both;\n  }\n\n  .doggo-flipper-R {\n    animation: 0.1s linear 0s 1 alternate flip-R both;\n  }\n\n  @keyframes flip-R {\n    from {\n      transform: scaleX(1);\n    }\n    to {\n      transform: scaleX(-1);\n    }\n  }\n\n  @keyframes flip-L {\n    from {\n      transform: scaleX(-1);\n    }\n    to {\n      transform: scaleX(1);\n    }\n  }\n</style>\n","import { writable } from 'svelte/store';\nimport { browser } from '$app/environment';\n\nlet mobileQuery: MediaQueryList;\nif (browser) {\n  mobileQuery = window.matchMedia('(min-width: 1280px)');\n}\n\nexport const onMobile = writable<boolean>(mobileQuery && !mobileQuery.matches);\nexport const doggoNeedsPats = writable<boolean>(false);\nexport const easterEgg = writable<boolean>(false);\nif (browser) {\n  mobileQuery.addEventListener('change', (data) => {\n    if (onMobile) {\n      onMobile.set(!data.matches);\n    }\n  });\n}\n\nif (browser) {\n  const easterCode = [\n    'ArrowUp',\n    'ArrowUp',\n    'ArrowDown',\n    'ArrowDown',\n    'ArrowLeft',\n    'ArrowRight',\n    'ArrowLeft',\n    'ArrowRight',\n    'KeyB',\n    'KeyA',\n    'Space'\n  ];\n\n  const codeBuffer = [];\n\n  window.onkeyup = (ev) => {\n    codeBuffer.push(ev.code);\n    if (codeBuffer.length > easterCode.length) {\n      codeBuffer.shift();\n    }\n\n    if (codeBuffer.length == easterCode.length) {\n      let valid = true;\n      for (let i = 0; i < easterCode.length; i++) {\n        if (easterCode[i] !== codeBuffer[i]) {\n          valid = false;\n          break;\n        }\n      }\n      if (valid) {\n        easterEgg.set(true);\n      }\n    }\n\n    if (ev.code == 'KeyD') {\n      doggoNeedsPats.set(true);\n    }\n  };\n}\n","<script lang=\"ts\">\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import Doggo from '$lib/components/general/Doggo.svelte';\n  import { assets } from '$app/paths';\n  import { onMobile, easterEgg, doggoNeedsPats } from '$lib/stores/global';\n  import type { PageData } from './$types';\n  import { getTranslate, T } from '@tolgee/svelte';\n\n  interface Props {\n    data: PageData;\n  }\n\n  let { data }: Props = $props();\n\n  let { mods } = $derived(data);\n\n  const { t } = getTranslate();\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Satisfactory Mod Repository\" title=\"Home\" />\n</svelte:head>\n\n<Doggo dogVisible={doggoNeedsPats} />\n\n<div class=\"flex min-h-full flex-col\" style=\"height: calc(100vh - 64px - 3rem)\">\n  <div class=\"mb-4 min-h-[35vh] overflow-hidden\">\n    {#if !$onMobile}\n      <a href=\"https://smm.ficsit.app\" rel=\"noopener\" target=\"_blank\">\n        <div class=\"h-full card preset-filled-surface-100-900\">\n          <div class=\"relative h-full w-full\">\n            <div class=\"banner smm-banner\"></div>\n            <div class=\"absolute top-0 flex h-full w-full items-center justify-center\">\n              {#if $easterEgg}\n                <img class=\"flipper-1 h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n                <img class=\"flipper-2 h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n              {:else}\n                <img class=\"flipped h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n              {/if}\n              <div class=\"text-center\">\n                <div class=\"mb-2 text-4xl\">{$t('home.satisfactory-mod-manager')}</div>\n                <div class=\"mb-4 text-xl\">\n                  Windows - Linux - Epic - Steam\n                  {#if $easterEgg || $doggoNeedsPats}\n                    - Doggo{/if}\n                </div>\n                <div class=\"flex h-1/3 justify-center 2xl:h-1/2\">\n                  <div class=\"preset-glass-surface m-6 btn preset-outlined-primary-500 btn-lg text-3xl\">\n                    <span\n                      ><T\n                        keyName=\"home.download-satisfactory-mod-manager\"\n                        defaultValue=\"Download the Mod Manager\" /></span>\n                    <img class=\"h-full\" src={assets + '/images/smm_icon_white.webp'} alt=\"Satisfactory Mod Manager\" />\n                  </div>\n                </div>\n              </div>\n              {#if $easterEgg}\n                <img class=\"flipper-3 h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n                <img class=\"flipper-4 h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n              {:else}\n                <img class=\"h-full\" src={assets + '/images/smm_hand.webp'} alt=\"Ficsit Minion\" />\n              {/if}\n            </div>\n          </div>\n        </div>\n      </a>\n    {:else}\n      <a href=\"/mods\" class=\"overflow-hidden\">\n        <div class=\"h-full card preset-filled-surface-100-900\">\n          <div class=\"relative h-full w-full\">\n            <div class=\"smm-banner banner\"></div>\n            <div class=\"absolute top-0 flex h-full w-full items-center justify-end text-center\">\n              <img class=\"h-full\" src={assets + '/images/mods_mobile.webp'} alt=\"Ficsit Minion\" />\n            </div>\n            <div class=\"absolute top-0 flex h-4/5 w-full items-center pl-8\">\n              <div>\n                <div class=\"text-md\">\n                  {$t('home.banner.we-have-over')}\n                  <span class=\"font-bold text-amber-600\">\n                    {#if $mods.fetching || $mods.error}\n                      ...\n                    {:else}\n                      {$mods.data.getMods.count}\n                    {/if}\n                  </span>\n                  {$t('home.banner.mods')}!\n                </div>\n                <div class=\"text-md max-w-prose\">{$t('home.banner.most-are-compatible')}</div>\n              </div>\n            </div>\n            <div class=\"absolute top-0 flex h-full w-full items-end justify-center\">\n              <button class=\"btn h-1/4 w-full px-14 py-3\" style=\"background: #5a7b78; color: white\">\n                {$t('home.banner.take-a-look')}\n              </button>\n            </div>\n          </div>\n        </div>\n      </a>\n    {/if}\n  </div>\n\n  <div class=\"mb-4 grid flex-1 grid-cols-1 gap-4 xl:grid-cols-2\">\n    <a href=\"https://discord.gg/xkVJ73E\" rel=\"noopener\" target=\"_blank\" class=\"min-h-[25vh] overflow-hidden\">\n      <div class=\"h-full card preset-filled-surface-100-900\">\n        <div class=\"relative h-full w-full\">\n          <div class=\"modding-banner banner\"></div>\n          <div class=\"absolute top-0 flex h-full w-full flex-col items-center justify-center\">\n            <img class=\"centered-logo\" src={assets + '/images/sf_modding_logo.webp'} alt=\"Satisfactory Modding Logo\" />\n            <div class=\"preset-glass-secondary btn-md m-6 btn preset-outlined-secondary-500\">\n              <span><T keyName=\"home.banner.join-discord\" defaultValue=\"Join the Modding Discord\" /></span>\n              <span class=\"material-icons\">people</span>\n            </div>\n          </div>\n          <div class=\"absolute bottom-0 w-full px-4 pb-4 text-center text-neutral-400 xl:text-left\">\n            <span>{$t('home.banner.community-run-discord')}</span>\n          </div>\n        </div>\n      </div>\n    </a>\n    <a href=\"https://www.satisfactorygame.com/\" rel=\"noopener\" target=\"_blank\" class=\"min-h-[25vh] overflow-hidden\">\n      <div class=\"h-full card preset-filled-surface-100-900\">\n        <div class=\"relative h-full w-full\">\n          <div class=\"css-banner banner\"></div>\n          <div class=\"absolute top-0 flex h-full w-full flex-col items-center justify-center\">\n            <img\n              class=\"centered-logo\"\n              src={assets + '/images/satisfactory_logo_full_color_small.webp'}\n              alt=\"Satisfactory Logo\" />\n            <div class=\"preset-glass-surface btn-md m-6 btn preset-outlined-surface-500\">\n              <span\n                ><T keyName=\"home.banner.open-official-website\" defaultValue=\"Visit the Satisfactory Website\" /></span>\n              <span class=\"material-icons\">launch</span>\n            </div>\n          </div>\n          <div class=\"absolute bottom-0 w-full px-4 pb-4 text-center text-neutral-300 xl:text-right\">\n            <span>{$t('home.banner.official-website')}</span>\n          </div>\n        </div>\n      </div>\n    </a>\n  </div>\n</div>\n\n<style lang=\"postcss\">\n  .smm-banner {\n    background-image: url('/images/smm_background.webp');\n    filter: blur(8px);\n    -webkit-filter: blur(8px);\n  }\n\n  .modding-banner {\n    background-image: url('/images/bg_nologo.webp');\n    filter: blur(8px);\n    -webkit-filter: blur(8px);\n  }\n\n  .css-banner {\n    background-image: url('/images/Satisfactory_KeyArt_1_1024x1024_NoLogo.webp');\n    filter: blur(8px) brightness(0.5);\n    -webkit-filter: blur(8px) brightness(0.5);\n  }\n\n  .banner {\n    height: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  }\n\n  .centered-logo {\n    max-height: 50%;\n    max-width: 60%;\n  }\n\n  .flipped {\n    transform: scaleX(-1);\n  }\n\n  .flipper-1 {\n    animation: 0.11s linear 1s infinite alternate flipper;\n  }\n\n  .flipper-2 {\n    animation: 0.12s linear 1s infinite alternate flipper;\n  }\n\n  .flipper-3 {\n    animation: 0.13s linear 1s infinite alternate flipper;\n  }\n\n  .flipper-4 {\n    animation: 0.14s linear 1s infinite alternate flipper;\n  }\n\n  @keyframes flipper {\n    from {\n      transform: scaleX(-1);\n    }\n    to {\n      transform: scaleX(1);\n    }\n  }\n\n  @media (min-width: 1280px) {\n    .centered-logo {\n      max-height: 15vh;\n    }\n  }\n</style>\n"],"names":["load","parent","loadWaitForNoFetch","queryStore","GetModsDocument","Order","ModFields","dogVisible","$.prop","$$props","writable","x","spring","y","sprite","$.tag","$.state","assets","last_mouse","patting","actual_mouse_x","$.derived","$.get","actual_mouse_y","dx","$x","dy","$y","isClose","isLookingRight","run","head_offset","update_pos","event","$.set","pat","try_pat","end_pat","$.set_class","img","$dogVisible","$$render","consequent","mobileQuery","onMobile","doggoNeedsPats","easterEgg","data","easterCode","codeBuffer","ev","valid","i","mods","t","getTranslate","$.set_attribute","img_1","$.template_effect","img_2","$easterEgg","alternate","$doggoNeedsPats","consequent_1","img_4","img_5","img_6","consequent_2","alternate_1","img_3","$t","$.set_text","text_4","$mods","consequent_4","alternate_2","img_7","$onMobile","alternate_3","consequent_3","img_8","img_9"],"mappings":"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"}