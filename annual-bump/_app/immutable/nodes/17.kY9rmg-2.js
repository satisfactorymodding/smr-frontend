import{t as k,u as P}from"../chunks/C2xQDKU4.js";import{l as C}from"../chunks/Bi2QyF3C.js";import{aw as O,a as Q,p as V,Y as j,J as c,f as G,g as H,K as L,k as N,h as f,m as i,q as _,r as z,t as A,O as l,D as J,n as K,C as W,L as v,a4 as Y,u as a,F as y,y as B,G as R,ar as U,ad as X,ae as Z,af as ee,S as $}from"../chunks/C90Be9iR.js";import{M as te}from"../chunks/DbdH5sqZ.js";import{M as oe}from"../chunks/DN0KTx-o.js";import{t as h}from"../chunks/CTLp1XiY.js";import{Q as ae}from"../chunks/LDwLMLnf.js";const re=async({params:d,parent:r})=>({...d,...await C({mod:O({query:k,client:(await r()).client,variables:{mod:d.modId},requestPolicy:"network-only"})})}),pe=Object.freeze(Object.defineProperty({__proto__:null,load:re},Symbol.toStringTag,{value:"Module"}));t[y]="src/routes/mod/[modId]/edit/+page.svelte";var se=H(B('<h1 class="my-4 text-4xl font-bold">Edit Mod</h1> <div class="card preset-filled-surface-100-900 p-4"><section><!></section></div>',1),t[y],[[66,0],[68,0,[[69,2]]]]);function t(d,r){Q(new.target),V(r,!0,t);const e=()=>(R(a(n),"mod"),W(a(n),"$mod",M)),[M,b]=A(),S=j();let E=c(l(()=>r.data.modId),"modId"),n=c(l(()=>r.data.mod),"mod");const I=s=>{S.mutation(P,{modId:U(a(n)).data.mod.id,mod:s}).toPromise().then(o=>{o.error?(console.error(...X("error",o.error.message)),h.error({description:"Error editing mod: "+o.error.message})):(h.success({description:"Mod updated",duration:5e3}),Z(ee+"/mod/"+a(E)))})};let w=c(l(()=>e().data?{...e().data.mod,logo:void 0}:void 0),"initialValues");var x={...G()},u=se();L("19a9r0",s=>{var o=J(),D=f(o);{var T=m=>{i(()=>oe(m,{get description(){return`Editing mod ${e().data.mod.name??""}`},get title(){return`Edit mod ${e().data.mod.name??""}`},get image(){return e().data.mod.logo}}),"component",t,59,4,{componentTag:"MetaDescriptors"})};i(()=>K(D,m=>{!e().fetching&&!e().error&&e().data.mod&&m(T)}),"if",t,58,2)}_(s,o)});var p=N(f(u),2),g=v(p),F=v(g);i(()=>ae(F,{get query(){return a(n)},children:Y(t,(s,o)=>{i(()=>te(s,{onSubmit:I,get initialValues(){return a(w)},editing:!0,submitText:"Save"}),"component",t,71,6,{componentTag:"ModForm"})}),$$slots:{default:!0}}),"component",t,70,4,{componentTag:"QueryStateHandler"}),$(g),$(p),_(d,u);var q=z(x);return b(),q}export{t as component,pe as universal};
//# sourceMappingURL=17.kY9rmg-2.js.map
