import{I as A,a as H,p as K,J as m,Y as L,f as N,g as J,K as V,h as k,m as s,z as x,k as f,q as M,r as Y,t as R,O as w,N as U,D as W,n as X,C as Z,L as i,u as r,a4 as ee,F as T,y as te,G as ae,ae as E,af as I,ad as re,aw as oe,S as n}from"../chunks/Zigv8uwj.js";import{q as se,r as ie}from"../chunks/C2xQDKU4.js";import{G as ne}from"../chunks/Df3zECTx.js";import{M as de}from"../chunks/DkMqSqQ8.js";import{t as S}from"../chunks/B-qlgqy4.js";import{B as ue}from"../chunks/Bps8zskF.js";import{Q as ce}from"../chunks/BN6MyBkq.js";const ge=async({params:d})=>({...d}),Ge=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));e[T]="src/routes/guide/[guideId]/edit/+page.svelte";var le=J(te('<div class="flex h-auto flex-wrap items-center justify-between"><h1 class="my-4 text-4xl font-bold">Edit Guide</h1> <div><!> <button class="btn border border-primary-500 preset-tonal-primary"><span class="material-icons pr-2">arrow_back</span> Back to Guide</button></div></div> <div class="card preset-filled-surface-100-900 p-4"><section><!></section></div>',1),e[T],[[70,0,[[71,2],[72,2,[[80,4,[[81,6]]]]]]],[86,0,[[87,2]]]]);function e(d,_){H(new.target),K(_,!0,e);const o=()=>(ae(r(c),"guide"),Z(r(c),"$guide",B)),[B,q]=R();let u=m(w(()=>_.data.guideId),"guideId");const v=L();let c=m(w(()=>oe({query:ie,client:v,variables:{guide:r(u)}})),"guide");const C=a=>{v.mutation(se,{guideId:r(u),guide:a}).toPromise().then(t=>{t.error?(console.error(...re("error",t.error.message)),S.error({description:"Error editing guide: "+t.error.message})):(S.success({description:"Guide updated",duration:5e3}),E(I+"/guide/"+t.data.updateGuide.id))})},D=()=>{E(I+"/guide/"+r(u))};let g=m(U(!1),"backModalOpen");var F={...N()},b=le();V("zaqy6k",a=>{var t=W(),P=k(t);{var Q=p=>{s(()=>de(p,{get description(){return`Editing guide '${o().data.getGuide.short_description??""}'`},get title(){return`Edit guide '${o().data.getGuide.name??""}'`}}),"component",e,64,4,{componentTag:"MetaDescriptors"})};s(()=>X(P,p=>{!o().fetching&&!o().error&&o().data.getGuide&&p(Q)}),"if",e,63,2)}M(a,t)});var l=k(b),y=f(i(l),2),G=i(y);s(()=>ue(G,{title:"Go Back?",body:"Going back will discard any unsaved changes. Are you sure you wish to continue?",buttonTextCancel:"Keep Editing",buttonTextConfirm:"Go Back",confirm:D,get open(){return r(g)},set open(a){x(g,a,!0)}}),"component",e,73,4,{componentTag:"BasicModal"});var O=f(G,2);O.__click=()=>x(g,!0),n(y),n(l);var h=f(l,2),$=i(h),j=i($);s(()=>ce(j,{get query(){return r(c)},children:ee(e,(a,t)=>{s(()=>ne(a,{onSubmit:C,get initialValues(){return o().data.getGuide},submitText:"Save",submitIcon:"save"}),"component",e,89,6,{componentTag:"GuideForm"})}),$$slots:{default:!0}}),"component",e,88,4,{componentTag:"QueryStateHandler"}),n($),n(h),M(d,b);var z=Y(F);return q(),z}A(["click"]);export{e as component,Ge as universal};
//# sourceMappingURL=13.DOVSVR1N.js.map
