{"version":3,"mappings":"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","names":["initializeGraphQLClient","fetch","createClient","API_GRAPHQL","cacheExchange","schema","_result","args","cache","authExchange","utils","operation","get","userToken","error","persistedExchange","fetchExchange","prerender","load","client","chainer","Tolgee","FormatSimple","LanguageDetector","DevTools","tolgee","PUBLIC_TOLGEE_API_URL","PUBLIC_TOLGEE_API_KEY","enCommon","deCommon","esCommon","frCommon","huCommon","itCommon","koCommon","lvCommon","mtCommon","nlCommon","ptBrCommon","plCommon","ruCommon","zhHansCommon","zhHantCommon","getContextClient","t","getTranslate","first","token","LogoutDocument","cookie","oneMonth","GetMeDocument","response","$.log_if_contains_state","signInMethods","OAuthGithubDocument","OAuthGoogleDocument","OAuthFacebookDocument","signingIn","writable","signInMethod","queryParams","page","code","state","result","toaster","$.store_set","currentPath","$.tag","$.derived","onCloseDrawer","anchorSidebar","a","preloadData","classes","$.strict_equals","$.get","$.event","$$render","alternate","consequent","accessibility","$.prop","$$props","isAdmin","$user","top","base","$t","bottom","onClickLogin","onClickAdmin","goto","onClickLogout","$.template_effect","$0","$.set_text","text","consequent_1","button_2","$.set_style","div_2","text_1","$.validate_each_keys","item","$.each","node_6","node_9","e","text_4","text_3","announcements","queryStore","GetAnnouncementsDocument","$announcements","AnnouncementImportance","announcement","$$anchor","consequent_2","alternate_1","getTolgee","defaultFlagTextStyle","languages","lang","$tolgee","l","$lang","$.set_class","span_1","k","v","$$item","$$array","li","text_2","open","goTo","service","url","oauthOptions","GetOAuthOptionsDocument","$oauthOptions","button_3","alternate_2","$1","openSidebar","loginOpen","pingLauncher","$$args","TopBar","$hasLauncher","$$value","$.set","button_4","gTag","$.state","PUBLIC_GOOGLE_SITE_TAG","root","onMount","n","customProtocolCheck","$.track_reactivity_loss","__vitePreload","hasLauncher","value","run","setContextClient","toast","$.noop"],"ignoreList":[],"sources":["../../../../../../src/lib/core/graphql.ts","../../../../../../src/routes/+layout.ts","../../../../../../src/lib/components/auth/LoginDialog.svelte","../../../../../../src/lib/components/general/SidebarItem.svelte","../../../../../../src/lib/components/general/Sidebar.svelte","../../../../../../src/lib/components/announcements/AnnouncementHeader.svelte","../../../../../../src/lib/components/general/TranslationDropdown.svelte","../../../../../../src/lib/modals/LoginModal.svelte","../../../../../../src/lib/components/general/TopBar.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["import schema from '$lib/generated/graphql.schema.urql.json';\nimport { createClient, fetchExchange, type Client } from '@urql/svelte';\nimport { cacheExchange } from '@urql/exchange-graphcache';\nimport { persistedExchange } from '@urql/exchange-persisted';\nimport { API_GRAPHQL } from './api';\nimport { userToken } from '$lib/stores/user';\nimport { authExchange } from '@urql/exchange-auth';\nimport type { LoadEvent } from '@sveltejs/kit';\nimport { get } from 'svelte/store';\n\nexport const initializeGraphQLClient = (fetch?: LoadEvent['fetch']): Client =>\n  createClient({\n    url: API_GRAPHQL,\n    fetch,\n    exchanges: [\n      cacheExchange({\n        schema,\n        keys: {\n          GetMods: () => null,\n          LatestVersions: () => null,\n          UserMod: () => null,\n          GetGuides: () => null,\n          OAuthOptions: () => null,\n          UserRoles: () => null,\n          Compatibility: () => null,\n          CompatibilityInfo: () => null,\n          VersionTarget: () => null,\n          VersionDependency: () => null\n        },\n        updates: {\n          Mutation: {\n            deleteGuide(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Guide',\n                id: args.guideId as string\n              });\n            },\n            deleteMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            approveMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            denyMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            approveVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            denyVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            deleteVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            updateVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            }\n          }\n        }\n      }),\n      authExchange(async (utils) => ({\n        addAuthToOperation(operation) {\n          return utils.appendHeaders(operation, {\n            Authorization: get(userToken)\n          });\n        },\n        didAuthError(error) {\n          return error.message.indexOf('user not logged in') >= 0;\n        },\n        async refreshAuth() {\n          // Token cannot be refreshed currently\n        }\n      })),\n      persistedExchange({\n        preferGetForPersistedQueries: true\n      }),\n      fetchExchange\n    ]\n  });\n","import type { LayoutLoad } from './$types';\nimport { initializeGraphQLClient } from '$lib/core';\nimport { DevTools, FormatSimple, LanguageDetector, Tolgee } from '@tolgee/svelte';\nimport { browser } from '$app/environment';\nimport { PUBLIC_TOLGEE_API_KEY, PUBLIC_TOLGEE_API_URL } from '$env/static/public';\n\nimport enCommon from '../i18n/common/en.json';\nimport deCommon from '../i18n/common/de.json';\nimport esCommon from '../i18n/common/es.json';\nimport huCommon from '../i18n/common/hu.json';\nimport itCommon from '../i18n/common/it.json';\nimport koCommon from '../i18n/common/ko.json';\nimport frCommon from '../i18n/common/fr.json';\nimport lvCommon from '../i18n/common/lv.json';\nimport mtCommon from '../i18n/common/mt.json';\nimport nlCommon from '../i18n/common/nl.json';\nimport ptBrCommon from '../i18n/common/pt-BR.json';\nimport plCommon from '../i18n/common/pl.json';\nimport ruCommon from '../i18n/common/ru.json';\nimport zhHansCommon from '../i18n/common/zh-Hans.json';\nimport zhHantCommon from '../i18n/common/zh-Hant.json';\n\nexport const prerender = 'auto';\n\nexport const load: LayoutLoad = async ({ fetch }) => {\n  const client = initializeGraphQLClient(fetch);\n\n  let chainer = Tolgee().use(FormatSimple());\n\n  if (browser) {\n    chainer = chainer.use(LanguageDetector()).use(DevTools());\n  }\n\n  const tolgee = chainer.init({\n    defaultNs: 'common',\n\n    defaultLanguage: 'en',\n    fallbackLanguage: 'en',\n\n    apiUrl: browser ? PUBLIC_TOLGEE_API_URL : undefined,\n    apiKey: browser ? PUBLIC_TOLGEE_API_KEY : undefined,\n\n    // Be sure to also update TranslationDropdown.svelte when adding entries here\n    staticData: {\n      'en:common': enCommon,\n      'de:common': deCommon,\n      'es:common': esCommon,\n      'fr:common': frCommon,\n      'hu:common': huCommon,\n      'it:common': itCommon,\n      'ko:common': koCommon,\n      'lv:common': lvCommon,\n      'mt:common': mtCommon,\n      'nl:common': nlCommon,\n      'pt-BR:common': ptBrCommon,\n      'pl:common': plCommon,\n      'ru:common': ruCommon,\n      'zh-Hans:common': zhHansCommon,\n      'zh-Hant:common': zhHantCommon\n    }\n  });\n\n  if (!browser) {\n    await tolgee.run();\n  }\n\n  return {\n    client,\n    tolgee\n  };\n};\n","<script lang=\"ts\">\n  import {\n    GetMeDocument,\n    OAuthFacebookDocument,\n    OAuthGithubDocument,\n    OAuthGoogleDocument,\n    LogoutDocument\n  } from '$lib/generated';\n  import { getContextClient } from '@urql/svelte';\n  import { browser } from '$app/environment';\n  import { page } from '$app/state';\n  import { user, userToken } from '$lib/stores/user';\n  import cookie from 'js-cookie';\n  import { getTranslate } from '@tolgee/svelte';\n  import { writable } from 'svelte/store';\n  import { toaster } from '$lib/utils/toaster-svelte';\n\n  const client = getContextClient();\n\n  export const { t } = getTranslate();\n\n  if (browser) {\n    let first = true;\n\n    userToken.subscribe((token) => {\n      if (!token && !first) {\n        // User is logged in but token has been set to null (logging out)\n        client\n          .mutation(LogoutDocument, undefined, {\n            requestPolicy: 'network-only'\n          })\n          .toPromise()\n          .catch()\n          .then(() => {\n            cookie.remove('token');\n          });\n        $user = null;\n      } else if (token) {\n        const oneMonth = new Date(new Date().getTime() + 30 * 24 * 60 * 60 * 1000);\n        cookie.set('token', token, {\n          expires: oneMonth\n        });\n        first = false;\n        client\n          .query(GetMeDocument, {}, { requestPolicy: 'network-only' })\n          .toPromise()\n          .then((response) => {\n            if (response.error) {\n              console.error(response.error.message);\n            } else if (response.data) {\n              $user = response.data.getMe;\n            }\n          });\n      }\n    });\n  }\n\n  const signInMethods = {\n    github: OAuthGithubDocument,\n    google: OAuthGoogleDocument,\n    facebook: OAuthFacebookDocument\n  };\n\n  const signingIn = writable(false);\n  // const loginModal = derived(\n  //   signingIn,\n  //   (val) =>\n  //     ({\n  //       type: 'component',\n  //       component: {\n  //         ref: LoginModal,\n  //         props: {\n  //           signingIn: val\n  //         }\n  //       }\n  //     })\n  // );\n\n  if (browser) {\n    const signInMethod = localStorage.getItem('sign.in.method');\n    localStorage.removeItem('sign.in.method');\n\n    let queryParams = Object.fromEntries(page.url.searchParams.entries());\n    if (Object.keys(queryParams).length === 0) {\n      queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n    }\n\n    const code = queryParams.code;\n    const state = queryParams.state;\n\n    if (signInMethod && code && state) {\n      signingIn.set(true);\n      // modalStore.trigger(get(loginModal));\n\n      client\n        .mutation(signInMethods[signInMethod as 'github' | 'google' | 'facebook'], {\n          code,\n          state\n        })\n        .toPromise()\n        .then((result) => {\n          if (result.error) {\n            console.error(result.error.message);\n            toaster.error({\n              title: 'Error logging in: ' + result.error.message,\n              duration: 0\n            });\n          } else {\n            $userToken = result.data.session.token;\n            // modalStore.close();\n          }\n        })\n        .catch()\n        .then(() => signingIn.set(false));\n    }\n  }\n</script>\n","<script lang=\"ts\">\n  import { preloadData } from '$app/navigation';\n  import { page } from '$app/state';\n  import type { SidebarItemData } from '$lib/utils/sidebarItemData';\n  import { Navigation } from '@skeletonlabs/skeleton-svelte';\n\n  interface Props {\n    item: SidebarItemData;\n  }\n\n  let { item }: Props = $props();\n\n  let currentPath = $derived(page.url.pathname);\n\n  const onCloseDrawer = () => {\n    // drawerStore.close()\n  };\n\n  let anchorSidebar = 'btn hover:preset-tonal justify-start px-2 w-full';\n</script>\n\n{#if !item.external}\n  <Navigation.Menu>\n    <a\n      href={item.url}\n      class:preset-filled-primary-500={currentPath === item.url}\n      onmouseover={() => preloadData(item.url)}\n      onclick={onCloseDrawer}\n      onfocus={() => preloadData(item.url)}\n      class={anchorSidebar}\n      title={item.label}\n      aria-label={item.label}>\n      <span class=\"material-icons\">{item.icon}</span>\n      <span>{item.label}</span>\n    </a>\n  </Navigation.Menu>\n{:else}\n  <Navigation.Menu>\n    <a href={item.url} target=\"_blank\" rel=\"noopener\" class={anchorSidebar} title={item.label} aria-label={item.label}>\n      <span class=\"material-icons\">{item.icon}</span>\n      <span>{item.label}</span>\n    </a>\n  </Navigation.Menu>\n{/if}\n","<script lang=\"ts\">\n  import { Switch } from '@skeletonlabs/skeleton-svelte';\n  import { goto } from '$app/navigation';\n  import { base } from '$app/paths';\n  import { user, userToken } from '$lib/stores/user';\n  import { getTranslate } from '@tolgee/svelte';\n  import type { SidebarItemData } from '$lib/utils/sidebarItemData';\n  import SidebarItem from './SidebarItem.svelte';\n  import { Navigation } from '@skeletonlabs/skeleton-svelte';\n\n  interface Props {\n    accessibility: boolean;\n  }\n\n  let { accessibility = $bindable() }: Props = $props();\n\n  export const { t } = getTranslate();\n\n  let isAdmin = $derived(\n    !$user ? false : $user.roles.approveMods || $user.roles.approveVersions || $user.roles.editSatisfactoryVersions\n  );\n\n  let top: SidebarItemData[] = $derived([\n    {\n      url: base + '/',\n      icon: 'home',\n      label: $t('sidebar.home')\n    },\n    {\n      url: base + '/mods',\n      icon: 'extension',\n      label: $t('sidebar.mods')\n    },\n    {\n      url: base + '/guides',\n      icon: 'description',\n      label: $t('sidebar.guides')\n    },\n    {\n      url: base + '/tools',\n      icon: 'apps',\n      label: $t('sidebar.tools')\n    },\n    {\n      url: 'https://discord.ficsit.app',\n      icon: 'forum',\n      label: $t('discord'),\n      external: true\n    },\n    {\n      url: '/community',\n      icon: 'people',\n      label: $t('sidebar.community', 'Community')\n    },\n    {\n      url: 'https://docs.ficsit.app/',\n      icon: 'find_in_page',\n      label: $t('sidebar.docs'),\n      external: true\n    }\n  ]);\n\n  let bottom: SidebarItemData[] = $derived([\n    {\n      url: base + '/help',\n      icon: 'help',\n      label: $t('sidebar.help')\n    },\n    {\n      url: base + '/content-policy',\n      icon: 'verified_user',\n      label: $t('content-policy')\n    },\n    {\n      url: base + '/privacy-policy',\n      icon: 'policy',\n      label: $t('sidebar.privacy-policy')\n    },\n    {\n      url: base + '/tos',\n      icon: 'gavel',\n      label: $t('sidebar.tos')\n    },\n    {\n      url: base + '/api-docs',\n      icon: 'api',\n      label: $t('sidebar.api')\n    },\n    {\n      url: 'https://github.com/satisfactorymodding',\n      icon: 'source',\n      label: $t('sidebar.github'),\n      external: true\n    }\n  ]);\n\n  const onClickLogin = () => {\n    // modalStore.trigger({\n    //   type: 'component',\n    //   component: {\n    //     ref: LoginModal\n    //   }\n    // });\n    // drawerStore.close();\n  };\n\n  const onClickAdmin = () => {\n    goto(base + '/admin');\n    // drawerStore.close();\n  };\n\n  const onClickLogout = () => {\n    userToken.set(null);\n    // drawerStore.close();\n  };\n</script>\n\n<div class=\"grid h-[728px] w-full grid-cols-[auto_1fr] items-stretch border border-surface-200-800\">\n  <!-- --- -->\n  <Navigation layout=\"sidebar\" class=\"grid grid-rows-[auto_1fr_auto] gap-4\">\n    <Navigation.Header>\n      <div class=\"list-nav xl:hidden\">\n        {#if $user === null}\n          <button onclick={onClickLogin} class=\"w-full\">\n            <span class=\"material-icons\">login</span>\n            <span>{$t('user.sign-in')}</span>\n          </button>\n        {:else}\n          {#if isAdmin}\n            <button onclick={onClickAdmin} class=\"w-full\">\n              <span class=\"material-icons\">admin_panel_settings</span>\n              <span>Admin</span>\n            </button>\n          {/if}\n          <button class=\"grid w-full grid-flow-col\" onclick={() => goto(base + '/user/' + $user.id)}>\n            <div class=\"h-7 w-7 rounded-full bg-cover\" style={`background-image: url(\"${$user.avatar}\")`}></div>\n            <div>{$user.username}</div>\n          </button>\n\n          <button onclick={onClickLogout} class=\"w-full\">\n            <span class=\"material-icons\">logout</span>\n            <span>{$t('user.logout')}</span>\n          </button>\n        {/if}\n      </div>\n    </Navigation.Header>\n\n    <Navigation.Content>\n      <Navigation.Group>\n        {#each top as item (item.url)}\n          <SidebarItem {item} />\n        {/each}\n      </Navigation.Group>\n    </Navigation.Content>\n\n    <Navigation.Footer>\n      <Navigation.Group>\n        {#each bottom as item (item.url)}\n          <SidebarItem {item} />\n        {/each}\n\n        <li class=\"xl:hidden\">\n          <a target=\"_blank\" href=\"https://smm.ficsit.app\" rel=\"noopener\">\n            <span class=\"material-icons\">file_download</span>\n            <span class=\"flex-auto\">{$t('sidebar.mod-manager')}</span>\n          </a>\n        </li>\n\n        <li class=\"flex flex-row items-center justify-center gap-4 px-3 pt-2\">\n          <Switch\n            checked={accessibility}\n            onCheckedChange={(e) => (accessibility = e.checked)}\n            name=\"accessibility_font\">\n            <Switch.Control>\n              <Switch.Thumb />\n            </Switch.Control>\n            <Switch.Label>{$t('sidebar.accessibility-font')}</Switch.Label>\n            <Switch.HiddenInput />\n          </Switch>\n        </li>\n      </Navigation.Group>\n    </Navigation.Footer>\n  </Navigation>\n</div>\n","<script lang=\"ts\">\n  import { getContextClient, queryStore } from '@urql/svelte';\n  import { AnnouncementImportance, GetAnnouncementsDocument } from '$lib/generated';\n  import AnnouncementRow from './AnnouncementRow.svelte';\n\n  const client = getContextClient();\n\n  const announcements = queryStore({\n    query: GetAnnouncementsDocument,\n    client,\n    variables: {}\n  });\n</script>\n\n{#if $announcements.fetching}\n  <!-- Display nothing, don't disrupt the page for no reason -->\n{:else if $announcements.error}\n  <AnnouncementRow\n    message=\"Failed to load announcements: {$announcements.error.message}\"\n    importance={AnnouncementImportance.Warning} />\n{:else if $announcements && $announcements.data && $announcements.data.getAnnouncements}\n  <div class=\"mt-3 mr-3 mb-3 ml-3 flex max-h-96 flex-col gap-2 overflow-y-auto xl:mb-0 xl:ml-0\">\n    {#each $announcements?.data?.getAnnouncements as announcement (announcement.id)}\n      <AnnouncementRow message={announcement.message} importance={announcement.importance} />\n    {/each}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { getTolgee, getTranslate } from '@tolgee/svelte';\n  import { writable } from 'svelte/store';\n  import { browser } from '$app/environment';\n  import { Popover, Portal } from '@skeletonlabs/skeleton-svelte';\n\n  const tolgee = getTolgee(['language']);\n\n  export const { t } = getTranslate();\n\n  type language = {\n    name: string;\n    flag: string;\n    style?: string;\n  };\n\n  const defaultFlagTextStyle = 'text-white';\n\n  // Be sure to also update /routes/+layout.svelte when adding entries here\n  // cspell:disable\n  const languages: Record<string, language> = {\n    en: {\n      name: 'English',\n      flag: 'üá∫üá≥'\n    },\n    de: {\n      name: 'Deutsch',\n      flag: 'üá©üá™',\n      style: 'text-black' // Bug in something? text color affects the top stripe of the DE flag\n    },\n    es: {\n      name: 'Espa√±ol',\n      flag: 'üá™üá∏'\n    },\n    fr: {\n      name: 'Fran√ßais',\n      flag: 'üá´üá∑'\n    },\n    hu: {\n      name: 'Magyar',\n      flag: 'üá≠üá∫'\n    },\n    it: {\n      name: 'Italiano',\n      flag: 'üáÆüáπ'\n    },\n    ko: {\n      name: 'ÌïúÍµ≠Ïñ¥',\n      flag: 'üá∞üá∑'\n    },\n    lv: {\n      name: 'Latvie≈°u',\n      flag: 'üá±üáª'\n    },\n    mt: {\n      name: 'Malti',\n      flag: 'üá≤üáπ'\n    },\n    nl: {\n      name: 'Nederlands',\n      flag: 'üá≥üá±'\n    },\n    'pt-BR': {\n      name: 'Portugu√™s (Brasil)',\n      flag: 'üáßüá∑'\n    },\n    pl: {\n      name: 'Polski',\n      flag: 'üáµüá±'\n    },\n    ru: {\n      name: 'P—É—Å—Å–∫–∏–π',\n      flag: 'üá∑üá∫'\n    },\n    'zh-Hans': {\n      name: 'ÁÆÄ‰Ωì‰∏≠Êñá',\n      flag: 'üá®üá≥'\n    },\n    'zh-Hant': {\n      name: 'ÁπÅÈ´î‰∏≠Êñá',\n      flag: 'üáπüáº'\n    }\n  } as const;\n  // cspell:enable\n\n  const lang = writable<string>((browser && localStorage.getItem('language')) || $tolgee.getLanguage());\n  lang.subscribe((l) => {\n    $tolgee.changeLanguage(l);\n    if (browser) {\n      localStorage.setItem('language', l);\n    }\n  });\n</script>\n\n<Popover>\n  <Popover.Trigger class=\"btn grid grid-flow-col border border-primary-500 preset-tonal-primary btn-sm\">\n    <span>{languages[$lang].name}</span>\n    <span class={`text-xl ${languages[$lang]?.style ?? defaultFlagTextStyle}`}>{languages[$lang].flag}</span>\n  </Popover.Trigger>\n  <Portal>\n    <Popover.Positioner>\n      <Popover.Content class=\"max-w-md space-y-2 card bg-surface-100-900 p-4 shadow-xl\">\n        <Popover.Description>\n          <nav class=\"list-nav\">\n            <ul>\n              {#each Object.entries(languages) as [k, v] (k)}\n                <li class:preset-filled-primary-500={$lang === k}>\n                  <button class=\"w-full\" onclick={() => lang.set(k)}>\n                    <span>{v.name}</span>\n                    <span class=\"text-xl {v?.style ?? defaultFlagTextStyle}\">{v.flag}</span>\n                  </button>\n                </li>\n              {/each}\n            </ul>\n          </nav>\n        </Popover.Description>\n        <Popover.Arrow\n          style=\"--arrow-size: calc(var(--spacing) * 2); --arrow-background: var(--color-surface-100-900);\">\n          <Popover.ArrowTip />\n        </Popover.Arrow>\n      </Popover.Content>\n    </Popover.Positioner>\n  </Portal>\n</Popover>\n","<script lang=\"ts\">\n  import { getTranslate } from '@tolgee/svelte';\n  import { getContextClient, queryStore } from '@urql/svelte';\n  import { GetOAuthOptionsDocument } from '$lib/generated';\n  import { browser } from '$app/environment';\n  import BaseModal from '$lib/components/general/BaseModal.svelte';\n\n  interface Props {\n    signingIn?: boolean;\n    open?: boolean;\n  }\n\n  let { signingIn = false, open = $bindable(false) }: Props = $props();\n\n  export const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const goTo = (service: string, url: string) => {\n    open = false;\n    localStorage.setItem('sign.in.method', service);\n    window.location.href = url;\n  };\n\n  const oauthOptions = queryStore({\n    query: GetOAuthOptionsDocument,\n    client,\n    variables: { callback_url: browser ? encodeURIComponent(window.location.origin + window.location.pathname) : '' },\n    requestPolicy: 'network-only'\n  });\n</script>\n\n<BaseModal bind:open closeOnBackdropClick={false}>\n  <h2 class=\"text-2xl\">{$t('user.sign-in')} / {$t('user.sign-up')}</h2>\n  <div>\n    <div class=\"grid grid-flow-row gap-4\">\n      {#if signingIn}\n        <p>{$t('user.logging-in')}...</p>\n        <div class=\"flex justify-center\">\n          <div\n            class=\"size-24 animate-spin rounded-full bg-conic/decreasing from-primary-800 via-primary-700 to-primary-600\">\n          </div>\n        </div>\n      {:else if $oauthOptions.fetching}\n        <p>{$t('loading')}...</p>\n      {:else if $oauthOptions.error}\n        <p>Oh no... {$oauthOptions.error.message}</p>\n      {:else}\n        <button\n          class=\"btn border border-primary-500 preset-tonal-primary\"\n          onclick={() => goTo('github', $oauthOptions.data.getOAuthOptions.github)}>\n          {$t('login-dialog.sign-in-with-github')}\n        </button>\n        <button\n          class=\"btn border border-primary-500 preset-tonal-primary\"\n          onclick={() => goTo('google', $oauthOptions.data.getOAuthOptions.google)}>\n          {$t('login-dialog.sign-in-with-google')}\n        </button>\n        <button\n          class=\"btn border border-primary-500 preset-tonal-primary\"\n          onclick={() => goTo('facebook', $oauthOptions.data.getOAuthOptions.facebook)}>\n          {$t('login-dialog.sign-in-with-facebook')}\n        </button>\n        <button class=\"btn border border-primary-500 preset-tonal-surface\" onclick={() => (open = false)}>\n          {$t('close')}\n        </button>\n      {/if}\n    </div>\n  </div>\n</BaseModal>\n","<script lang=\"ts\">\n  import { hasLauncher, pingLauncher } from '$lib/stores/launcher';\n  import { user, userToken } from '$lib/stores/user';\n  import { goto } from '$app/navigation';\n  import { base } from '$app/paths';\n  import TranslationDropdown from '$lib/components/general/TranslationDropdown.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import { AppBar, Popover, Portal } from '@skeletonlabs/skeleton-svelte';\n  import LoginModal from '$lib/modals/LoginModal.svelte';\n\n  let isAdmin = $derived(\n    !$user ? false : $user.roles.approveMods || $user.roles.approveVersions || $user.roles.editSatisfactoryVersions\n  );\n\n  export const { t } = getTranslate();\n\n  const openSidebar = () => {\n    // drawerStore.open({\n    //   width: 'w-[280px]'\n    // });\n  };\n\n  let loginOpen = $state(false);\n</script>\n\n<AppBar>\n  <AppBar.Toolbar class=\"grid-cols-[auto_1fr_auto]\">\n    <AppBar.Lead>\n      <button class=\"material-icons btn-sm xl:hidden\" onclick={openSidebar}>menu</button>\n    </AppBar.Lead>\n\n    <AppBar.Headline>\n      <span class=\"text-lg\">{$t('top-bar.title')}</span>\n    </AppBar.Headline>\n\n    <AppBar.Trail>\n      <div class=\"hidden gap-3 xl:flex\">\n        <TranslationDropdown />\n\n        {#if $hasLauncher}\n          <button class=\"btn border border-primary-500 preset-tonal-primary btn-sm\" onclick={pingLauncher}>\n            <span>Open Mod Manager</span>\n            <span class=\"material-icons\">launch</span>\n          </button>\n        {:else}\n          <a\n            class=\"btn border border-primary-500 preset-tonal-primary btn-sm\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            href=\"https://smm.ficsit.app\">\n            <span>Download the Mod Manager</span>\n            <span class=\"material-icons\">file_download</span>\n          </a>\n        {/if}\n\n        {#if $user === null}\n          <LoginModal bind:open={loginOpen} />\n          <button class=\"btn border border-primary-500 preset-tonal-primary btn-sm\" onclick={() => (loginOpen = true)}>\n            <span>{$t('user.sign-in')}</span>\n            <span class=\"material-icons\">login</span>\n          </button>\n        {:else}\n          {#if isAdmin}\n            <button\n              class=\"btn border border-primary-500 preset-tonal-primary btn-sm\"\n              onclick={() => goto(base + '/admin')}>\n              <span>Admin</span>\n              <span class=\"material-icons\">admin_panel_settings</span>\n            </button>\n          {/if}\n\n          <Popover>\n            <Popover.Trigger class=\"btn grid grid-flow-col border border-primary-500 preset-tonal-primary btn-sm\">\n              <div>{$user.username}</div>\n              <div class=\"h-7 w-7 rounded-full bg-cover\" style={`background-image: url(\"${$user.avatar}\")`}></div>\n            </Popover.Trigger>\n            <Portal>\n              <Popover.Positioner>\n                <Popover.Content class=\"max-w-md space-y-2 card bg-surface-100-900 p-4 shadow-xl\">\n                  <Popover.Description>\n                    <div class=\"w-48 card preset-filled-surface-100-900 py-2 shadow-xl\" data-popup=\"userMenuBox\">\n                      <nav class=\"list-nav\">\n                        <ul>\n                          <li>\n                            <button class=\"w-full\" onclick={() => goto(base + '/user/' + $user.id)}>\n                              <span>{$t('top-bar.user.profile')}</span>\n                            </button>\n                          </li>\n                          <li>\n                            <button class=\"w-full\" onclick={() => goto(base + '/settings')}>\n                              <span>{$t('top-bar.user.settings')}</span>\n                            </button>\n                          </li>\n                          <li>\n                            <button class=\"w-full\" onclick={() => userToken.set(null)}>\n                              <span>{$t('user.logout')}</span>\n                            </button>\n                          </li>\n                        </ul>\n                      </nav>\n                      <div class=\"arrow bg-surface-100-900\"></div>\n                    </div>\n                  </Popover.Description>\n                  <Popover.Arrow\n                    style=\"--arrow-size: calc(var(--spacing) * 2); --arrow-background: var(--color-surface-100-900);\">\n                    <Popover.ArrowTip />\n                  </Popover.Arrow>\n                </Popover.Content>\n              </Popover.Positioner>\n            </Portal>\n          </Popover>\n        {/if}\n      </div>\n    </AppBar.Trail>\n  </AppBar.Toolbar>\n</AppBar>\n","<script lang=\"ts\">\n  import { run } from 'svelte/legacy';\n\n  import LoginDialog from '$lib/components/auth/LoginDialog.svelte';\n  import { setContextClient } from '@urql/svelte';\n  import { onMount } from 'svelte';\n  import { customProtocolCheck, hasLauncher } from '$lib/stores/launcher';\n  import Sidebar from '$lib/components/general/Sidebar.svelte';\n  import AnnouncementHeader from '$lib/components/announcements/AnnouncementHeader.svelte';\n  import { base } from '$app/paths';\n  import { browser } from '$app/environment';\n  import { PUBLIC_GOOGLE_SITE_TAG } from '$env/static/public';\n  import type { LayoutData } from './$types';\n  import { TolgeeProvider } from '@tolgee/svelte';\n  import { Toast } from '@skeletonlabs/skeleton-svelte';\n  import TopBar from '$lib/components/general/TopBar.svelte';\n  import '../app.css';\n  import { toaster } from '$lib/utils/toaster-svelte';\n\n  interface Props {\n    data: LayoutData;\n    children?: import('svelte').Snippet;\n  }\n\n  let { data, children }: Props = $props();\n\n  const { client, tolgee } = data;\n\n  let gTag: unknown = $state();\n  if (browser) {\n    gTag = PUBLIC_GOOGLE_SITE_TAG as string;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    window.gTag = PUBLIC_GOOGLE_SITE_TAG as string;\n  }\n\n  let root: HTMLElement = $state();\n  onMount(async () => {\n    if (browser) {\n      root = document.body;\n\n      await import('cookieconsent/src/cookieconsent');\n\n      tolgee.on('initialLoad', () => {\n        if ('cookieconsent' in window) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          // cspell:ignore initialise\n          window.cookieconsent.initialise({\n            palette: {\n              popup: {\n                background: '#000'\n              },\n              button: {\n                background: '#f1d600'\n              }\n            },\n            content: {\n              message: tolgee.t('cookieconsent.message'),\n              link: tolgee.t('cookieconsent.link'),\n              dismiss: tolgee.t('cookieconsent.dismiss')\n            },\n            theme: 'edgeless',\n            position: 'bottom-right'\n          });\n        }\n      });\n\n      customProtocolCheck.set(await import('$lib/thirdparty/custom_protocol'));\n\n      if (localStorage.getItem('hasLauncher') && localStorage.getItem('hasLauncher').toLocaleLowerCase() === 'true') {\n        hasLauncher.set(true);\n      }\n\n      hasLauncher.subscribe((value) => {\n        if (value === true || value === false) {\n          localStorage.setItem('hasLauncher', value.toString().toLocaleLowerCase());\n        }\n      });\n    }\n  });\n\n  let accessibility = $state(false);\n  run(() => {\n    if (root) {\n      if (accessibility) {\n        root.classList.add('accessibility');\n      } else {\n        root.classList.remove('accessibility');\n      }\n    }\n  });\n\n  setContextClient(client);\n</script>\n\n<svelte:head>\n  <link rel=\"icon\" type=\"image/x-icon\" href=\"{base}/assets/favicon.ico\" />\n  <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"{base}/assets/apple-touch-icon.png?v=69P26YMB35\" />\n  <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"{base}/assets/favicon-32x32.png?v=69P26YMB35\" />\n  <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"{base}/assets/favicon-16x16.png?v=69P26YMB35\" />\n  <link rel=\"manifest\" href=\"{base}/manifest.json?v=69P26YMB35\" />\n  <link rel=\"mask-icon\" href=\"{base}/assets/safari-pinned-tab.svg?v=69P26YMB35\" color=\"#da8517\" />\n  <link rel=\"shortcut icon\" href=\"{base}/assets/favicon.ico?v=69P26YMB35\" />\n  <meta name=\"msapplication-TileColor\" content=\"#da8517\" />\n  <meta name=\"msapplication-config\" content=\"{base}/static/assets/browserconfig.xml?v=69P26YMB35\" />\n  <meta name=\"theme-color\" content=\"#ff6f00\" />\n\n  <link rel=\"preload\" href=\"{base}/assets/fonts/flow-rounded.woff\" as=\"font\" type=\"font/woff\" />\n\n  {#if gTag}\n    <script async src=\"https://www.googletagmanager.com/gtag/js?id={gTag}\"></script>\n    <script>\n      window.dataLayer = window.dataLayer || [];\n\n      function gtag() {\n        dataLayer.push(arguments);\n      }\n\n      gtag('js', new Date());\n\n      gtag('config', window['gTag']);\n    </script>\n  {/if}\n</svelte:head>\n\n<TolgeeProvider {tolgee}>\n  <Toast.Group {toaster}>\n    {#snippet children(toast)}\n      <Toast {toast}>\n        <Toast.Message>\n          <Toast.Title>{toast.title}</Toast.Title>\n          <Toast.Description>{toast.description}</Toast.Description>\n        </Toast.Message>\n        <Toast.CloseTrigger />\n      </Toast>\n    {/snippet}\n  </Toast.Group>\n\n  <div class=\"grid h-screen grid-rows-[auto_1fr_auto]\">\n    <header class=\"sticky top-0 z-10\">\n      <TopBar />\n    </header>\n    <div class=\"grid grid-cols-1 md:grid-cols-[auto_1fr]\">\n      <aside class=\"sticky top-[calc(72px)] col-span-1 hidden h-[calc(100vh-72px)] xl:block\">\n        <Sidebar bind:accessibility />\n      </aside>\n      <main class=\"col-span-1 space-y-4 p-4\">\n        <AnnouncementHeader />\n        {@render children?.()}\n      </main>\n    </div>\n  </div>\n\n  <LoginDialog />\n</TolgeeProvider>\n"],"file":"0.JKUzoKND.js"}