import{as as gt,a as fe,p as be,f as he,g as f,L as t,m as s,n as W,k as o,P as _t,Q as ut,u as O,R as e,q as i,r as xe,F as l,y as b,W as Ne,_ as K,C as ve,a0 as d,t as Ee,G as le,a9 as at,T as rt,ap as k,I as ft,X as bt,J as Qe,D as oe,K as ht,h as N,O as xt,N as wt,av as Ae,af as _e,ae as Xe,z as He,aP as ue,a5 as de,a6 as Ce,ab as Ye,aA as $t,ad as yt}from"../chunks/CVeMU510.js";import{v as Vt,A as Tt,K as Pt}from"../chunks/Bj1PSOzY.js";import{l as Dt}from"../chunks/Bi2QyF3C.js";import{m as kt}from"../chunks/CkAV2acv.js";import{A as It}from"../chunks/rH5iB1GY.js";import{a as Mt,p as At,b as Ct,c as Nt}from"../chunks/CwkDO0EH.js";import{M as Et}from"../chunks/BAbZjgJD.js";import{a as Ze}from"../chunks/CDGGhnbA.js";import{u as et}from"../chunks/e5LlVFqh.js";import{i as Rt}from"../chunks/DI5BLVyZ.js";import{V as St,a as Gt}from"../chunks/J-UkmbbF.js";import{P as Ot}from"../chunks/DdL1qeCF.js";import{t as tt}from"../chunks/Dd496ME7.js";import{B as zt}from"../chunks/CR0GxpY2.js";const Ft=async({params:M,parent:v})=>({...M,...await Dt({version:gt({query:Vt,client:(await v()).client,variables:{version:M.versionId}})})}),ba=Object.freeze(Object.defineProperty({__proto__:null,load:Ft},Symbol.toStringTag,{value:"Module"}));z[l]="src/lib/components/versions/VersionDescription.svelte";var qt=f(b('<div class="p-4"><!></div>'),z[l],[[16,4]]),Bt=f(b("<p><!></p>"),z[l],[[27,10]]),jt=f(b('<div><!> <div class="h-fit card preset-filled-surface-100-900 p-4"><section><div class="markdown-content break-words"><!></div></section></div></div>'),z[l],[[14,0,[[22,2,[[23,4,[[24,6]]]]]]]]);function z(M,v){fe(new.target),be(v,!0,z);var n={...he()},r=jt(),E=t(r);{var w=m=>{var h=qt(),y=t(h);s(()=>It(y,{get importance(){return Tt.Warning},message:"This version has not yet been approved by the virus scanner and is hidden until this process is complete. If this message isn't gone in the next few minutes, ask for manual approval on the Discord."}),"component",z,17,6,{componentTag:"AnnouncementRow"}),e(h),i(m,h)};s(()=>W(E,m=>{v.approved||m(w)}),"if",z,15,2)}var F=o(E,2),$=t(F),p=t($),D=t(p);return s(()=>_t(D,()=>kt(v.changelog),null,(m,h)=>{var y=Bt(),R=t(y);ut(R,()=>O(h)),e(y),i(m,y)}),"await",z,25,8),e(p),e($),e(F),e(r),i(M,r),xe(n)}we[l]="src/lib/components/versions/VersionInfo.svelte";var Lt=f(b('<div class="card preset-filled-surface-100-900 p-4"><section><div class="text-lg break-words"><h3 class="my-4 text-2xl font-bold">Info</h3> <span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span><br/> <span><strong> </strong> </span></div></section></div>'),we[l],[[15,0,[[16,2,[[17,4,[[18,6],[19,6,[[19,12]]],[19,94],[20,6,[[20,12]]],[20,88],[21,6,[[21,12]]],[21,81],[22,6,[[22,12]]],[22,77],[23,6,[[23,12]]]]]]]]]]);function we(M,v){fe(new.target),be(v,!0,we);const n=()=>(le(w,"t"),ve(w,"$t",r)),[r,E]=Ee(),{t:w}=Ne();var F={get t(){return w},...he()},$=Lt(),p=t($),D=t(p),m=o(t(D),2),h=t(m),y=t(h);e(h);var R=o(h);e(m);var I=o(m,3),U=t(I),q=t(U);e(U);var J=o(U);e(I);var Q=o(I,3),B=t(Q),X=t(B);e(B);var c=o(B);e(Q);var V=o(Q,3),S=t(V),T=t(S);e(S);var x=o(S);e(V);var u=o(V,3),g=t(u),A=t(g);e(g);var H=o(g);e(u),e(D),e(p),e($),K((P,C,Y,j,te,L,ae,ne)=>{d(y,`${P??""}:`),d(R,` ${C??""}`),d(q,`${Y??""}:`),d(J,` ${j??""}`),d(X,`${te??""}:`),d(c,` ${v.version.game_version??""}`),d(T,`${L??""}:`),d(x,` ${ae??""}`),d(A,`${ne??""}:`),d(H,` ${v.version.hash??""}`)},[()=>n()("entry.created-at"),()=>Mt(v.version.created_at),()=>n()("downloads"),()=>At(v.version.downloads),()=>n()("game-versions"),()=>n()("size"),()=>Ct(v.version.size),()=>n()("hash")]),i(M,$);var G=xe(F);return E(),G}se[l]="src/lib/components/versions/VirustotalResults.svelte";var Wt=f(b('<tr class="rounded border !border-surface-500"><td><div> </div></td><td><div class="text-center"><a target="_blank" class="text-white"><span class="material-icons text-center" style="width: 20px">policy</span></a></div></td><td><div class="text-center"><span class="material-icons text-center" style="width: 20px"> </span></div></td></tr>'),se[l],[[28,8,[[29,10,[[30,12]]],[32,10,[[33,12,[[34,14,[[39,16]]]]]]],[45,10,[[46,13,[[47,14]]]]]]]]),Kt=f(b('<div class="grid grid-flow-row"><h3 class="my-4 text-2xl font-bold"> </h3> <table class="max-w-auto table !overflow-visible"><tbody><tr class="rounded border !border-surface-500"><td style="width: 25%;"><div> </div></td><td style="width: 25%;"><div class="text-center"> </div></td><td style="width: 25%;"><div class="text-center"> </div></td></tr><!></tbody></table></div>'),se[l],[[13,0,[[14,2],[15,2,[[16,4,[[17,6,[[18,8,[[19,11]]],[22,8,[[23,11]]],[24,8,[[25,11]]]]]]]]]]]]);function se(M,v){fe(new.target),be(v,!0,se);const n=()=>(le(w,"t"),ve(w,"$t",r)),[r,E]=Ee(),{t:w}=Ne();var F={get t(){return w},...he()},$=Kt(),p=t($),D=t(p,!0);e(p);var m=o(p,2),h=t(m),y=t(h),R=t(y),I=t(R),U=t(I,!0);e(I),e(R);var q=o(R),J=t(q),Q=t(J,!0);e(J),e(q);var B=o(q),X=t(B),c=t(X,!0);e(X),e(B),e(y);var V=o(y);at(()=>v.results,T=>T.file_name),s(()=>rt(V,17,()=>v.results,T=>T.file_name,(T,x)=>{var u=Wt(),g=t(u),A=t(g),H=t(A,!0);e(A),e(g);var G=o(g),P=t(G),C=t(P),Y=t(C);e(C),e(P),e(G);var j=o(G),te=t(j),L=t(te),ae=t(L,!0);e(L),e(te),e(j),e(u),K((ne,ce,$e)=>{d(H,O(x).file_name),k(C,"title",ne),k(C,"href",`https://www.virustotal.com/gui/file/${O(x).hash}`),k(Y,"title",ce),k(L,"title",$e),d(ae,O(x).safe?"checkmark":"cancel")},[()=>n()("version.virustotal.result"),()=>n()("version.virustotal.result"),()=>O(x).safe?n()("version.virustotal.safe"):n()("version.virustotal.not_safe")]),i(T,u)}),"each",se,27,6),e(h),e(m),e($),K((T,x,u,g,A,H,G,P)=>{d(D,T),k(m,"aria-label",x),k(I,"title",u),d(U,g),k(J,"title",A),d(Q,H),k(X,"title",G),d(c,P)},[()=>n()("virustotal.table.title"),()=>n()("virustotal.table.title"),()=>n()("virustotal.table.file_name"),()=>n()("virustotal.table.file_name"),()=>n()("virustotal.table.results"),()=>n()("virustotal.table.results"),()=>n()("virustotal.table.safe"),()=>n()("virustotal.table.safe")]),i(M,$);var S=xe(F);return E(),S}a[l]="src/routes/mod/[modId]/version/[versionId]/+page.svelte";var Ut=f(b("<p>Loading...</p>"),a[l],[[72,2]]),Jt=f(b("<p> </p>"),a[l],[[74,2]]),Qt=f(b('<button class="btn border border-primary-500 preset-tonal-primary"><span class="material-icons pr-2">edit_document</span> Edit</button> <!> <button class="btn border border-primary-500 preset-tonal-primary"><span class="material-icons pr-2">delete</span> Delete</button>',1),a[l],[[85,10,[[88,12]]],[99,10,[[100,12]]]]),Xt=f(b(' <span class="material-icons" style="margin: 0;">arrow_drop_down</span>',1),a[l],[[109,14]]),Ht=f(b('<li><a class="w-full"><span> </span></a></li>'),a[l],[[117,24,[[118,26,[[128,28]]]]]]),Yt=f(b('<nav class="list-nav"><ul></ul></nav>'),a[l],[[114,18,[[115,20]]]]),Zt=f(b("<!> <!>",1),a[l],[]),ea=f(b('<a class="btn border border-primary-500 preset-tonal-primary">View</a> <a class="btn border border-primary-500 preset-tonal-primary">Download</a>',1),a[l],[[139,10],[142,10]]),ta=f(b('<div class="xlx:grid-flow-row grid gap-6"><div class="flex h-auto flex-wrap items-center justify-between"><h1 class="text-4xl font-bold"> </h1> <div class="grid grid-flow-col gap-4"><!> <!> <button class="btn border border-primary-500 preset-tonal-primary" title="Install via Satisfactory Mod Manager"><span class="material-icons">download</span> <span>Install</span></button> <a class="btn border border-primary-500 preset-tonal-primary" title="View the description page for this mod"><span class="material-icons">extension</span> <span> </span></a></div></div> <div class="grid-auto-max grid auto-cols-fr gap-4"><!> <div class="grid auto-rows-min grid-cols-1 gap-8"><!> <!> <!> <!></div></div></div>'),a[l],[[76,2,[[77,4,[[78,6],[83,6,[[146,8,[[150,10],[151,10]]],[153,8,[[157,10],[158,10]]]]]]],[162,4,[[164,6]]]]]]);function a(M,v){fe(new.target),be(v,!0,a);const n=()=>(le(et,"user"),ve(et,"$user",w)),r=()=>(le(m,"version"),ve(m,"$version",w)),E=()=>(le($,"t"),ve($,"$t",w)),[w,F]=Ee(),{t:$}=Ne(),{modId:p,versionId:D,version:m}=v.data,h=bt();let y=Qe(xt(()=>n()?.roles?.deleteContent||r()?.data?.getVersion.mod?.authors?.findIndex(c=>Ae(c.user_id,n()?.id))>=0),"canUserEdit");const R=()=>{h.mutation(Pt,{versionId:D}).toPromise().then(c=>{c.error?(console.error(...yt("error",c.error.message)),tt.error({description:"Error deleting version: "+c.error.message})):(tt.success({description:"Version deleted",duration:5e3}),Xe(_e+"/mod/"+p))})};let I=Qe(wt(!1),"deleteModalOpen");var U={...he()},q=oe();ht(c=>{var V=oe(),S=N(V);{var T=x=>{s(()=>Et(x,{get description(){return`Information for mod version ${r().data.getVersion.mod.name??""} ${r().data.getVersion.version??""}`},get title(){return`Mod version ${r().data.getVersion.mod.name??""} ${r().data.getVersion.version??""}`}}),"component",a,65,4,{componentTag:"MetaDescriptors"})};s(()=>W(S,x=>{!r().fetching&&!r().error&&r().data.getVersion&&x(T)}),"if",a,64,2)}i(c,V)});var J=N(q);{var Q=c=>{var V=Ut();i(c,V)},B=c=>{var V=oe(),S=N(V);{var T=u=>{var g=Jt(),A=t(g);e(g),K(()=>d(A,`Oh no... ${r().error.message??""}`)),i(u,g)},x=u=>{var g=oe(),A=N(g);{var H=P=>{var C=ta(),Y=t(C),j=t(Y),te=t(j);e(j);var L=o(j,2),ae=t(L);{var ne=_=>{var Z=Qt(),re=N(Z);re.__click=()=>Xe(_e+"/mod/"+p+"/version/"+D+"/edit");var ee=o(re,2);s(()=>zt(ee,{title:"Delete version?",body:"Are you sure you wish to delete this version?",buttonTextCancel:"Cancel",buttonTextConfirm:"Delete",confirm:R,get open(){return O(I)},set open(Ve){He(I,Ve,!0)}}),"component",a,92,10,{componentTag:"BasicModal"});var pe=o(ee,2);pe.__click=()=>He(I,!0),i(_,Z)};s(()=>W(ae,_=>{O(y)&&_(ne)}),"if",a,84,8)}var ce=o(ae,2);{var $e=_=>{s(()=>ue(_,{children:de(a,(Z,re)=>{var ee=Zt(),pe=N(ee);s(()=>Ce(pe,()=>ue.Trigger,(Te,je)=>{je(Te,{class:"btn border border-primary-500 preset-tonal-primary",title:"Download a specific release target of this mod",children:de(a,(me,Le)=>{Ye();var ge=Xt(),Pe=N(ge);Ye(),K(De=>d(Pe,`${De??""} `),[()=>E()("download")]),i(me,ge)}),$$slots:{default:!0}})}),"component",a,105,12,{componentTag:"Popover.Trigger"});var Ve=o(pe,2);s(()=>$t(Ve,{children:de(a,(Te,je)=>{var me=oe(),Le=N(me);s(()=>Ce(Le,()=>ue.Positioner,(ge,Pe)=>{Pe(ge,{children:de(a,(De,aa)=>{var We=oe(),dt=N(We);s(()=>Ce(dt,()=>ue.Content,(vt,lt)=>{lt(vt,{class:"z-10 w-72 card preset-filled-surface-100-900 shadow-xl",children:de(a,(ct,ra)=>{var ke=Yt(),Ke=t(ke);at(()=>r().data.getVersion.targets,ie=>ie.targetName),s(()=>rt(Ke,5,()=>r().data.getVersion.targets,ie=>ie.targetName,(ie,Ue)=>{var Ie=Ht(),Me=t(Ie),Je=t(Me),pt=t(Je);e(Je),e(Me),e(Ie),K(mt=>{k(Me,"href",Ze+"/mod/"+p+"/versions/"+D+"/"+O(Ue).targetName+"/download"),d(pt,`Download ${mt??""}`)},[()=>Nt(O(Ue).targetName)]),i(ie,Ie)}),"each",a,116,22),e(Ke),e(ke),i(ct,ke)}),$$slots:{default:!0}})}),"component",a,113,16,{componentTag:"Popover.Content"}),i(De,We)}),$$slots:{default:!0}})}),"component",a,112,14,{componentTag:"Popover.Positioner"}),i(Te,me)}),$$slots:{default:!0}}),"component",a,111,12,{componentTag:"Portal"}),i(Z,ee)}),$$slots:{default:!0}}),"component",a,104,10,{componentTag:"Popover"})},ot=_=>{var Z=ea(),re=N(Z),ee=o(re,2);K(()=>{k(re,"href",_e+"/mod/"+p+"/version/"+D),k(ee,"href",Ze+"/mod/"+p+"/versions/"+D+"/download")}),i(_,Z)};s(()=>W(ce,_=>{Ae(r().data.getVersion.targets.length,0,!1)?_($e):_(ot,!1)}),"if",a,103,8)}var Re=o(ce,2);Re.__click=()=>Rt(r().data.getVersion.mod.mod_reference);var ye=o(Re,2),Se=o(t(ye),2),st=t(Se,!0);e(Se),e(ye),e(L),e(Y);var Ge=o(Y,2),Oe=t(Ge);s(()=>z(Oe,{get changelog(){return r().data.getVersion.changelog},get approved(){return r().data.getVersion.approved}}),"component",a,163,6,{componentTag:"VersionDescription"});var ze=o(Oe,2),Fe=t(ze);s(()=>we(Fe,{get version(){return r().data.getVersion}}),"component",a,165,8,{componentTag:"VersionInfo"});var qe=o(Fe,2);s(()=>St(qe,{get targets(){return r().data.getVersion.targets}}),"component",a,166,8,{componentTag:"VersionTargetSupportGrid"});var Be=o(qe,2);s(()=>Gt(Be,{get dependencies(){return r().data.getVersion.dependencies}}),"component",a,167,8,{componentTag:"VersionDependenciesGrid"});var nt=o(Be,2);{var it=_=>{s(()=>se(_,{get results(){return r().data.getVersion.virustotal_results}}),"component",a,169,10,{componentTag:"VirustotalResults"})};s(()=>W(nt,_=>{Ae(r().data.getVersion.virustotal_results.length,0,!1)&&_(it)}),"if",a,168,8)}e(ze),e(Ge),e(C),K(_=>{d(te,`${r().data.getVersion.mod.name??""}
        Version ${r().data.getVersion.version??""}`),k(ye,"href",_e+"/mod/"+p),d(st,_)},[()=>E()("version.back")]),i(P,C)},G=P=>{s(()=>Ot(P,{}),"component",a,175,2,{componentTag:"Page404"})};s(()=>W(A,P=>{r().data.getVersion?P(H):P(G,!1)},!0),"if",a,75,0)}i(u,g)};s(()=>W(S,u=>{r().error?u(T):u(x,!1)},!0),"if",a,73,0)}i(c,V)};s(()=>W(J,c=>{r().fetching?c(Q):c(B,!1)}),"if",a,71,0)}i(M,q);var X=xe(U);return F(),X}ft(["click"]);export{a as component,ba as universal};
//# sourceMappingURL=19.B8xFVjPW.js.map
