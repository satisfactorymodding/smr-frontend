{"version":3,"file":"24.DNJaI8xy.js","sources":["../../../../../../src/routes/new-mod/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContextClient } from '@urql/svelte';\n  import { NewModDocument } from '$lib/generated';\n  import { goto } from '$app/navigation';\n  import ModForm from '$lib/components/mods/ModForm.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { base } from '$app/paths';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import { toaster } from '$lib/utils/toaster-svelte';\n\n  const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const onSubmit = (data: ModData) => {\n    client\n      .mutation(NewModDocument, {\n        mod: data\n      })\n      .toPromise()\n      .then((value) => {\n        if (value.error) {\n          console.error(value.error.message);\n          toaster.error({\n            description: 'Error creating mod: ' + value.error.message\n          });\n        } else {\n          toaster.success({\n            description: $t('new-mod.toast.creation-success'),\n            duration: 5000\n          });\n          goto(base + '/mod/' + value.data.createMod.id);\n        }\n      });\n  };\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Adding a new mod in the Satisfactory Mod Repository\" title=\"New mod\" />\n</svelte:head>\n\n<h1 class=\"my-4 text-4xl font-bold\">{$t('new-mod.title')}</h1>\n\n<div class=\"card preset-filled-surface-100-900 p-4\">\n  <section>\n    <ModForm {onSubmit} />\n  </section>\n</div>\n"],"names":["t","getTranslate","client","getContextClient","onSubmit","data","NewModDocument","value","$.log_if_contains_state","toaster","$t","goto","base","$.template_effect","$0","$.set_text","text"],"mappings":"+lBAAA,sEAWU,CAAA,EAAAA,CAAC,EAAKC,EAAY,EAEpBC,EAASC,EAAgB,EAEzBC,EAAYC,GAAkB,CAClCH,EACG,SAASI,EAAc,CACtB,IAAKD,EAAA,EAEN,UAAS,EACT,KAAME,GAAU,CACXA,EAAM,OACR,QAAQ,MAAK,GAAAC,EAAA,QAACD,EAAM,MAAM,OAAO,CAAA,EACjCE,EAAQ,MAAK,CACX,YAAa,uBAAyBF,EAAM,MAAM,QAAA,IAGpDE,EAAQ,QAAO,CACb,YAAaC,EAAE,EAAC,gCAAgC,EAChD,SAAU,MAEZC,EAAKC,EAAO,QAAUL,EAAM,KAAK,UAAU,EAAE,EAEjD,CAAC,CACL,wUAOmCM,EAAAC,GAAAC,EAAAC,EAAAF,CAAA,EAAA,CAAA,IAAAJ,EAAE,EAAC,eAAe,CAAA,CAAA,gCANvD"}