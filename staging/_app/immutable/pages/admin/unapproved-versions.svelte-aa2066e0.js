import{S as Z,i as ee,s as te,e as N,W as h,c as A,d as B,X as v,f as u,a7 as O,j as g,a5 as U,Y as w,m as p,t as d,$ as y,bb as re,a as V,b as P,aV as ne,g as b,l as R,aC as $e,al as fe,an as se,aB as S,aD as ae,k as q,w as oe,bc as K,aa as D,ab as M,ac as C,aM as le,aH as E}from"../../chunks/vendor-d4970a5c.js";import{j as ie,k as ce,l as me}from"../../chunks/graphql-6d78cc7d.js";import{P as Q}from"../../chunks/PageControls-c0ff9e5d.js";import{a as W}from"../../chunks/api-bb6d5972.js";import"../../chunks/user-b54187cf.js";import{b as X}from"../../chunks/paths-1c47712a.js";import{M as ue}from"../../chunks/MetaDescriptors-98c69836.js";import{D as pe,H as de,B as ge,R as T,C as j}from"../../chunks/forms-b3413c18.js";import{p as Y}from"../../chunks/formatting-b1e7d458.js";import"../../chunks/stores-4154e90f.js";function z(s,e,r){const t=s.slice();return t[10]=e[r],t}function F(s){let e,r,t,n;return t=new Q({props:{totalPages:Math.ceil(s[1]/I),currentPage:s[3]}}),{c(){e=N("div"),r=N("div"),h(t.$$.fragment),this.h()},l(f){e=A(f,"DIV",{class:!0});var o=B(e);r=A(o,"DIV",{});var i=B(r);v(t.$$.fragment,i),i.forEach(u),o.forEach(u),this.h()},h(){O(e,"class","mb-5 ml-auto flex justify-end")},m(f,o){g(f,e,o),U(e,r),w(t,r,null),n=!0},p(f,o){const i={};o&2&&(i.totalPages=Math.ceil(f[1]/I)),t.$set(i)},i(f){n||(p(t.$$.fragment,f),n=!0)},o(f){d(t.$$.fragment,f),n=!1},d(f){f&&u(e),y(t)}}}function xe(s){let e,r;return e=new pe({props:{class:"max-w-full",$$slots:{default:[Be]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function he(s){let e,r;return e=new K({props:{$$slots:{default:[Re]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function ve(s){let e,r;return e=new K({props:{$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8192&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function we(s){let e;return{c(){e=D("Mod")},l(r){e=M(r,"Mod")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function ye(s){let e;return{c(){e=D("Version")},l(r){e=M(r,"Version")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ve(s){let e;return{c(){e=D("Release Date")},l(r){e=M(r,"Release Date")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function be(s){let e,r,t,n,f,o,i,a;return e=new j({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),t=new j({props:{$$slots:{default:[ye]},$$scope:{ctx:s}}}),f=new j({props:{$$slots:{default:[Ve]},$$scope:{ctx:s}}}),i=new j({}),{c(){h(e.$$.fragment),r=V(),h(t.$$.fragment),n=V(),h(f.$$.fragment),o=V(),h(i.$$.fragment)},l(l){v(e.$$.fragment,l),r=b(l),v(t.$$.fragment,l),n=b(l),v(f.$$.fragment,l),o=b(l),v(i.$$.fragment,l)},m(l,$){w(e,l,$),g(l,r,$),w(t,l,$),g(l,n,$),w(f,l,$),g(l,o,$),w(i,l,$),a=!0},p(l,$){const c={};$&8192&&(c.$$scope={dirty:$,ctx:l}),e.$set(c);const x={};$&8192&&(x.$$scope={dirty:$,ctx:l}),t.$set(x);const m={};$&8192&&(m.$$scope={dirty:$,ctx:l}),f.$set(m)},i(l){a||(p(e.$$.fragment,l),p(t.$$.fragment,l),p(f.$$.fragment,l),p(i.$$.fragment,l),a=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),d(f.$$.fragment,l),d(i.$$.fragment,l),a=!1},d(l){y(e,l),l&&u(r),y(t,l),l&&u(n),y(f,l),l&&u(o),y(i,l)}}}function De(s){let e,r;return e=new T({props:{$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8192&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Me(s){let e=s[10].mod.name+"",r;return{c(){r=D(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[10].mod.name+"")&&C(r,e)},d(t){t&&u(r)}}}function je(s){let e=s[10].version+"",r;return{c(){r=D(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[10].version+"")&&C(r,e)},d(t){t&&u(r)}}}function Pe(s){let e=Y(s[10].created_at)+"",r;return{c(){r=D(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=Y(t[10].created_at)+"")&&C(r,e)},d(t){t&&u(r)}}}function Ie(s){let e;return{c(){e=D("Approve")},l(r){e=M(r,"Approve")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function _e(s){let e;return{c(){e=D("Deny")},l(r){e=M(r,"Deny")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function ke(s){let e;return{c(){e=D("Download")},l(r){e=M(r,"Download")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ee(s){let e;return{c(){e=D("View")},l(r){e=M(r,"View")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ue(s){let e,r,t,n,f,o,i,a,l;function $(){return s[6](s[10])}r=new E({props:{variant:"outlined",$$slots:{default:[Ie]},$$scope:{ctx:s}}}),r.$on("click",$);function c(){return s[7](s[10])}return n=new E({props:{variant:"outlined",$$slots:{default:[_e]},$$scope:{ctx:s}}}),n.$on("click",c),o=new E({props:{variant:"outlined",href:W+"/mod/"+s[10].mod_id+"/versions/"+s[10].id+"/download",$$slots:{default:[ke]},$$scope:{ctx:s}}}),a=new E({props:{variant:"outlined",href:X+"/mod/"+s[10].mod_id+"/version/"+s[10].id,$$slots:{default:[Ee]},$$scope:{ctx:s}}}),{c(){e=N("div"),h(r.$$.fragment),t=V(),h(n.$$.fragment),f=V(),h(o.$$.fragment),i=V(),h(a.$$.fragment),this.h()},l(x){e=A(x,"DIV",{class:!0});var m=B(e);v(r.$$.fragment,m),t=b(m),v(n.$$.fragment,m),f=b(m),v(o.$$.fragment,m),i=b(m),v(a.$$.fragment,m),m.forEach(u),this.h()},h(){O(e,"class","grid grid-flow-col gap-4")},m(x,m){g(x,e,m),w(r,e,null),U(e,t),w(n,e,null),U(e,f),w(o,e,null),U(e,i),w(a,e,null),l=!0},p(x,m){s=x;const _={};m&8192&&(_.$$scope={dirty:m,ctx:s}),r.$set(_);const k={};m&8192&&(k.$$scope={dirty:m,ctx:s}),n.$set(k);const H={};m&1&&(H.href=W+"/mod/"+s[10].mod_id+"/versions/"+s[10].id+"/download"),m&8192&&(H.$$scope={dirty:m,ctx:s}),o.$set(H);const L={};m&1&&(L.href=X+"/mod/"+s[10].mod_id+"/version/"+s[10].id),m&8192&&(L.$$scope={dirty:m,ctx:s}),a.$set(L)},i(x){l||(p(r.$$.fragment,x),p(n.$$.fragment,x),p(o.$$.fragment,x),p(a.$$.fragment,x),l=!0)},o(x){d(r.$$.fragment,x),d(n.$$.fragment,x),d(o.$$.fragment,x),d(a.$$.fragment,x),l=!1},d(x){x&&u(e),y(r),y(n),y(o),y(a)}}}function Ne(s){let e,r,t,n,f,o,i,a,l;return e=new j({props:{$$slots:{default:[Me]},$$scope:{ctx:s}}}),t=new j({props:{$$slots:{default:[je]},$$scope:{ctx:s}}}),f=new j({props:{$$slots:{default:[Pe]},$$scope:{ctx:s}}}),i=new j({props:{$$slots:{default:[Ue]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment),r=V(),h(t.$$.fragment),n=V(),h(f.$$.fragment),o=V(),h(i.$$.fragment),a=V()},l($){v(e.$$.fragment,$),r=b($),v(t.$$.fragment,$),n=b($),v(f.$$.fragment,$),o=b($),v(i.$$.fragment,$),a=b($)},m($,c){w(e,$,c),g($,r,c),w(t,$,c),g($,n,c),w(f,$,c),g($,o,c),w(i,$,c),g($,a,c),l=!0},p($,c){const x={};c&8193&&(x.$$scope={dirty:c,ctx:$}),e.$set(x);const m={};c&8193&&(m.$$scope={dirty:c,ctx:$}),t.$set(m);const _={};c&8193&&(_.$$scope={dirty:c,ctx:$}),f.$set(_);const k={};c&8193&&(k.$$scope={dirty:c,ctx:$}),i.$set(k)},i($){l||(p(e.$$.fragment,$),p(t.$$.fragment,$),p(f.$$.fragment,$),p(i.$$.fragment,$),l=!0)},o($){d(e.$$.fragment,$),d(t.$$.fragment,$),d(f.$$.fragment,$),d(i.$$.fragment,$),l=!1},d($){y(e,$),$&&u(r),y(t,$),$&&u(n),y(f,$),$&&u(o),y(i,$),$&&u(a)}}}function G(s){let e,r;return e=new T({props:{$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Ae(s){let e,r,t=s[0].data.getUnapprovedVersions.versions,n=[];for(let o=0;o<t.length;o+=1)n[o]=G(z(s,t,o));const f=o=>d(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=P()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=P()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);g(o,e,i),r=!0},p(o,i){if(i&49){t=o[0].data.getUnapprovedVersions.versions;let a;for(a=0;a<t.length;a+=1){const l=z(o,t,a);n[a]?(n[a].p(l,i),p(n[a],1)):(n[a]=G(l),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(q(),a=t.length;a<n.length;a+=1)f(a);R()}},i(o){if(!r){for(let i=0;i<t.length;i+=1)p(n[i]);r=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)d(n[i]);r=!1},d(o){le(n,o),o&&u(e)}}}function Be(s){let e,r,t,n;return e=new de({props:{$$slots:{default:[De]},$$scope:{ctx:s}}}),t=new ge({props:{$$slots:{default:[Ae]},$$scope:{ctx:s}}}),{c(){h(e.$$.fragment),r=V(),h(t.$$.fragment)},l(f){v(e.$$.fragment,f),r=b(f),v(t.$$.fragment,f)},m(f,o){w(e,f,o),g(f,r,o),w(t,f,o),n=!0},p(f,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:f}),e.$set(i);const a={};o&8193&&(a.$$scope={dirty:o,ctx:f}),t.$set(a)},i(f){n||(p(e.$$.fragment,f),p(t.$$.fragment,f),n=!0)},o(f){d(e.$$.fragment,f),d(t.$$.fragment,f),n=!1},d(f){y(e,f),f&&u(r),y(t,f)}}}function Re(s){let e,r=s[0].error.message+"",t;return{c(){e=D("Oh no... "),t=D(r)},l(n){e=M(n,"Oh no... "),t=M(n,r)},m(n,f){g(n,e,f),g(n,t,f)},p(n,f){f&1&&r!==(r=n[0].error.message+"")&&C(t,r)},d(n){n&&u(e),n&&u(t)}}}function qe(s){let e;return{c(){e=D("Loading...")},l(r){e=M(r,"Loading...")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ce(s){let e,r,t,n;const f=[ve,he,xe],o=[];function i(a,l){return a[0].fetching?0:a[0].error?1:2}return e=i(s),r=o[e]=f[e](s),{c(){r.c(),t=P()},l(a){r.l(a),t=P()},m(a,l){o[e].m(a,l),g(a,t,l),n=!0},p(a,l){let $=e;e=i(a),e===$?o[e].p(a,l):(q(),d(o[$],1,1,()=>{o[$]=null}),R(),r=o[e],r?r.p(a,l):(r=o[e]=f[e](a),r.c()),p(r,1),r.m(t.parentNode,t))},i(a){n||(p(r),n=!0)},o(a){d(r),n=!1},d(a){o[e].d(a),a&&u(t)}}}function J(s){let e,r,t;return r=new Q({props:{totalPages:Math.ceil(s[1]/I),currentPage:s[3]}}),{c(){e=N("div"),h(r.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var f=B(e);v(r.$$.fragment,f),f.forEach(u),this.h()},h(){O(e,"class","mt-5 ml-auto flex justify-end")},m(n,f){g(n,e,f),w(r,e,null),t=!0},p(n,f){const o={};f&2&&(o.totalPages=Math.ceil(n[1]/I)),r.$set(o)},i(n){t||(p(r.$$.fragment,n),t=!0)},o(n){d(r.$$.fragment,n),t=!1},d(n){n&&u(e),y(r)}}}function He(s){let e,r,t,n,f,o,i;e=new ue({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let a=s[1]&&F(s);n=new re({props:{$$slots:{default:[Ce]},$$scope:{ctx:s}}});let l=s[1]&&J(s);return{c(){h(e.$$.fragment),r=V(),a&&a.c(),t=V(),h(n.$$.fragment),f=V(),l&&l.c(),o=P()},l($){const c=ne('[data-svelte="svelte-c87g9p"]',document.head);v(e.$$.fragment,c),c.forEach(u),r=b($),a&&a.l($),t=b($),v(n.$$.fragment,$),f=b($),l&&l.l($),o=P()},m($,c){w(e,document.head,null),g($,r,c),a&&a.m($,c),g($,t,c),w(n,$,c),g($,f,c),l&&l.m($,c),g($,o,c),i=!0},p($,[c]){$[1]?a?(a.p($,c),c&2&&p(a,1)):(a=F($),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(q(),d(a,1,1,()=>{a=null}),R());const x={};c&8193&&(x.$$scope={dirty:c,ctx:$}),n.$set(x),$[1]?l?(l.p($,c),c&2&&p(l,1)):(l=J($),l.c(),p(l,1),l.m(o.parentNode,o)):l&&(q(),d(l,1,1,()=>{l=null}),R())},i($){i||(p(e.$$.fragment,$),p(a),p(n.$$.fragment,$),p(l),i=!0)},o($){d(e.$$.fragment,$),d(a),d(n.$$.fragment,$),d(l),i=!1},d($){y(e),$&&u(r),a&&a.d($),$&&u(t),y(n,$),$&&u(f),l&&l.d($),$&&u(o)}}}const I=20;function Le(s,e,r){let t;const n=$e(ie,{filter:{offset:0,limit:I}});fe(s,n,m=>r(0,t=m));const f=oe(1);let o;f.subscribe(m=>se(n,t.variables.filter.offset=(m-1)*I,t));const i=S({query:ce}),a=m=>{i({versionId:m}).then(()=>{n.reexecute()})},l=S({query:me}),$=m=>{l({versionId:m}).then(()=>{n.reexecute()})};ae(n);const c=m=>a(m.id),x=m=>$(m.id);return s.$$.update=()=>{s.$$.dirty&1&&r(1,o=t?.data?.getUnapprovedVersions?.count)},[t,o,n,f,a,$,c,x]}class Qe extends Z{constructor(e){super(),ee(this,e,Le,He,te,{})}}export{Qe as default};
//# sourceMappingURL=unapproved-versions.svelte-aa2066e0.js.map
