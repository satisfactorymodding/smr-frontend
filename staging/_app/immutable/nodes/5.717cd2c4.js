import{S as rt,i as at,d as b,s as ct,bn as K,r as lt,T as ft,v as ut,aJ as q,aK as A,Y as $t,Z as mt,aM as z,a_ as U,bo as Y,ao as dt,a8 as y,a6 as D,x as _,L as E,bh as pt,ab as k,q as d,a9 as I,y as j,z as C,N as L,ac as gt,C as O,ae as w,l as S,ad as T,ai as ht,p as v,t as V,aj as M,k as F,m as St,n as bt,O as Z,P}from"../chunks/vendor.01de29c8.js";import{h as G,U as H}from"../chunks/graphql.cb6ec208.js";import{T as Q}from"../chunks/Toast.ec240bdf.js";import{S as W}from"../chunks/SMLVersionForm.b97a8d54.js";import{M as X}from"../chunks/MetaDescriptors.fe7dde36.js";const vt=async({params:i})=>({...i}),Pt=Object.freeze(Object.defineProperty({__proto__:null,load:vt},Symbol.toStringTag,{value:"Module"})),{console:J}=dt,R="src/routes/admin/sml-versions/[smlVersionId]/edit/+page.svelte";function tt(i){let t,e;t=new W({props:{onSubmit:i[5],initialValues:i[3],editing:!0,submitText:"Save"},$$inline:!0});const r={c:function(){y(t.$$.fragment)},l:function(n){k(t.$$.fragment,n)},m:function(n,o){w(t,n,o),e=!0},p:function(n,o){const l={};o&8&&(l.initialValues=n[3]),t.$set(l)},i:function(n){e||(v(t.$$.fragment,n),e=!0)},o:function(n){V(t.$$.fragment,n),e=!1},d:function(n){M(t,n)}};return b("SvelteRegisterBlock",{block:r,id:tt.name,type:"else",source:"(61:4) {:else}",ctx:i}),r}function et(i){let t,e,r=i[1].error.message+"",s;const n={c:function(){t=_("p"),e=E("Oh no... "),s=E(r),this.h()},l:function(l){t=j(l,"P",{});var u=C(t);e=L(u,"Oh no... "),s=L(u,r),u.forEach(d),this.h()},h:function(){O(t,R,59,6,1781)},m:function(l,u){S(l,t,u),T(t,e),T(t,s)},p:function(l,u){u&2&&r!==(r=l[1].error.message+"")&&Z(s,r)},i:P,o:P,d:function(l){l&&d(t)}};return b("SvelteRegisterBlock",{block:n,id:et.name,type:"if",source:"(59:32) ",ctx:i}),n}function nt(i){let t,e;const r={c:function(){t=_("p"),e=E("Loading..."),this.h()},l:function(n){t=j(n,"P",{});var o=C(t);e=L(o,"Loading..."),o.forEach(d),this.h()},h:function(){O(t,R,57,6,1724)},m:function(n,o){S(n,t,o),T(t,e)},p:P,i:P,o:P,d:function(n){n&&d(t)}};return b("SvelteRegisterBlock",{block:r,id:nt.name,type:"if",source:"(57:4) {#if $smlVersion.fetching}",ctx:i}),r}function ot(i){let t,e,r,s;const n=[nt,et,tt],o=[];function l($,f){return $[1].fetching?0:$[1].error?1:2}t=l(i),e=o[t]=n[t](i);const u={c:function(){e.c(),r=F()},l:function(f){e.l(f),r=F()},m:function(f,m){o[t].m(f,m),S(f,r,m),s=!0},p:function(f,m){let p=t;t=l(f),t===p?o[t].p(f,m):(St(),V(o[p],1,1,()=>{o[p]=null}),bt(),e=o[t],e?e.p(f,m):(e=o[t]=n[t](f),e.c()),v(e,1),e.m(r.parentNode,r))},i:function(f){s||(v(e),s=!0)},o:function(f){V(e),s=!1},d:function(f){o[t].d(f),f&&d(r)}};return b("SvelteRegisterBlock",{block:u,id:ot.name,type:"slot",source:"(56:2) <Content>",ctx:i}),u}function st(i){let t,e;t=new Y({props:{$$slots:{default:[ot]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){y(t.$$.fragment)},l:function(n){k(t.$$.fragment,n)},m:function(n,o){w(t,n,o),e=!0},p:function(n,o){const l={};o&1034&&(l.$$scope={dirty:o,ctx:n}),t.$set(l)},i:function(n){e||(v(t.$$.fragment,n),e=!0)},o:function(n){V(t.$$.fragment,n),e=!1},d:function(n){M(t,n)}};return b("SvelteRegisterBlock",{block:r,id:st.name,type:"slot",source:"(55:0) <Card>",ctx:i}),r}function it(i){let t,e;const r={c:function(){t=_("span"),e=E(i[2]),this.h()},l:function(n){t=j(n,"SPAN",{});var o=C(t);e=L(o,i[2]),o.forEach(d),this.h()},h:function(){O(t,R,67,2,1983)},m:function(n,o){S(n,t,o),T(t,e)},p:function(n,o){o&4&&Z(e,n[2])},d:function(n){n&&d(t)}};return b("SvelteRegisterBlock",{block:r,id:it.name,type:"slot",source:"(67:0) <Toast bind:running={errorToast}>",ctx:i}),r}function N(i){let t,e,r,s,n,o,l,u,$,f;t=new X({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"},$$inline:!0}),o=new K({props:{$$slots:{default:[st]},$$scope:{ctx:i}},$$inline:!0});function m(g){i[7](g)}let p={$$slots:{default:[it]},$$scope:{ctx:i}};i[0]!==void 0&&(p.running=i[0]),u=new Q({props:p,$$inline:!0}),lt.push(()=>ft(u,"running",m));const x={c:function(){y(t.$$.fragment),e=D(),r=_("h1"),s=E("Edit SMLVersion"),n=D(),y(o.$$.fragment),l=D(),y(u.$$.fragment),this.h()},l:function(c){const a=pt("svelte-7e9nlv",document.head);k(t.$$.fragment,a),a.forEach(d),e=I(c),r=j(c,"H1",{class:!0});var h=C(r);s=L(h,"Edit SMLVersion"),h.forEach(d),n=I(c),k(o.$$.fragment,c),l=I(c),k(u.$$.fragment,c),this.h()},h:function(){gt(r,"class","text-4xl my-4 font-bold"),O(r,R,52,0,1610)},m:function(c,a){w(t,document.head,null),S(c,e,a),S(c,r,a),T(r,s),S(c,n,a),w(o,c,a),S(c,l,a),w(u,c,a),f=!0},p:function(c,[a]){const h={};a&1034&&(h.$$scope={dirty:a,ctx:c}),o.$set(h);const B={};a&1028&&(B.$$scope={dirty:a,ctx:c}),!$&&a&1&&($=!0,B.running=c[0],ht(()=>$=!1)),u.$set(B)},i:function(c){f||(v(t.$$.fragment,c),v(o.$$.fragment,c),v(u.$$.fragment,c),f=!0)},o:function(c){V(t.$$.fragment,c),V(o.$$.fragment,c),V(u.$$.fragment,c),f=!1},d:function(c){M(t),c&&d(e),c&&d(r),c&&d(n),M(o,c),c&&d(l),M(u,c)}};return b("SvelteRegisterBlock",{block:x,id:N.name,type:"component",source:"",ctx:i}),x}function Vt(i,t,e){let r,s,{$$slots:n={},$$scope:o}=t;ut("Page",n,[]);let{data:l}=t;const{smlVersionId:u}=l,$=q();let f="",m=!1;const p=A({query:G,client:$,variables:{smlVersionID:u}});$t(p,"smlVersion"),mt(i,p,a=>e(1,s=a));const x=a=>{$.mutation(H,{smlVersionID:u,smlVersion:a}).toPromise().then(h=>{h.error?(console.error(h.error.message),e(2,f="Error editing SMLVersion: "+h.error.message),e(0,m=!0)):z(U+"/admin/sml-versions")})};i.$$.on_mount.push(function(){l===void 0&&!("data"in t||i.$$.bound[i.$$.props.data])&&J.warn("<Page> was created without expected prop 'data'")});const g=["data"];Object.keys(t).forEach(a=>{!~g.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&J.warn(`<Page> was created with unknown prop '${a}'`)});function c(a){m=a,e(0,m)}return i.$$set=a=>{"data"in a&&e(6,l=a.data)},i.$capture_state=()=>({getContextClient:q,queryStore:A,GetSmlVersionAdminDocument:G,UpdateSmlVersionDocument:H,Toast:Q,goto:z,SMLVersionForm:W,base:U,MetaDescriptors:X,Card:K,Content:Y,data:l,smlVersionId:u,client:$,errorMessage:f,errorToast:m,smlVersion:p,onSubmit:x,initialValues:r,$smlVersion:s}),i.$inject_state=a=>{"data"in a&&e(6,l=a.data),"errorMessage"in a&&e(2,f=a.errorMessage),"errorToast"in a&&e(0,m=a.errorToast),"initialValues"in a&&e(3,r=a.initialValues)},t&&"$$inject"in t&&i.$inject_state(t.$$inject),i.$$.update=()=>{i.$$.dirty&1&&(m||e(2,f="")),i.$$.dirty&2&&e(3,r=s.data?{...s.data.getSMLVersion,logo:void 0}:void 0)},[m,s,f,r,p,x,l,c]}class Et extends rt{constructor(t){super(t),at(this,t,Vt,N,ct,{data:6}),b("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:N.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Et as component,Pt as universal};
//# sourceMappingURL=5.717cd2c4.js.map
