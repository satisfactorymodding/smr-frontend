import{S as Ce,i as Me,s as Ye,d as F,v as Ae,aH as xe,am as Pe,an as De,aI as ke,ap as hn,g as Dt,p as T,x as L,k as f,e as k,af as U,h as E,j as _,ag as j,ac as g,n as y,ad as a,f as M,l as Y,ah as tt,y as yt,ae as Vt,bh as Ee,aQ as Ie,aM as Nt,b5 as $e,aP as Te,aV as ye,a7 as A,a8 as P,a9 as D,u as V,q as It,t as H,r as Tt,ab as I,aW as vn,ai as _t,O as wn,bi as bn}from"./vendor-71586dff.js";import{o as Ve,s as Et,b as ee,c as xn,l as kn,d as En,T as St,V as dt,I as _e,e as Se,a as Fe,f as Ne}from"./forms-a767280e.js";import{t as He}from"./forms-5941be64.js";import{m as oe}from"./markdown-bc68363c.js";import{r as Re}from"./graphql-587ea9ba.js";import{a as se}from"./paths-396f020f.js";const ne=Ve({name:Et().min(3).max(32),mod_reference:Et().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:Et().min(16).max(128),full_description:ee(Et()),logo:ee(xn().refine(e=>"name"in e&&"size"in e&&"type"in e)),source_url:Et().url().optional().or(kn("")),authors:ee(Ve({role:Et(),user_id:Et()}).array()),hidden:En()}),Ft="src/lib/components/mods/ModAuthor.svelte";function qe(e){let t,n;const r={c:function(){t=k("p"),n=U("Unknown User ID"),this.h()},l:function(o){t=E(o,"P",{class:!0});var i=_(t);n=j(i,"Unknown User ID"),i.forEach(f),this.h()},h:function(){g(t,"class","mr-2 whitespace-nowrap"),y(t,Ft,26,2,843)},m:function(o,i){T(o,t,i),a(t,n)},p:L,d:function(o){o&&f(t)}};return F("SvelteRegisterBlock",{block:r,id:qe.name,type:"else",source:"(26:0) {:else}",ctx:e}),r}function Ue(e){let t,n,r,s,o,i,c=e[0].data.getUser.username+"",l;const m={c:function(){t=k("div"),n=k("div"),s=M(),o=k("div"),i=k("span"),l=U(c),this.h()},l:function(w){t=E(w,"DIV",{class:!0});var S=_(t);n=E(S,"DIV",{class:!0,style:!0}),_(n).forEach(f),s=Y(S),o=E(S,"DIV",{class:!0});var v=_(o);i=E(v,"SPAN",{class:!0});var h=_(i);l=j(h,c),h.forEach(f),v.forEach(f),S.forEach(f),this.h()},h:function(){g(n,"class","rounded-full bg-cover w-7 h-7"),g(n,"style",r=`background-image: url("${e[0].data.getUser.avatar||se+"/images/no_image.webp"}")`),y(n,Ft,18,4,545),g(i,"class","text-yellow-500"),y(i,Ft,22,6,746),g(o,"class","grid grid-flow-row"),y(o,Ft,21,4,707),g(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2"),y(t,Ft,17,2,481)},m:function(w,S){T(w,t,S),a(t,n),a(t,s),a(t,o),a(o,i),a(i,l)},p:function(w,S){S&1&&r!==(r=`background-image: url("${w[0].data.getUser.avatar||se+"/images/no_image.webp"}")`)&&g(n,"style",r),S&1&&c!==(c=w[0].data.getUser.username+"")&&tt(l,c)},d:function(w){w&&f(t)}};return F("SvelteRegisterBlock",{block:m,id:Ue.name,type:"if",source:"(17:29) ",ctx:e}),m}function je(e){let t,n,r=e[0].error.message+"",s;const o={c:function(){t=k("p"),n=U("Oh no... "),s=U(r),this.h()},l:function(c){t=E(c,"P",{class:!0});var l=_(t);n=j(l,"Oh no... "),s=j(l,r),l.forEach(f),this.h()},h:function(){g(t,"class","mr-2"),y(t,Ft,15,2,398)},m:function(c,l){T(c,t,l),a(t,n),a(t,s)},p:function(c,l){l&1&&r!==(r=c[0].error.message+"")&&tt(s,r)},d:function(c){c&&f(t)}};return F("SvelteRegisterBlock",{block:o,id:je.name,type:"if",source:"(15:22) ",ctx:e}),o}function Le(e){let t,n;const r={c:function(){t=k("p"),n=U("Loading..."),this.h()},l:function(o){t=E(o,"P",{class:!0});var i=_(t);n=j(i,"Loading..."),i.forEach(f),this.h()},h:function(){g(t,"class","mr-2"),y(t,Ft,13,2,342)},m:function(o,i){T(o,t,i),a(t,n)},p:L,d:function(o){o&&f(t)}};return F("SvelteRegisterBlock",{block:r,id:Le.name,type:"if",source:"(13:0) {#if $user.fetching}",ctx:e}),r}function ie(e){let t;function n(i,c){return i[0].fetching?Le:i[0].error?je:i[0].data.getUser?Ue:qe}let r=n(e),s=r(e);const o={c:function(){s.c(),t=Dt()},l:function(c){s.l(c),t=Dt()},m:function(c,l){s.m(c,l),T(c,t,l)},p:function(c,[l]){r===(r=n(c))&&s?s.p(c,l):(s.d(1),s=r(c),s&&(s.c(),s.m(t.parentNode,t)))},i:L,o:L,d:function(c){s.d(c),c&&f(t)}};return F("SvelteRegisterBlock",{block:o,id:ie.name,type:"component",source:"",ctx:e}),o}function yn(e,t,n){let r,{$$slots:s={},$$scope:o}=t;Ae("ModAuthor",s,[]);let{id:i}=t;const c=xe(Re,{user:i});Pe(c,"user"),De(e,c,m=>n(0,r=m)),ke(c);const l=["id"];return Object.keys(t).forEach(m=>{!~l.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<ModAuthor> was created with unknown prop '${m}'`)}),e.$$set=m=>{"id"in m&&n(2,i=m.id)},e.$capture_state=()=>({operationStore:xe,query:ke,GetUserDocument:Re,assets:se,id:i,user:c,$user:r}),e.$inject_state=m=>{"id"in m&&n(2,i=m.id)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&5&&(hn(c,r.variables.user=i,r),r.reexecute())},[r,c,i]}class Oe extends Ce{constructor(t){super(t),Me(this,t,yn,ie,Ye,{id:2}),F("SvelteRegisterComponent",{component:this,tagName:"ModAuthor",options:t,id:ie.name});const{ctx:n}=this.$$,r=t.props||{};n[2]===void 0&&!("id"in r)&&console.warn("<ModAuthor> was created without expected prop 'id'")}get id(){throw new Error("<ModAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Cn=(()=>`.split.s-YtrVF1HCE9t3.s-YtrVF1HCE9t3{grid-template-columns:50% 50%}.split.s-YtrVF1HCE9t3 .right.s-YtrVF1HCE9t3{max-height:75vh;overflow:auto}
`)();const R="src/lib/components/mods/ModForm.svelte";function Be(e,t,n){const r=e.slice();return r[18]=t[n],r[19]=t,r[20]=n,r}function ze(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,45,8,1578)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:ze.name,type:"slot",source:'(45:6) <ValidationMessage for=\\"name\\" let:messages={message}>',ctx:e}),s}function re(e){let t;const n={c:function(){t=U(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l:function(s){t=j(s,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m:function(s,o){T(s,t,o)},d:function(s){s&&f(t)}};return F("SvelteRegisterBlock",{block:n,id:re.name,type:"if",source:"(53:10) {#if !editing}",ctx:e}),n}function We(e){let t,n=!e[1]&&re(e);const r={c:function(){n&&n.c(),t=Dt()},l:function(o){n&&n.l(o),t=Dt()},m:function(o,i){n&&n.m(o,i),T(o,t,i)},p:function(o,i){o[1]?n&&(n.d(1),n=null):n||(n=re(o),n.c(),n.m(t.parentNode,t))},d:function(o){n&&n.d(o),o&&f(t)}};return F("SvelteRegisterBlock",{block:r,id:We.name,type:"slot",source:'(52:8) <HelperText persistent={!editing} slot=\\"helper\\">',ctx:e}),r}function Ze(e){let t,n;t=new Ne({props:{persistent:!e[1],slot:"helper",$$slots:{default:[We]},$$scope:{ctx:e}},$$inline:!0});const r={c:function(){A(t.$$.fragment)},l:function(o){P(t.$$.fragment,o)},m:function(o,i){D(t,o,i),n=!0},p:function(o,i){const c={};i&2&&(c.persistent=!o[1]),i&8388610&&(c.$$scope={dirty:i,ctx:o}),t.$set(c)},i:function(o){n||(V(t.$$.fragment,o),n=!0)},o:function(o){H(t.$$.fragment,o),n=!1},d:function(o){I(t,o)}};return F("SvelteRegisterBlock",{block:r,id:Ze.name,type:"slot",source:"(52:8) ",ctx:e}),r}function Ge(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,59,8,2209)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:Ge.name,type:"slot",source:'(59:6) <ValidationMessage for=\\"mod_reference\\" let:messages={message}>',ctx:e}),s}function Qe(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,66,8,2520)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:Qe.name,type:"slot",source:'(66:6) <ValidationMessage for=\\"short_description\\" let:messages={message}>',ctx:e}),s}function Xe(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,80,10,2996)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:Xe.name,type:"slot",source:'(80:8) <ValidationMessage for=\\"full_description\\" let:messages={message}>',ctx:e}),s}function Je(e){const t={c:L,l:L,m:L,p:L,d:L};return F("SvelteRegisterBlock",{block:t,id:Je.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function Ke(e){let t,n=e[22]+"";const r={c:function(){t=k("div"),this.h()},l:function(o){t=E(o,"DIV",{class:!0});var i=_(t);i.forEach(f),this.h()},h:function(){g(t,"class","markdown-content right s-YtrVF1HCE9t3"),y(t,R,86,10,3249)},m:function(o,i){T(o,t,i),t.innerHTML=n},p:function(o,i){i&8&&n!==(n=o[22]+"")&&(t.innerHTML=n)},d:function(o){o&&f(t)}};return F("SvelteRegisterBlock",{block:r,id:Ke.name,type:"then",source:'(86:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:e}),r}function tn(e){const t={c:L,l:L,m:L,p:L,d:L};return F("SvelteRegisterBlock",{block:t,id:tn.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function en(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,101,8,3682)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:en.name,type:"slot",source:'(101:6) <ValidationMessage for=\\"logo\\" let:messages={message}>',ctx:e}),s}function nn(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,108,8,3963)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:nn.name,type:"slot",source:'(108:6) <ValidationMessage for=\\"source_url\\" let:messages={message}>',ctx:e}),s}function on(e){let t,n,r;function s(c){e[15](c)}let o={};e[2].hidden!==void 0&&(o.checked=e[2].hidden),t=new Te({props:o,$$inline:!0}),yt.push(()=>Vt(t,"checked",s));const i={c:function(){A(t.$$.fragment)},l:function(l){P(t.$$.fragment,l)},m:function(l,m){D(t,l,m),r=!0},p:function(l,m){const $={};!n&&m&4&&(n=!0,$.checked=l[2].hidden,_t(()=>n=!1)),t.$set($)},i:function(l){r||(V(t.$$.fragment,l),r=!0)},o:function(l){H(t.$$.fragment,l),r=!1},d:function(l){I(t,l)}};return F("SvelteRegisterBlock",{block:i,id:on.name,type:"slot",source:"(114:6) <FormField>",ctx:e}),i}function sn(e){let t,n;const r={c:function(){t=k("span"),n=U("Hidden"),this.h()},l:function(o){t=E(o,"SPAN",{slot:!0,class:!0});var i=_(t);n=j(i,"Hidden"),i.forEach(f),this.h()},h:function(){g(t,"slot","label"),g(t,"class","s-YtrVF1HCE9t3"),y(t,R,115,8,4174)},m:function(o,i){T(o,t,i),a(t,n)},p:L,d:function(o){o&&f(t)}};return F("SvelteRegisterBlock",{block:r,id:sn.name,type:"slot",source:"(116:8) ",ctx:e}),r}function rn(e){let t,n=(e[21]||"")+"",r;const s={c:function(){t=k("span"),r=U(n),this.h()},l:function(i){t=E(i,"SPAN",{class:!0});var c=_(t);r=j(c,n),c.forEach(f),this.h()},h:function(){g(t,"class","validation-message s-YtrVF1HCE9t3"),y(t,R,118,8,4296)},m:function(i,c){T(i,t,c),a(t,r)},p:function(i,c){c&2097152&&n!==(n=(i[21]||"")+"")&&tt(r,n)},d:function(i){i&&f(t)}};return F("SvelteRegisterBlock",{block:s,id:rn.name,type:"slot",source:'(118:6) <ValidationMessage for=\\"hidden\\" let:messages={message}>',ctx:e}),s}function ce(e){let t,n,r,s,o,i,c,l;i=new Nt({props:{type:"button",$$slots:{default:[ln]},$$scope:{ctx:e}},$$inline:!0}),i.$on("click",e[6]);let m=e[2].authors;ye(m);let $=[];for(let v=0;v<m.length;v+=1)$[v]=ue(Be(e,m,v));const w=v=>H($[v],1,1,()=>{$[v]=null}),S={c:function(){t=k("div"),n=k("div"),r=k("h4"),s=U("Authors"),o=M(),A(i.$$.fragment),c=M();for(let h=0;h<$.length;h+=1)$[h].c();this.h()},l:function(h){t=E(h,"DIV",{class:!0});var d=_(t);n=E(d,"DIV",{class:!0});var B=_(n);r=E(B,"H4",{class:!0});var C=_(r);s=j(C,"Authors"),C.forEach(f),o=Y(B),P(i.$$.fragment,B),B.forEach(f),c=Y(d);for(let z=0;z<$.length;z+=1)$[z].l(d);d.forEach(f),this.h()},h:function(){g(r,"class","mr-4 s-YtrVF1HCE9t3"),y(r,R,125,10,4506),g(n,"class","flex items-baseline s-YtrVF1HCE9t3"),y(n,R,124,8,4462),g(t,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(t,R,123,6,4415)},m:function(h,d){T(h,t,d),a(t,n),a(n,r),a(r,s),a(n,o),D(i,n,null),a(t,c);for(let B=0;B<$.length;B+=1)$[B].m(t,null);l=!0},p:function(h,d){const B={};if(d&8388608&&(B.$$scope={dirty:d,ctx:h}),i.$set(B),d&132){m=h[2].authors,ye(m);let C;for(C=0;C<m.length;C+=1){const z=Be(h,m,C);$[C]?($[C].p(z,d),V($[C],1)):($[C]=ue(z),$[C].c(),V($[C],1),$[C].m(t,null))}for(It(),C=m.length;C<$.length;C+=1)w(C);Tt()}},i:function(h){if(!l){V(i.$$.fragment,h);for(let d=0;d<m.length;d+=1)V($[d]);l=!0}},o:function(h){H(i.$$.fragment,h),$=$.filter(Boolean);for(let d=0;d<$.length;d+=1)H($[d]);l=!1},d:function(h){h&&f(t),I(i),vn($,h)}};return F("SvelteRegisterBlock",{block:S,id:ce.name,type:"if",source:"(123:4) {#if editing}",ctx:e}),S}function cn(e){let t;const n={c:function(){t=U("Add")},l:function(s){t=j(s,"Add")},m:function(s,o){T(s,t,o)},d:function(s){s&&f(t)}};return F("SvelteRegisterBlock",{block:n,id:cn.name,type:"slot",source:"(128:12) <Label>",ctx:e}),n}function ln(e){let t,n;t=new $e({props:{$$slots:{default:[cn]},$$scope:{ctx:e}},$$inline:!0});const r={c:function(){A(t.$$.fragment)},l:function(o){P(t.$$.fragment,o)},m:function(o,i){D(t,o,i),n=!0},p:function(o,i){const c={};i&8388608&&(c.$$scope={dirty:i,ctx:o}),t.$set(c)},i:function(o){n||(V(t.$$.fragment,o),n=!0)},o:function(o){H(t.$$.fragment,o),n=!1},d:function(o){I(t,o)}};return F("SvelteRegisterBlock",{block:r,id:ln.name,type:"slot",source:'(127:10) <Button type=\\"button\\" on:click={addAuthor}>',ctx:e}),r}function le(e){let t,n;t=new Oe({props:{id:e[2].authors[e[20]].user_id},$$inline:!0});const r={c:function(){A(t.$$.fragment)},l:function(o){P(t.$$.fragment,o)},m:function(o,i){D(t,o,i),n=!0},p:function(o,i){const c={};i&4&&(c.id=o[2].authors[o[20]].user_id),t.$set(c)},i:function(o){n||(V(t.$$.fragment,o),n=!0)},o:function(o){H(t.$$.fragment,o),n=!1},d:function(o){I(t,o)}};return F("SvelteRegisterBlock",{block:r,id:le.name,type:"if",source:"(133:12) {#if $data.authors[i].user_id}",ctx:e}),r}function ae(e){let t,n;function r(){return e[17](e[20])}t=new Nt({props:{type:"button",variant:"raised",$$slots:{default:[un]},$$scope:{ctx:e}},$$inline:!0}),t.$on("click",r);const s={c:function(){A(t.$$.fragment)},l:function(i){P(t.$$.fragment,i)},m:function(i,c){D(t,i,c),n=!0},p:function(i,c){e=i;const l={};c&8388608&&(l.$$scope={dirty:c,ctx:e}),t.$set(l)},i:function(i){n||(V(t.$$.fragment,i),n=!0)},o:function(i){H(t.$$.fragment,i),n=!1},d:function(i){I(t,i)}};return F("SvelteRegisterBlock",{block:s,id:ae.name,type:"if",source:"(141:12) {#if author.role !== 'creator'}",ctx:e}),s}function an(e){let t;const n={c:function(){t=U("Remove")},l:function(s){t=j(s,"Remove")},m:function(s,o){T(s,t,o)},d:function(s){s&&f(t)}};return F("SvelteRegisterBlock",{block:n,id:an.name,type:"slot",source:"(143:16) <Label>",ctx:e}),n}function un(e){let t,n;t=new $e({props:{$$slots:{default:[an]},$$scope:{ctx:e}},$$inline:!0});const r={c:function(){A(t.$$.fragment)},l:function(o){P(t.$$.fragment,o)},m:function(o,i){D(t,o,i),n=!0},p:function(o,i){const c={};i&8388608&&(c.$$scope={dirty:i,ctx:o}),t.$set(c)},i:function(o){n||(V(t.$$.fragment,o),n=!0)},o:function(o){H(t.$$.fragment,o),n=!1},d:function(o){I(t,o)}};return F("SvelteRegisterBlock",{block:r,id:un.name,type:"slot",source:'(142:14) <Button type=\\"button\\" on:click={() => removeAuthor(i)} variant=\\"raised\\">',ctx:e}),r}function ue(e){let t,n,r,s,o,i,c,l=e[2].authors[e[20]].user_id&&le(e);function m(v){e[16](v,e[20])}let $={label:"User ID",class:"mr-4 w-full",disabled:e[18].role==="creator"};e[2].authors[e[20]].user_id!==void 0&&($.value=e[2].authors[e[20]].user_id),r=new St({props:$,$$inline:!0}),yt.push(()=>Vt(r,"value",m));let w=e[18].role!=="creator"&&ae(e);const S={c:function(){t=k("div"),l&&l.c(),n=M(),A(r.$$.fragment),o=M(),w&&w.c(),i=M(),this.h()},l:function(h){t=E(h,"DIV",{class:!0});var d=_(t);l&&l.l(d),n=Y(d),P(r.$$.fragment,d),o=Y(d),w&&w.l(d),i=Y(d),d.forEach(f),this.h()},h:function(){g(t,"class","flex items-baseline s-YtrVF1HCE9t3"),y(t,R,131,10,4709)},m:function(h,d){T(h,t,d),l&&l.m(t,null),a(t,n),D(r,t,null),a(t,o),w&&w.m(t,null),a(t,i),c=!0},p:function(h,d){e=h,e[2].authors[e[20]].user_id?l?(l.p(e,d),d&4&&V(l,1)):(l=le(e),l.c(),V(l,1),l.m(t,n)):l&&(It(),H(l,1,1,()=>{l=null}),Tt());const B={};d&4&&(B.disabled=e[18].role==="creator"),!s&&d&4&&(s=!0,B.value=e[2].authors[e[20]].user_id,_t(()=>s=!1)),r.$set(B),e[18].role!=="creator"?w?(w.p(e,d),d&4&&V(w,1)):(w=ae(e),w.c(),V(w,1),w.m(t,i)):w&&(It(),H(w,1,1,()=>{w=null}),Tt())},i:function(h){c||(V(l),V(r.$$.fragment,h),V(w),c=!0)},o:function(h){H(l),H(r.$$.fragment,h),H(w),c=!1},d:function(h){h&&f(t),l&&l.d(),I(r),w&&w.d()}};return F("SvelteRegisterBlock",{block:S,id:ue.name,type:"each",source:"(131:8) {#each $data.authors as author, i}",ctx:e}),S}function fn(e){let t;const n={c:function(){t=U(e[0])},l:function(s){t=j(s,e[0])},m:function(s,o){T(s,t,o)},p:function(s,o){o&1&&tt(t,s[0])},d:function(s){s&&f(t)}};return F("SvelteRegisterBlock",{block:n,id:fn.name,type:"slot",source:'(152:6) <Button variant=\\"outlined\\" type=\\"submit\\">',ctx:e}),n}function fe(e){let t,n,r,s,o,i,c,l,m,$,w,S,v,h,d,B,C,z,X,Rt,W,Z,G,u,Ht,rt,qt,J,mt,Ut,jt,Yt,Lt,Q,ct,Ot,zt,K,Wt,lt,Zt,et,nt,Gt,Qt,at,Xt,ot,ut,Jt,ft,Kt,At,pt,$t,Pt,te,de;function $n(p){e[10](p)}let me={label:"Name",required:!0};e[2].name!==void 0&&(me.value=e[2].name),s=new St({props:me,$$inline:!0}),yt.push(()=>Vt(s,"value",$n)),c=new dt({props:{for:"name",$$slots:{default:[ze,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});function dn(p){e[11](p)}let pe={label:"Mod Reference",required:!0,disabled:e[1],$$slots:{helper:[Ze]},$$scope:{ctx:e}};e[2].mod_reference!==void 0&&(pe.value=e[2].mod_reference),$=new St({props:pe,$$inline:!0}),yt.push(()=>Vt($,"value",dn)),v=new dt({props:{for:"mod_reference",$$slots:{default:[Ge,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});function mn(p){e[12](p)}let ge={label:"Short Description",required:!0};e[2].short_description!==void 0&&(ge.value=e[2].short_description),B=new St({props:ge,$$inline:!0}),yt.push(()=>Vt(B,"value",mn)),X=new dt({props:{for:"short_description",$$slots:{default:[Qe,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});function pn(p){e[13](p)}let he={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};e[2].full_description!==void 0&&(he.value=e[2].full_description),G=new St({props:he,$$inline:!0}),yt.push(()=>Vt(G,"value",pn)),rt=new dt({props:{for:"full_description",$$slots:{default:[Xe,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});let O={ctx:e,current:null,token:null,hasCatch:!1,pending:tn,then:Ke,catch:Je,value:22};Ee(Yt=oe(e[3]),O),lt=new dt({props:{for:"logo",$$slots:{default:[en,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});function gn(p){e[14](p)}let ve={label:"Source URL"};e[2].source_url!==void 0&&(ve.value=e[2].source_url),nt=new St({props:ve,$$inline:!0}),yt.push(()=>Vt(nt,"value",gn)),at=new dt({props:{for:"source_url",$$slots:{default:[nn,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0}),ut=new Ie({props:{$$slots:{label:[sn],default:[on]},$$scope:{ctx:e}},$$inline:!0}),ft=new dt({props:{for:"hidden",$$slots:{default:[rn,({messages:p})=>({21:p}),({messages:p})=>p?2097152:0]},$$scope:{ctx:e}},$$inline:!0});let q=e[1]&&ce(e);$t=new Nt({props:{variant:"outlined",type:"submit",$$slots:{default:[fn]},$$scope:{ctx:e}},$$inline:!0});const we={c:function(){t=k("form"),n=k("div"),r=k("div"),A(s.$$.fragment),i=M(),A(c.$$.fragment),l=M(),m=k("div"),A($.$$.fragment),S=M(),A(v.$$.fragment),h=M(),d=k("div"),A(B.$$.fragment),z=M(),A(X.$$.fragment),Rt=M(),W=k("div"),Z=k("div"),A(G.$$.fragment),Ht=M(),A(rt.$$.fragment),qt=M(),J=k("div"),mt=k("span"),Ut=U("Preview:"),jt=M(),O.block.c(),Lt=M(),Q=k("div"),ct=k("label"),Ot=U("Logo:"),zt=M(),K=k("input"),Wt=M(),A(lt.$$.fragment),Zt=M(),et=k("div"),A(nt.$$.fragment),Qt=M(),A(at.$$.fragment),Xt=M(),ot=k("div"),A(ut.$$.fragment),Jt=M(),A(ft.$$.fragment),Kt=M(),q&&q.c(),At=M(),pt=k("div"),A($t.$$.fragment),this.h()},l:function(b){t=E(b,"FORM",{class:!0});var x=_(t);n=E(x,"DIV",{class:!0});var N=_(n);r=E(N,"DIV",{class:!0});var gt=_(r);P(s.$$.fragment,gt),i=Y(gt),P(c.$$.fragment,gt),gt.forEach(f),l=Y(N),m=E(N,"DIV",{class:!0});var st=_(m);P($.$$.fragment,st),S=Y(st),P(v.$$.fragment,st),st.forEach(f),h=Y(N),d=E(N,"DIV",{class:!0});var ht=_(d);P(B.$$.fragment,ht),z=Y(ht),P(X.$$.fragment,ht),ht.forEach(f),Rt=Y(N),W=E(N,"DIV",{class:!0});var vt=_(W);Z=E(vt,"DIV",{class:!0});var wt=_(Z);P(G.$$.fragment,wt),Ht=Y(wt),P(rt.$$.fragment,wt),wt.forEach(f),qt=Y(vt),J=E(vt,"DIV",{class:!0});var bt=_(J);mt=E(bt,"SPAN",{class:!0});var Bt=_(mt);Ut=j(Bt,"Preview:"),Bt.forEach(f),jt=Y(bt),O.block.l(bt),bt.forEach(f),vt.forEach(f),Lt=Y(N),Q=E(N,"DIV",{class:!0});var it=_(Q);ct=E(it,"LABEL",{for:!0,class:!0});var Ct=_(ct);Ot=j(Ct,"Logo:"),Ct.forEach(f),zt=Y(it),K=E(it,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Wt=Y(it),P(lt.$$.fragment,it),it.forEach(f),Zt=Y(N),et=E(N,"DIV",{class:!0});var xt=_(et);P(nt.$$.fragment,xt),Qt=Y(xt),P(at.$$.fragment,xt),xt.forEach(f),Xt=Y(N),ot=E(N,"DIV",{class:!0});var kt=_(ot);P(ut.$$.fragment,kt),Jt=Y(kt),P(ft.$$.fragment,kt),kt.forEach(f),Kt=Y(N),q&&q.l(N),At=Y(N),pt=E(N,"DIV",{class:!0});var Mt=_(pt);P($t.$$.fragment,Mt),Mt.forEach(f),N.forEach(f),x.forEach(f),this.h()},h:function(){g(r,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(r,R,42,4,1405),g(m,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(m,R,49,4,1677),g(d,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(d,R,63,4,2308),g(Z,"class","grid grid-flow-row gap-2 auto-rows-max s-YtrVF1HCE9t3"),y(Z,R,71,6,2656),g(mt,"class","s-YtrVF1HCE9t3"),y(mt,R,84,8,3161),g(J,"class","grid grid-flow-row gap-2 auto-rows-max s-YtrVF1HCE9t3"),y(J,R,83,6,3100),g(W,"class","grid gap-6 split s-YtrVF1HCE9t3"),y(W,R,70,4,2619),g(ct,"for","logo"),g(ct,"class","s-YtrVF1HCE9t3"),y(ct,R,92,6,3406),g(K,"id","logo"),g(K,"class","base-input s-YtrVF1HCE9t3"),g(K,"name","logo"),g(K,"type","file"),g(K,"accept","image/png,image/jpeg,image/gif"),g(K,"placeholder","Logo"),y(K,R,93,6,3444),g(Q,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(Q,R,91,4,3361),g(et,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(et,R,105,4,3781),g(ot,"class","grid grid-flow-row gap-2 s-YtrVF1HCE9t3"),y(ot,R,112,4,4062),g(pt,"class","s-YtrVF1HCE9t3"),y(pt,R,150,4,5327),g(n,"class","grid grid-flow-row gap-6 s-YtrVF1HCE9t3"),y(n,R,41,2,1362),g(t,"class","s-YtrVF1HCE9t3"),y(t,R,40,0,1344)},m:function(b,x){T(b,t,x),a(t,n),a(n,r),D(s,r,null),a(r,i),D(c,r,null),a(n,l),a(n,m),D($,m,null),a(m,S),D(v,m,null),a(n,h),a(n,d),D(B,d,null),a(d,z),D(X,d,null),a(n,Rt),a(n,W),a(W,Z),D(G,Z,null),a(Z,Ht),D(rt,Z,null),a(W,qt),a(W,J),a(J,mt),a(mt,Ut),a(J,jt),O.block.m(J,O.anchor=null),O.mount=()=>J,O.anchor=null,a(n,Lt),a(n,Q),a(Q,ct),a(ct,Ot),a(Q,zt),a(Q,K),a(Q,Wt),D(lt,Q,null),a(n,Zt),a(n,et),D(nt,et,null),a(et,Qt),D(at,et,null),a(n,Xt),a(n,ot),D(ut,ot,null),a(ot,Jt),D(ft,ot,null),a(n,Kt),q&&q.m(n,null),a(n,At),a(n,pt),D($t,pt,null),Pt=!0,te||(de=wn(e[4].call(null,t)),te=!0)},p:function(b,[x]){e=b;const N={};!o&&x&4&&(o=!0,N.value=e[2].name,_t(()=>o=!1)),s.$set(N);const gt={};x&10485760&&(gt.$$scope={dirty:x,ctx:e}),c.$set(gt);const st={};x&2&&(st.disabled=e[1]),x&8388610&&(st.$$scope={dirty:x,ctx:e}),!w&&x&4&&(w=!0,st.value=e[2].mod_reference,_t(()=>w=!1)),$.$set(st);const ht={};x&10485760&&(ht.$$scope={dirty:x,ctx:e}),v.$set(ht);const vt={};!C&&x&4&&(C=!0,vt.value=e[2].short_description,_t(()=>C=!1)),B.$set(vt);const wt={};x&10485760&&(wt.$$scope={dirty:x,ctx:e}),X.$set(wt);const bt={};!u&&x&4&&(u=!0,bt.value=e[2].full_description,_t(()=>u=!1)),G.$set(bt);const Bt={};x&10485760&&(Bt.$$scope={dirty:x,ctx:e}),rt.$set(Bt),O.ctx=e,x&8&&Yt!==(Yt=oe(e[3]))&&Ee(Yt,O)||bn(O,e,x);const it={};x&10485760&&(it.$$scope={dirty:x,ctx:e}),lt.$set(it);const Ct={};!Gt&&x&4&&(Gt=!0,Ct.value=e[2].source_url,_t(()=>Gt=!1)),nt.$set(Ct);const xt={};x&10485760&&(xt.$$scope={dirty:x,ctx:e}),at.$set(xt);const kt={};x&8388612&&(kt.$$scope={dirty:x,ctx:e}),ut.$set(kt);const Mt={};x&10485760&&(Mt.$$scope={dirty:x,ctx:e}),ft.$set(Mt),e[1]?q?(q.p(e,x),x&2&&V(q,1)):(q=ce(e),q.c(),V(q,1),q.m(n,At)):q&&(It(),H(q,1,1,()=>{q=null}),Tt());const be={};x&8388609&&(be.$$scope={dirty:x,ctx:e}),$t.$set(be)},i:function(b){Pt||(V(s.$$.fragment,b),V(c.$$.fragment,b),V($.$$.fragment,b),V(v.$$.fragment,b),V(B.$$.fragment,b),V(X.$$.fragment,b),V(G.$$.fragment,b),V(rt.$$.fragment,b),V(lt.$$.fragment,b),V(nt.$$.fragment,b),V(at.$$.fragment,b),V(ut.$$.fragment,b),V(ft.$$.fragment,b),V(q),V($t.$$.fragment,b),Pt=!0)},o:function(b){H(s.$$.fragment,b),H(c.$$.fragment,b),H($.$$.fragment,b),H(v.$$.fragment,b),H(B.$$.fragment,b),H(X.$$.fragment,b),H(G.$$.fragment,b),H(rt.$$.fragment,b),H(lt.$$.fragment,b),H(nt.$$.fragment,b),H(at.$$.fragment,b),H(ut.$$.fragment,b),H(ft.$$.fragment,b),H(q),H($t.$$.fragment,b),Pt=!1},d:function(b){b&&f(t),I(s),I(c),I($),I(v),I(B),I(X),I(G),I(rt),O.block.d(),O.token=null,O=null,I(lt),I(nt),I(at),I(ut),I(ft),q&&q.d(),I($t),te=!1,de()}};return F("SvelteRegisterBlock",{block:we,id:fe.name,type:"component",source:"",ctx:e}),we}function Vn(e,t,n){let r,s,{$$slots:o={},$$scope:i}=t;Ae("ModForm",o,[]);let{onSubmit:c}=t,{initialValues:l={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1}}=t,{submitText:m="Create"}=t,{editing:$=!1}=t;const{form:w,data:S}=_e({initialValues:l,extend:[Se,Fe],validateSchema:ne,onSubmit:u=>c(He(u,ne))});Pe(S,"data"),De(e,S,u=>n(2,s=u));const v=()=>{s.authors.push({role:"editor",user_id:""}),S.set(s)},h=u=>{s.authors.splice(u,1),S.set(s)},d=["onSubmit","initialValues","submitText","editing"];Object.keys(t).forEach(u=>{!~d.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<ModForm> was created with unknown prop '${u}'`)});function B(u){e.$$.not_equal(s.name,u)&&(s.name=u,S.set(s))}function C(u){e.$$.not_equal(s.mod_reference,u)&&(s.mod_reference=u,S.set(s))}function z(u){e.$$.not_equal(s.short_description,u)&&(s.short_description=u,S.set(s))}function X(u){e.$$.not_equal(s.full_description,u)&&(s.full_description=u,S.set(s))}function Rt(u){e.$$.not_equal(s.source_url,u)&&(s.source_url=u,S.set(s))}function W(u){e.$$.not_equal(s.hidden,u)&&(s.hidden=u,S.set(s))}function Z(u,Ht){e.$$.not_equal(s.authors[Ht].user_id,u)&&(s.authors[Ht].user_id=u,S.set(s))}const G=u=>h(u);return e.$$set=u=>{"onSubmit"in u&&n(8,c=u.onSubmit),"initialValues"in u&&n(9,l=u.initialValues),"submitText"in u&&n(0,m=u.submitText),"editing"in u&&n(1,$=u.editing)},e.$capture_state=()=>({createForm:_e,validator:Se,svelteReporter:Fe,ValidationMessage:dt,modSchema:ne,trimNonSchema:He,markdown:oe,Textfield:St,HelperText:Ne,Button:Nt,Label:$e,ModAuthor:Oe,FormField:Ie,Switch:Te,onSubmit:c,initialValues:l,submitText:m,editing:$,form:w,data:S,addAuthor:v,removeAuthor:h,preview:r,$data:s}),e.$inject_state=u=>{"onSubmit"in u&&n(8,c=u.onSubmit),"initialValues"in u&&n(9,l=u.initialValues),"submitText"in u&&n(0,m=u.submitText),"editing"in u&&n(1,$=u.editing),"preview"in u&&n(3,r=u.preview)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&4&&n(3,r=s.full_description||"")},[m,$,s,r,w,S,v,h,c,l,B,C,z,X,Rt,W,Z,G]}class Mn extends Ce{constructor(t){super(t),Me(this,t,Vn,fe,Ye,{onSubmit:8,initialValues:9,submitText:0,editing:1}),F("SvelteRegisterComponent",{component:this,tagName:"ModForm",options:t,id:fe.name});const{ctx:n}=this.$$,r=t.props||{};n[8]===void 0&&!("onSubmit"in r)&&console.warn("<ModForm> was created without expected prop 'onSubmit'")}get onSubmit(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Mn as M};
//# sourceMappingURL=ModForm-a04aa803.js.map
