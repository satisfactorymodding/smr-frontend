import{S as Bn,i as In,s as Mn,d as C,v as Nn,aa as gt,H as Qt,F as vn,G as bn,ae as Wt,f as yn,n as z,u as ee,j as c,x as Yt,e as m,g as p,R as Tn,N as f,m as h,b as V,X as I,h as b,k as B,Y as M,U as a,Z as q,a6 as wn,y as vt,a3 as bt,aI as cn,I as ii,aJ as Ht,O as xn,P as le,Q as ae,$ as re,T as ce,V as De,ad as oi,aB as Rn,a7 as si,a5 as yt,r as O,p as wt,t as J,q as xt,W as ue,a0 as ri,_ as li,a8 as ai,a9 as ci}from"./vendor.BTJ-d4sH.js";import{o as tt,s as ge,a as nt,b as ui,l as fi,f as kn,g as di,V as Re,c as En,v as Sn,r as _n}from"./forms.DYldZwCE.js";import{t as An}from"./forms.l75Ic1q6.js";import{m as Kt}from"./markdown.Cy8oaxua.js";import{z as Pn,t as Gt}from"./graphql.BdWB12cY.js";import{T as Dn}from"./TagList.DVnKG7C4.js";import{M as Fn}from"./ModCompatibilityEdit.D2l5ptmP.js";const Jt=tt({name:ge().min(3).max(32),mod_reference:ge().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:ge().min(16).max(128),full_description:nt(ge()),logo:nt(ui().refine(t=>"name"in t&&"size"in t&&"type"in t)),source_url:ge().url().optional().or(fi("")),authors:nt(tt({role:ge(),user_id:ge()}).array()),compatibility:nt(tt({EA:tt({state:ge(),note:kn()}),EXP:tt({state:ge(),note:kn()})})),hidden:di(),tagIDs:nt(ge().array())}),Xe="src/lib/components/mods/ModAuthor.svelte";function Un(t){let e,n="Unknown User ID";const l={c:function(){e=m("p"),e.textContent=n,this.h()},l:function(r){e=p(r,"P",{class:!0,"data-svelte-h":!0}),Tn(e)!=="svelte-12dp6bw"&&(e.textContent=n),this.h()},h:function(){f(e,"class","mr-2 whitespace-nowrap"),h(e,Xe,33,2,952)},m:function(r,i){z(r,e,i)},p:ee,d:function(r){r&&c(e)}};return C("SvelteRegisterBlock",{block:l,id:Un.name,type:"else",source:"(28:0) {:else}",ctx:t}),l}function Cn(t){let e,n,l,s,r,i,o=t[2].data.getUser.username+"",u;const S={c:function(){e=m("div"),n=m("div"),s=V(),r=m("div"),i=m("span"),u=I(o),this.h()},l:function(_){e=p(_,"DIV",{class:!0});var y=b(e);n=p(y,"DIV",{class:!0,style:!0}),b(n).forEach(c),s=B(y),r=p(y,"DIV",{class:!0});var D=b(r);i=p(D,"SPAN",{class:!0});var w=b(i);u=M(w,o),w.forEach(c),D.forEach(c),y.forEach(c),this.h()},h:function(){f(n,"class","h-7 w-7 rounded-full bg-cover"),f(n,"style",l=`background-image: url("${t[2].data.getUser.avatar||Wt+"/images/no_image.webp"}")`),h(n,Xe,25,4,654),f(i,"class","text-yellow-500"),h(i,Xe,29,6,855),f(r,"class","grid grid-flow-row"),h(r,Xe,28,4,816),f(e,"class","mr-2 grid auto-cols-max grid-flow-col gap-x-2"),h(e,Xe,24,2,590)},m:function(_,y){z(_,e,y),a(e,n),a(e,s),a(e,r),a(r,i),a(i,u)},p:function(_,y){y&4&&l!==(l=`background-image: url("${_[2].data.getUser.avatar||Wt+"/images/no_image.webp"}")`)&&f(n,"style",l),y&4&&o!==(o=_[2].data.getUser.username+"")&&q(u,o)},d:function(_){_&&c(e)}};return C("SvelteRegisterBlock",{block:S,id:Cn.name,type:"if",source:"(19:29) ",ctx:t}),S}function Ln(t){let e,n=t[3]("error.oh-no")+"",l,s,r=t[2].error.message+"",i;const o={c:function(){e=m("p"),l=I(n),s=I("... "),i=I(r),this.h()},l:function(S){e=p(S,"P",{class:!0});var $=b(e);l=M($,n),s=M($,"... "),i=M($,r),$.forEach(c),this.h()},h:function(){f(e,"class","mr-2"),h(e,Xe,22,2,493)},m:function(S,$){z(S,e,$),a(e,l),a(e,s),a(e,i)},p:function(S,$){$&8&&n!==(n=S[3]("error.oh-no")+"")&&q(l,n),$&4&&r!==(r=S[2].error.message+"")&&q(i,r)},d:function(S){S&&c(e)}};return C("SvelteRegisterBlock",{block:o,id:Ln.name,type:"if",source:"(17:22) ",ctx:t}),o}function qn(t){let e,n=t[3]("loading")+"",l,s;const r={c:function(){e=m("p"),l=I(n),s=I("..."),this.h()},l:function(o){e=p(o,"P",{class:!0});var u=b(e);l=M(u,n),s=M(u,"..."),u.forEach(c),this.h()},h:function(){f(e,"class","mr-2"),h(e,Xe,20,2,429)},m:function(o,u){z(o,e,u),a(e,l),a(e,s)},p:function(o,u){u&8&&n!==(n=o[3]("loading")+"")&&q(l,n)},d:function(o){o&&c(e)}};return C("SvelteRegisterBlock",{block:r,id:qn.name,type:"if",source:"(15:0) {#if $user.fetching}",ctx:t}),r}function en(t){let e;function n(i,o){return i[2].fetching?qn:i[2].error?Ln:i[2].data.getUser?Cn:Un}let l=n(t),s=l(t);const r={c:function(){s.c(),e=yn()},l:function(o){s.l(o),e=yn()},m:function(o,u){s.m(o,u),z(o,e,u)},p:function(o,[u]){l===(l=n(o))&&s?s.p(o,u):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d:function(o){o&&c(e),s.d(o)}};return C("SvelteRegisterBlock",{block:r,id:en.name,type:"component",source:"",ctx:t}),r}function mi(t,e,n){let l,s,r=ee,i=()=>(r(),r=Yt(l,d=>n(2,s=d)),l),o,u=ee,S=()=>(u(),u=Yt(D,d=>n(3,o=d)),D);t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>u());let{$$slots:$={},$$scope:_}=e;Nn("ModAuthor",$,[]);let{id:y}=e;const{t:D}=gt();Qt(D,"t"),S();const w=vn();t.$$.on_mount.push(function(){y===void 0&&!("id"in e||t.$$.bound[t.$$.props.id])&&console.warn("<ModAuthor> was created without expected prop 'id'")});const j=["id"];return Object.keys(e).forEach(d=>{!~j.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<ModAuthor> was created with unknown prop '${d}'`)}),t.$$set=d=>{"id"in d&&n(4,y=d.id)},t.$capture_state=()=>({queryStore:bn,getContextClient:vn,GetUserDocument:Pn,assets:Wt,getTranslate:gt,id:y,t:D,client:w,user:l,$user:s,$t:o}),t.$inject_state=d=>{"id"in d&&n(4,y=d.id),"user"in d&&i(n(1,l=d.user))},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&16&&i(n(1,l=bn({query:Pn,client:w,variables:{user:y}})))},[D,l,s,o,y]}class jn extends Bn{constructor(e){super(e),In(this,e,mi,en,Mn,{id:4,t:0}),C("SvelteRegisterComponent",{component:this,tagName:"ModAuthor",options:e,id:en.name})}get id(){throw new Error("<ModAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const v="src/lib/components/mods/ModForm.svelte";function Vn(t,e,n){const l=t.slice();return l[28]=e[n],l[29]=e,l[30]=n,l}function On(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,89,8,2528)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:On.name,type:"slot",source:'(76:6) <ValidationMessage for=\\"name\\" let:messages={message}>',ctx:t}),s}function tn(t){let e,n=t[7]("mod.reference-warning")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){h(e,v,98,10,2881)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[0]&128&&n!==(n=i[7]("mod.reference-warning")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:tn.name,type:"if",source:"(85:8) {#if !editing}",ctx:t}),s}function zn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,102,8,3030)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:zn.name,type:"slot",source:'(89:6) <ValidationMessage for=\\"mod_reference\\" let:messages={message}>',ctx:t}),s}function Xn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,112,8,3441)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Xn.name,type:"slot",source:'(99:6) <ValidationMessage for=\\"short_description\\" let:messages={message}>',ctx:t}),s}function Zn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,123,10,3934)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Zn.name,type:"slot",source:'(110:8) <ValidationMessage for=\\"full_description\\" let:messages={message}>',ctx:t}),s}function Hn(t){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:Hn.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:t}),e}function Gn(t){let e,n,l=t[32]+"";const s={c:function(){e=m("div"),n=new ai(!1),this.h()},l:function(i){e=p(i,"DIV",{class:!0});var o=b(e);n=ci(o,!1),o.forEach(c),this.h()},h:function(){n.a=null,f(e,"class","markdown-content right svelte-k92wki"),h(e,v,130,10,4229)},m:function(i,o){z(i,e,o),n.m(l,e)},p:function(i,o){o[0]&64&&l!==(l=i[32]+"")&&n.p(l)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Gn.name,type:"then",source:'(116:55)            <!-- eslint-disable -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:t}),s}function Jn(t){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:Jn.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:t}),e}function Qn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,149,8,4769)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Qn.name,type:"slot",source:'(136:6) <ValidationMessage for=\\"logo\\" let:messages={message}>',ctx:t}),s}function Wn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,159,8,5157)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Wn.name,type:"slot",source:'(146:6) <ValidationMessage for=\\"source_url\\" let:messages={message}>',ctx:t}),s}function Yn(t){let e=t[7]("entry.hidden")+"",n;const l={c:function(){n=I(e)},l:function(r){n=M(r,e)},m:function(r,i){z(r,n,i)},p:function(r,i){i[0]&128&&e!==(e=r[7]("entry.hidden")+"")&&q(n,e)},d:function(r){r&&c(n)}};return C("SvelteRegisterBlock",{block:l,id:Yn.name,type:"slot",source:'(152:6) <SlideToggle name=\\"slider-label\\" bind:checked={$data.hidden}>',ctx:t}),l}function Kn(t){let e,n=(t[31]||"")+"",l;const s={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var o=b(e);l=M(o,n),o.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,168,8,5483)},m:function(i,o){z(i,e,o),a(e,l)},p:function(i,o){o[1]&1&&n!==(n=(i[31]||"")+"")&&q(l,n)},d:function(i){i&&c(e)}};return C("SvelteRegisterBlock",{block:s,id:Kn.name,type:"slot",source:'(155:6) <ValidationMessage for=\\"hidden\\" let:messages={message}>',ctx:t}),s}function nn(t){let e,n,l,s,r,i,o,u,S=t[7]("authors")+"",$,_,y,D,w=t[7]("add")+"",j,d,X,Q,W;function L(N){t[22](N)}let T={name:"slider-label",$$slots:{default:[ei]},$$scope:{ctx:t}};t[5]!==void 0&&(T.checked=t[5]),n=new cn({props:T,$$inline:!0}),vt.push(()=>bt(n,"checked",L)),n.$on("change",t[23]);let R=t[5]&&on(t),ie=xn(t[4].authors),A=[];for(let N=0;N<ie.length;N+=1)A[N]=ln(Vn(t,ie,N));const Fe=N=>J(A[N],1,1,()=>{A[N]=null}),te={c:function(){e=m("div"),le(n.$$.fragment),s=V(),R&&R.c(),r=V(),i=m("div"),o=m("div"),u=m("h4"),$=I(S),_=V(),y=m("button"),D=m("span"),j=I(w),d=V();for(let x=0;x<A.length;x+=1)A[x].c();this.h()},l:function(x){e=p(x,"DIV",{});var P=b(e);ae(n.$$.fragment,P),P.forEach(c),s=B(x),R&&R.l(x),r=B(x),i=p(x,"DIV",{class:!0});var H=b(i);o=p(H,"DIV",{class:!0});var U=b(o);u=p(U,"H4",{class:!0});var fe=b(u);$=M(fe,S),fe.forEach(c),_=B(U),y=p(U,"BUTTON",{class:!0,type:!0});var Y=b(y);D=p(Y,"SPAN",{});var Ae=b(D);j=M(Ae,w),Ae.forEach(c),Y.forEach(c),U.forEach(c),d=B(H);for(let ne=0;ne<A.length;ne+=1)A[ne].l(H);H.forEach(c),this.h()},h:function(){h(e,v,172,6,5601),f(u,"class","mr-4"),h(u,v,189,10,6124),h(D,v,191,12,6262),f(y,"class","variant-ghost-primary btn"),f(y,"type","button"),h(y,v,190,10,6172),f(o,"class","flex items-center"),h(o,v,188,8,6082),f(i,"class","grid grid-flow-row gap-2"),h(i,v,187,6,6035)},m:function(x,P){z(x,e,P),ce(n,e,null),z(x,s,P),R&&R.m(x,P),z(x,r,P),z(x,i,P),a(i,o),a(o,u),a(u,$),a(o,_),a(o,y),a(y,D),a(D,j),a(i,d);for(let H=0;H<A.length;H+=1)A[H]&&A[H].m(i,null);X=!0,Q||(W=De(y,"click",t[10],!1,!1,!1,!1),Q=!0)},p:function(x,P){const H={};if(P[0]&128|P[1]&4&&(H.$$scope={dirty:P,ctx:x}),!l&&P[0]&32&&(l=!0,H.checked=x[5],yt(()=>l=!1)),n.$set(H),x[5]?R?(R.p(x,P),P[0]&32&&O(R,1)):(R=on(x),R.c(),O(R,1),R.m(r.parentNode,r)):R&&(wt(),J(R,1,1,()=>{R=null}),xt()),(!X||P[0]&128)&&S!==(S=x[7]("authors")+"")&&q($,S),(!X||P[0]&128)&&w!==(w=x[7]("add")+"")&&q(j,w),P[0]&2192){ie=xn(x[4].authors);let U;for(U=0;U<ie.length;U+=1){const fe=Vn(x,ie,U);A[U]?(A[U].p(fe,P),O(A[U],1)):(A[U]=ln(fe),A[U].c(),O(A[U],1),A[U].m(i,null))}for(wt(),U=ie.length;U<A.length;U+=1)Fe(U);xt()}},i:function(x){if(!X){O(n.$$.fragment,x),O(R);for(let P=0;P<ie.length;P+=1)O(A[P]);X=!0}},o:function(x){J(n.$$.fragment,x),J(R),A=A.filter(Boolean);for(let P=0;P<A.length;P+=1)J(A[P]);X=!1},d:function(x){x&&(c(e),c(s),c(r),c(i)),ue(n),R&&R.d(x),li(A,x),Q=!1,W()}};return C("SvelteRegisterBlock",{block:te,id:nn.name,type:"if",source:"(159:4) {#if editing}",ctx:t}),te}function ei(t){let e=t[7]("compatibility-info.edit")+"",n;const l={c:function(){n=I(e)},l:function(r){n=M(r,e)},m:function(r,i){z(r,n,i)},p:function(r,i){i[0]&128&&e!==(e=r[7]("compatibility-info.edit")+"")&&q(n,e)},d:function(r){r&&c(n)}};return C("SvelteRegisterBlock",{block:l,id:ei.name,type:"slot",source:'(161:8) <SlideToggle           name=\\"slider-label\\"           bind:checked={editCompatibility}           on:change={() => {             $data.compatibility = editCompatibility ? originalCompatibility : undefined;           }}>',ctx:t}),l}function on(t){let e,n,l;function s(o){t[24](o)}let r={};t[4].compatibility!==void 0&&(r.compatibilityInfo=t[4].compatibility),e=new Fn({props:r,$$inline:!0}),vt.push(()=>bt(e,"compatibilityInfo",s));const i={c:function(){le(e.$$.fragment)},l:function(u){ae(e.$$.fragment,u)},m:function(u,S){ce(e,u,S),l=!0},p:function(u,S){const $={};!n&&S[0]&16&&(n=!0,$.compatibilityInfo=u[4].compatibility,yt(()=>n=!1)),e.$set($)},i:function(u){l||(O(e.$$.fragment,u),l=!0)},o:function(u){J(e.$$.fragment,u),l=!1},d:function(u){ue(e,u)}};return C("SvelteRegisterBlock",{block:i,id:on.name,type:"if",source:"(171:6) {#if editCompatibility}",ctx:t}),i}function sn(t){let e,n,l;n=new jn({props:{id:t[4].authors[t[30]].user_id},$$inline:!0});const s={c:function(){e=m("div"),le(n.$$.fragment),this.h()},l:function(i){e=p(i,"DIV",{class:!0});var o=b(e);ae(n.$$.fragment,o),o.forEach(c),this.h()},h:function(){f(e,"class","p-2"),h(e,v,197,14,6461)},m:function(i,o){z(i,e,o),ce(n,e,null),l=!0},p:function(i,o){const u={};o[0]&16&&(u.id=i[4].authors[i[30]].user_id),n.$set(u)},i:function(i){l||(O(n.$$.fragment,i),l=!0)},o:function(i){J(n.$$.fragment,i),l=!1},d:function(i){i&&c(e),ue(n)}};return C("SvelteRegisterBlock",{block:s,id:sn.name,type:"if",source:"(184:12) {#if $data.authors[i].user_id}",ctx:t}),s}function rn(t){let e,n,l=t[7]("remove")+"",s,r,i;function o(){return t[26](t[30])}const u={c:function(){e=m("button"),n=m("span"),s=I(l),this.h()},l:function($){e=p($,"BUTTON",{class:!0,type:!0});var _=b(e);n=p(_,"SPAN",{});var y=b(n);s=M(y,l),y.forEach(c),_.forEach(c),this.h()},h:function(){h(n,v,212,16,7050),f(e,"class","variant-ghost-primary btn"),f(e,"type","button"),h(e,v,211,14,6944)},m:function($,_){z($,e,_),a(e,n),a(n,s),r||(i=De(e,"click",o,!1,!1,!1,!1),r=!0)},p:function($,_){t=$,_[0]&128&&l!==(l=t[7]("remove")+"")&&q(s,l)},d:function($){$&&c(e),r=!1,i()}};return C("SvelteRegisterBlock",{block:u,id:rn.name,type:"if",source:"(198:12) {#if author.role !== 'creator'}",ctx:t}),u}function ln(t){let e,n,l,s,r="User ID",i,o,u,S,$,_,y,D,w=t[4].authors[t[30]].user_id&&sn(t);function j(){t[25].call(o,t[30])}let d=t[28].role!=="creator"&&rn(t);const X={c:function(){e=m("div"),w&&w.c(),n=V(),l=m("label"),s=m("span"),s.textContent=r,i=V(),o=m("input"),S=V(),d&&d.c(),$=V(),this.h()},l:function(W){e=p(W,"DIV",{class:!0});var L=b(e);w&&w.l(L),n=B(L),l=p(L,"LABEL",{class:!0});var T=b(l);s=p(T,"SPAN",{"data-svelte-h":!0}),Tn(s)!=="svelte-5fmcbq"&&(s.textContent=r),i=B(T),o=p(T,"INPUT",{type:!0,class:!0}),T.forEach(c),S=B(L),d&&d.l(L),$=B(L),L.forEach(c),this.h()},h:function(){h(s,v,202,14,6626),f(o,"type","text"),o.required=!0,f(o,"class","input p-2"),o.disabled=u=t[28].role==="creator",h(o,v,203,14,6661),f(l,"class","label"),h(l,v,201,12,6590),f(e,"class","flex items-end"),h(e,v,195,10,6375)},m:function(W,L){z(W,e,L),w&&w.m(e,null),a(e,n),a(e,l),a(l,s),a(l,i),a(l,o),re(o,t[4].authors[t[30]].user_id),a(e,S),d&&d.m(e,null),a(e,$),_=!0,y||(D=De(o,"input",j),y=!0)},p:function(W,L){t=W,t[4].authors[t[30]].user_id?w?(w.p(t,L),L[0]&16&&O(w,1)):(w=sn(t),w.c(),O(w,1),w.m(e,n)):w&&(wt(),J(w,1,1,()=>{w=null}),xt()),(!_||L[0]&16&&u!==(u=t[28].role==="creator"))&&Rn(o,"disabled",u),L[0]&16&&o.value!==t[4].authors[t[30]].user_id&&re(o,t[4].authors[t[30]].user_id),t[28].role!=="creator"?d?d.p(t,L):(d=rn(t),d.c(),d.m(e,$)):d&&(d.d(1),d=null)},i:function(W){_||(O(w),_=!0)},o:function(W){J(w),_=!1},d:function(W){W&&c(e),w&&w.d(),d&&d.d(),y=!1,D()}};return C("SvelteRegisterBlock",{block:X,id:ln.name,type:"each",source:"(182:8) {#each $data.authors as author, i}",ctx:t}),X}function an(t){let e,n,l,s,r,i=t[7]("entry.name")+"",o,u,S,$,_,y,D,w,j,d,X=t[7]("mod.reference")+"",Q,W,L,T,R,ie,A,Fe,te,N,x,P=t[7]("entry.short-description")+"",H,U,fe,Y,Ae,ne,g,ve,be,ye,Ue,We=t[7]("entry.full-description")+"",it,kt,Et,de,St,Pe,_t,he,Ce,Ye=t[7]("preview")+"",ot,At,Pt,st,Vt,Le,we,Bt,It,me,Ve,Ke=t[7]("logo")+"",rt,Mt,Nt,$e,Tt,Be,Rt,xe,ke,Ze,et=t[7]("entry.source-url")+"",lt,Dt,pe,Ft,Ie,Ut,Ee,Se,Ct,Lt,Me,qt,at,He,Ne,ct,oe,jt,un;y=new Re({props:{for:"name",$$slots:{default:[On,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let K=!t[2]&&tn(t);A=new Re({props:{for:"mod_reference",$$slots:{default:[zn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),ne=new Re({props:{for:"short_description",$$slots:{default:[Xn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),Pe=new Re({props:{for:"full_description",$$slots:{default:[Zn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let se={ctx:t,current:null,token:null,hasCatch:!1,pending:Jn,then:Gn,catch:Hn,value:32};wn(st=Kt(t[6]),se);function ti(E){t[19](E)}let fn={editable:!0};t[3]!==void 0&&(fn.tags=t[3]),we=new Dn({props:fn,$$inline:!0}),vt.push(()=>bt(we,"tags",ti)),Be=new Re({props:{for:"logo",$$slots:{default:[Qn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),Ie=new Re({props:{for:"source_url",$$slots:{default:[Wn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});function ni(E){t[21](E)}let dn={name:"slider-label",$$slots:{default:[Yn]},$$scope:{ctx:t}};t[4].hidden!==void 0&&(dn.checked=t[4].hidden),Se=new cn({props:dn,$$inline:!0}),vt.push(()=>bt(Se,"checked",ni)),Me=new Re({props:{for:"hidden",$$slots:{default:[Kn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let G=t[2]&&nn(t);const mn={c:function(){e=m("form"),n=m("div"),l=m("div"),s=m("label"),r=m("span"),o=I(i),u=I(" *"),S=V(),$=m("input"),_=V(),le(y.$$.fragment),D=V(),w=m("div"),j=m("label"),d=m("span"),Q=I(X),W=I(" *"),L=V(),T=m("input"),R=V(),K&&K.c(),ie=V(),le(A.$$.fragment),Fe=V(),te=m("div"),N=m("label"),x=m("span"),H=I(P),U=I(" *"),fe=V(),Y=m("input"),Ae=V(),le(ne.$$.fragment),g=V(),ve=m("div"),be=m("div"),ye=m("label"),Ue=m("span"),it=I(We),kt=I(" *"),Et=V(),de=m("textarea"),St=V(),le(Pe.$$.fragment),_t=V(),he=m("div"),Ce=m("span"),ot=I(Ye),At=I(":"),Pt=V(),se.block.c(),Vt=V(),Le=m("div"),le(we.$$.fragment),It=V(),me=m("div"),Ve=m("label"),rt=I(Ke),Mt=I(":"),Nt=V(),$e=m("input"),Tt=V(),le(Be.$$.fragment),Rt=V(),xe=m("div"),ke=m("label"),Ze=m("span"),lt=I(et),Dt=V(),pe=m("input"),Ft=V(),le(Ie.$$.fragment),Ut=V(),Ee=m("div"),le(Se.$$.fragment),Lt=V(),le(Me.$$.fragment),qt=V(),G&&G.c(),at=V(),He=m("div"),Ne=m("button"),ct=I(t[1]),this.h()},l:function(F){e=p(F,"FORM",{});var k=b(e);n=p(k,"DIV",{class:!0});var Z=b(n);l=p(Z,"DIV",{class:!0});var qe=b(l);s=p(qe,"LABEL",{class:!0});var je=b(s);r=p(je,"SPAN",{});var Ge=b(r);o=M(Ge,i),u=M(Ge," *"),Ge.forEach(c),S=B(je),$=p(je,"INPUT",{type:!0,class:!0}),je.forEach(c),_=B(qe),ae(y.$$.fragment,qe),qe.forEach(c),D=B(Z),w=p(Z,"DIV",{class:!0});var Oe=b(w);j=p(Oe,"LABEL",{class:!0});var _e=b(j);d=p(_e,"SPAN",{});var Je=b(d);Q=M(Je,X),W=M(Je," *"),Je.forEach(c),L=B(_e),T=p(_e,"INPUT",{type:!0,class:!0}),R=B(_e),K&&K.l(_e),_e.forEach(c),ie=B(Oe),ae(A.$$.fragment,Oe),Oe.forEach(c),Fe=B(Z),te=p(Z,"DIV",{class:!0});var Te=b(te);N=p(Te,"LABEL",{class:!0});var ze=b(N);x=p(ze,"SPAN",{});var Ot=b(x);H=M(Ot,P),U=M(Ot," *"),Ot.forEach(c),fe=B(ze),Y=p(ze,"INPUT",{type:!0,class:!0}),ze.forEach(c),Ae=B(Te),ae(ne.$$.fragment,Te),Te.forEach(c),g=B(Z),ve=p(Z,"DIV",{class:!0});var ut=b(ve);be=p(ut,"DIV",{class:!0});var ft=b(be);ye=p(ft,"LABEL",{class:!0});var dt=b(ye);Ue=p(dt,"SPAN",{});var zt=b(Ue);it=M(zt,We),kt=M(zt," *"),zt.forEach(c),Et=B(dt),de=p(dt,"TEXTAREA",{class:!0,rows:!0}),b(de).forEach(c),dt.forEach(c),St=B(ft),ae(Pe.$$.fragment,ft),ft.forEach(c),_t=B(ut),he=p(ut,"DIV",{class:!0});var mt=b(he);Ce=p(mt,"SPAN",{});var Xt=b(Ce);ot=M(Xt,Ye),At=M(Xt,":"),Xt.forEach(c),Pt=B(mt),se.block.l(mt),mt.forEach(c),ut.forEach(c),Vt=B(Z),Le=p(Z,"DIV",{class:!0});var pn=b(Le);ae(we.$$.fragment,pn),pn.forEach(c),It=B(Z),me=p(Z,"DIV",{class:!0});var Qe=b(me);Ve=p(Qe,"LABEL",{for:!0});var Zt=b(Ve);rt=M(Zt,Ke),Mt=M(Zt,":"),Zt.forEach(c),Nt=B(Qe),$e=p(Qe,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Tt=B(Qe),ae(Be.$$.fragment,Qe),Qe.forEach(c),Rt=B(Z),xe=p(Z,"DIV",{class:!0});var pt=b(xe);ke=p(pt,"LABEL",{class:!0});var ht=b(ke);Ze=p(ht,"SPAN",{});var hn=b(Ze);lt=M(hn,et),hn.forEach(c),Dt=B(ht),pe=p(ht,"INPUT",{type:!0,class:!0}),ht.forEach(c),Ft=B(pt),ae(Ie.$$.fragment,pt),pt.forEach(c),Ut=B(Z),Ee=p(Z,"DIV",{class:!0});var $t=b(Ee);ae(Se.$$.fragment,$t),Lt=B($t),ae(Me.$$.fragment,$t),$t.forEach(c),qt=B(Z),G&&G.l(Z),at=B(Z),He=p(Z,"DIV",{});var $n=b(He);Ne=p($n,"BUTTON",{class:!0,type:!0});var gn=b(Ne);ct=M(gn,t[1]),gn.forEach(c),$n.forEach(c),Z.forEach(c),k.forEach(c),this.h()},h:function(){h(r,v,85,8,2330),f($,"type","text"),$.required=!0,f($,"class","input p-2"),h($,v,86,8,2372),f(s,"class","label"),h(s,v,84,6,2300),f(l,"class","grid grid-flow-row gap-2"),h(l,v,83,4,2255),h(d,v,95,8,2702),f(T,"type","text"),T.required=!0,f(T,"class","input p-2"),T.disabled=t[2],h(T,v,96,8,2747),f(j,"class","label"),h(j,v,94,6,2672),f(w,"class","grid grid-flow-row gap-2"),h(w,v,93,4,2627),h(x,v,108,8,3204),f(Y,"type","text"),Y.required=!0,f(Y,"class","input p-2"),h(Y,v,109,8,3259),f(N,"class","label"),h(N,v,107,6,3174),f(te,"class","grid grid-flow-row gap-2"),h(te,v,106,4,3129),h(Ue,v,119,10,3670),f(de,"class","vertical-textarea textarea p-2"),de.required=!0,f(de,"rows",10),h(de,v,120,10,3726),f(ye,"class","label"),h(ye,v,118,8,3638),f(be,"class","grid grid-flow-row auto-rows-max gap-2"),h(be,v,117,6,3577),h(Ce,v,127,8,4099),f(he,"class","grid grid-flow-row auto-rows-max gap-2"),h(he,v,126,6,4038),f(ve,"class","split grid gap-6 svelte-k92wki"),h(ve,v,116,4,3540),f(Le,"class","grid grid-flow-row gap-2"),h(Le,v,135,4,4341),f(Ve,"for","logo"),h(Ve,v,140,6,4485),f($e,"id","logo"),f($e,"class","base-input"),f($e,"name","logo"),f($e,"type","file"),f($e,"accept","image/png,image/jpeg,image/gif"),f($e,"placeholder","Logo"),h($e,v,141,6,4531),f(me,"class","grid grid-flow-row gap-2"),h(me,v,139,4,4440),h(Ze,v,155,8,4943),f(pe,"type","text"),pe.required=!0,f(pe,"class","input p-2"),h(pe,v,156,8,4989),f(ke,"class","label"),h(ke,v,154,6,4913),f(xe,"class","grid grid-flow-row gap-2"),h(xe,v,153,4,4868),f(Ee,"class","grid grid-flow-row gap-2"),h(Ee,v,163,4,5256),f(Ne,"class","variant-ghost-primary btn"),f(Ne,"type","submit"),h(Ne,v,221,6,7193),h(He,v,220,4,7181),f(n,"class","grid grid-flow-row gap-6"),h(n,v,82,2,2212),h(e,v,81,0,2194)},m:function(F,k){z(F,e,k),a(e,n),a(n,l),a(l,s),a(s,r),a(r,o),a(r,u),a(s,S),a(s,$),re($,t[4].name),a(l,_),ce(y,l,null),a(n,D),a(n,w),a(w,j),a(j,d),a(d,Q),a(d,W),a(j,L),a(j,T),re(T,t[4].mod_reference),a(j,R),K&&K.m(j,null),a(w,ie),ce(A,w,null),a(n,Fe),a(n,te),a(te,N),a(N,x),a(x,H),a(x,U),a(N,fe),a(N,Y),re(Y,t[4].short_description),a(te,Ae),ce(ne,te,null),a(n,g),a(n,ve),a(ve,be),a(be,ye),a(ye,Ue),a(Ue,it),a(Ue,kt),a(ye,Et),a(ye,de),re(de,t[4].full_description),a(be,St),ce(Pe,be,null),a(ve,_t),a(ve,he),a(he,Ce),a(Ce,ot),a(Ce,At),a(he,Pt),se.block.m(he,se.anchor=null),se.mount=()=>he,se.anchor=null,a(n,Vt),a(n,Le),ce(we,Le,null),a(n,It),a(n,me),a(me,Ve),a(Ve,rt),a(Ve,Mt),a(me,Nt),a(me,$e),a(me,Tt),ce(Be,me,null),a(n,Rt),a(n,xe),a(xe,ke),a(ke,Ze),a(Ze,lt),a(ke,Dt),a(ke,pe),re(pe,t[4].source_url),a(xe,Ft),ce(Ie,xe,null),a(n,Ut),a(n,Ee),ce(Se,Ee,null),a(Ee,Lt),ce(Me,Ee,null),a(n,qt),G&&G.m(n,null),a(n,at),a(n,He),a(He,Ne),a(Ne,ct),oe=!0,jt||(un=[De($,"input",t[15]),De(T,"input",t[16]),De(Y,"input",t[17]),De(de,"input",t[18]),De(pe,"input",t[20]),oi(t[8].call(null,e))],jt=!0)},p:function(F,k){t=F,(!oe||k[0]&128)&&i!==(i=t[7]("entry.name")+"")&&q(o,i),k[0]&16&&$.value!==t[4].name&&re($,t[4].name);const Z={};k[1]&5&&(Z.$$scope={dirty:k,ctx:t}),y.$set(Z),(!oe||k[0]&128)&&X!==(X=t[7]("mod.reference")+"")&&q(Q,X),(!oe||k[0]&4)&&Rn(T,"disabled",t[2]),k[0]&16&&T.value!==t[4].mod_reference&&re(T,t[4].mod_reference),t[2]?K&&(K.d(1),K=null):K?K.p(t,k):(K=tn(t),K.c(),K.m(j,null));const qe={};k[1]&5&&(qe.$$scope={dirty:k,ctx:t}),A.$set(qe),(!oe||k[0]&128)&&P!==(P=t[7]("entry.short-description")+"")&&q(H,P),k[0]&16&&Y.value!==t[4].short_description&&re(Y,t[4].short_description);const je={};k[1]&5&&(je.$$scope={dirty:k,ctx:t}),ne.$set(je),(!oe||k[0]&128)&&We!==(We=t[7]("entry.full-description")+"")&&q(it,We),k[0]&16&&re(de,t[4].full_description);const Ge={};k[1]&5&&(Ge.$$scope={dirty:k,ctx:t}),Pe.$set(Ge),(!oe||k[0]&128)&&Ye!==(Ye=t[7]("preview")+"")&&q(ot,Ye),se.ctx=t,k[0]&64&&st!==(st=Kt(t[6]))&&wn(st,se)||si(se,t,k);const Oe={};!Bt&&k[0]&8&&(Bt=!0,Oe.tags=t[3],yt(()=>Bt=!1)),we.$set(Oe),(!oe||k[0]&128)&&Ke!==(Ke=t[7]("logo")+"")&&q(rt,Ke);const _e={};k[1]&5&&(_e.$$scope={dirty:k,ctx:t}),Be.$set(_e),(!oe||k[0]&128)&&et!==(et=t[7]("entry.source-url")+"")&&q(lt,et),k[0]&16&&pe.value!==t[4].source_url&&re(pe,t[4].source_url);const Je={};k[1]&5&&(Je.$$scope={dirty:k,ctx:t}),Ie.$set(Je);const Te={};k[0]&128|k[1]&4&&(Te.$$scope={dirty:k,ctx:t}),!Ct&&k[0]&16&&(Ct=!0,Te.checked=t[4].hidden,yt(()=>Ct=!1)),Se.$set(Te);const ze={};k[1]&5&&(ze.$$scope={dirty:k,ctx:t}),Me.$set(ze),t[2]?G?(G.p(t,k),k[0]&4&&O(G,1)):(G=nn(t),G.c(),O(G,1),G.m(n,at)):G&&(wt(),J(G,1,1,()=>{G=null}),xt()),(!oe||k[0]&2)&&q(ct,t[1])},i:function(F){oe||(O(y.$$.fragment,F),O(A.$$.fragment,F),O(ne.$$.fragment,F),O(Pe.$$.fragment,F),O(we.$$.fragment,F),O(Be.$$.fragment,F),O(Ie.$$.fragment,F),O(Se.$$.fragment,F),O(Me.$$.fragment,F),O(G),oe=!0)},o:function(F){J(y.$$.fragment,F),J(A.$$.fragment,F),J(ne.$$.fragment,F),J(Pe.$$.fragment,F),J(we.$$.fragment,F),J(Be.$$.fragment,F),J(Ie.$$.fragment,F),J(Se.$$.fragment,F),J(Me.$$.fragment,F),J(G),oe=!1},d:function(F){F&&c(e),ue(y),K&&K.d(),ue(A),ue(ne),ue(Pe),se.block.d(),se.token=null,se=null,ue(we),ue(Be),ue(Ie),ue(Se),ue(Me),G&&G.d(),jt=!1,ri(un)}};return C("SvelteRegisterBlock",{block:mn,id:an.name,type:"component",source:"",ctx:t}),mn}function pi(t,e,n){let l,s,r,i=ee,o=()=>(i(),i=Yt($,g=>n(7,r=g)),$);t.$$.on_destroy.push(()=>i());let{$$slots:u={},$$scope:S}=e;Nn("ModForm",u,[]);const{t:$}=gt();Qt($,"t"),o();let{onSubmit:_}=e,{initialValues:y={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:Gt.Works,note:""},EXP:{state:Gt.Works,note:""}}}}=e,{submitText:D=r("entry.create")}=e,{editing:w=!1}=e;const{form:j,data:d}=En({initialValues:y,extend:[Sn({schema:Jt}),_n],onSubmit:g=>_(An(g,Jt))});Qt(d,"data"),ii(t,d,g=>n(4,s=g));let X=s.tags;const Q=()=>{Ht(d,s.tagIDs=X.map(g=>g.id),s)},W=()=>{s.authors.push({role:"editor",user_id:"",key:""}),d.set(s)},L=g=>{s.authors.splice(g,1),d.set(s)};let T=!1;const R=s.compatibility;t.$$.on_mount.push(function(){_===void 0&&!("onSubmit"in e||t.$$.bound[t.$$.props.onSubmit])&&console.warn("<ModForm> was created without expected prop 'onSubmit'")});const ie=["onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(g=>{!~ie.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<ModForm> was created with unknown prop '${g}'`)});function A(){s.name=this.value,d.set(s)}function Fe(){s.mod_reference=this.value,d.set(s)}function te(){s.short_description=this.value,d.set(s)}function N(){s.full_description=this.value,d.set(s)}function x(g){X=g,n(3,X)}function P(){s.source_url=this.value,d.set(s)}function H(g){t.$$.not_equal(s.hidden,g)&&(s.hidden=g,d.set(s))}function U(g){T=g,n(5,T)}const fe=()=>{Ht(d,s.compatibility=T?R:void 0,s)};function Y(g){t.$$.not_equal(s.compatibility,g)&&(s.compatibility=g,d.set(s))}function Ae(g){s.authors[g].user_id=this.value,d.set(s)}const ne=g=>L(g);return t.$$set=g=>{"onSubmit"in g&&n(13,_=g.onSubmit),"initialValues"in g&&n(14,y=g.initialValues),"submitText"in g&&n(1,D=g.submitText),"editing"in g&&n(2,w=g.editing)},t.$capture_state=()=>({createForm:En,validator:Sn,reporter:_n,ValidationMessage:Re,modSchema:Jt,trimNonSchema:An,markdown:Kt,ModAuthor:jn,TagList:Dn,CompatibilityState:Gt,ModCompatibility:Fn,getTranslate:gt,SlideToggle:cn,t:$,onSubmit:_,initialValues:y,submitText:D,editing:w,form:j,data:d,tags:X,computeTags:Q,addAuthor:W,removeAuthor:L,editCompatibility:T,originalCompatibility:R,preview:l,$data:s,$t:r}),t.$inject_state=g=>{"onSubmit"in g&&n(13,_=g.onSubmit),"initialValues"in g&&n(14,y=g.initialValues),"submitText"in g&&n(1,D=g.submitText),"editing"in g&&n(2,w=g.editing),"tags"in g&&n(3,X=g.tags),"editCompatibility"in g&&n(5,T=g.editCompatibility),"preview"in g&&n(6,l=g.preview)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty[0]&8&&X&&Q(),t.$$.dirty[0]&16&&Ht(d,s.compatibility=s.compatibility?s.compatibility:void 0,s),t.$$.dirty[0]&20&&(w||delete s.compatibility),t.$$.dirty[0]&16&&n(6,l=s.full_description||"")},[$,D,w,X,s,T,l,r,j,d,W,L,R,_,y,A,Fe,te,N,x,P,H,U,fe,Y,Ae,ne]}class xi extends Bn{constructor(e){super(e),In(this,e,pi,an,Mn,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1]),C("SvelteRegisterComponent",{component:this,tagName:"ModForm",options:e,id:an.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{xi as M};
//# sourceMappingURL=ModForm.C8GM9aLK.js.map
