import{S as wt,i as $t,s as St,d as C,F as Oe,v as yt,Y as Ge,Z as ye,a8 as De,w as qe,T as be,e as b,b as B,a0 as E,G as tt,g as w,h as x,k as T,a1 as R,j as g,I as nt,m as $,K as j,n as M,M as a,N as Ce,L as st,O as Vt,a9 as xt,r as ue,p as kt,t as ve,q as Et,a3 as A,P as Rt,aB as Pt,Q as ot,R as Nt,u as ee,x as Bt,f as ze,J as we,W as it,U as Tt,V as Ft}from"./vendor.ByKZ30D2.js";import{o as jt,a as It,b as At,e as Le,s as Ue,V as Fe,c as _e,v as We,r as Je}from"./forms.BXsspZxJ.js";import{J as Mt}from"./jszip.DQ4SpdDC.js";import{v as Ot}from"./uplugin.C_SFkkQR.js";import{T as Ke,V as Qe}from"./graphql.JkthYSgF.js";import{t as Ye}from"./forms.DhIgjhbm.js";import{m as Ve}from"./markdown.C98HDuDw.js";import{b as xe}from"./formatting.BK0j8hYv.js";const Gt=Object.keys(Ke).map(n=>Ke[n]).filter(n=>typeof n=="string"),Ze=async(n,e)=>{const t=await Ot(n);if(t.length!=0)return{message:`invalid ${e}.uplugin`,extended:t};const s=JSON.parse(n),l=s.Plugins?.some(o=>o.Name==="SML"),r=!!s.GameVersion;return!l&&!r?{message:`either GameVersion or SML dependency must be present in ${e}.uplugin`}:s};function Dt(n){const e=n.split("/");return e[e.length-1]}function qt(n){const e=n.split("/");return e.slice(0,e.length-1).join("/")}const Ct=[".so",".dll",".pak",".utoc",".ucas"],zt=async(n,e)=>new Mt().loadAsync(n).then(async s=>{const l=s.filter(u=>Dt(u)==e+".uplugin");if(l.length===0)return{message:"Mod does not contain any "+e+".uplugin files"};const r=Object.keys(s.files).filter(u=>Ct.some(m=>u.endsWith(m)));if(l.length===1&&l[0].name===e+".uplugin"){const u=await Ze(await l[0].async("string"),e);return"message"in u?u:{uplugin:u,objects:r,targets:["Windows"]}}if(l.some(u=>u.name===e+".uplugin"))return{message:"Mod contains "+e+".uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html"};const o=l.map(u=>qt(u.name)),i=o.filter(u=>!Gt.includes(u));if(i.length!==0)return{message:`invalid target(s): ${i.join(", ")}`};const d=s.filter(u=>!o.some(m=>u.startsWith(m+"/")));if(d.length!==0)return{message:`file(s) outside target directories: ${d.map(u=>u.name).join(", ")}`};const c=await Promise.all(l.map(u=>u.async("string").catch(m=>{throw new Error(`invalid ${e}.uplugin: ${m}`)})));if(!c.every(u=>u===c[0]))return{message:"Mod contains "+e+".uplugin files with different contents"};const v=await Ze(c[0],e);return"message"in v?v:{uplugin:v,objects:r,targets:o}}).catch(s=>({message:"invalid zip/smod file: "+s})),He=(n,e)=>jt({file:It(At().superRefine(async(t,s)=>{if(!("name"in t&&"size"in t&&"type"in t)){s.addIssue({message:"Unknown file error",code:Le.custom});return}const l=await zt(t,n);if("message"in l){s.addIssue({message:l.message,code:Le.custom});return}e.set(l)})),changelog:Ue(),stability:Ue()}),S="src/lib/components/versions/VersionForm.svelte";function Xe(n,e,t){const s=n.slice();return s[20]=e[t],s}function et(n,e,t){const s=n.slice();return s[23]=e[t],s}function ke(n){let e,t,s=n[9]("file")+"",l,r,o,i,d,c,v,u,m,p;c=new Fe({props:{for:"file",$$slots:{default:[rt,({messages:N})=>({19:N}),({messages:N})=>N?524288:0]},$$scope:{ctx:n}},$$inline:!0});let f=n[5].file&&Ee(n),y=n[4]&&Re(n);const P={c:function(){e=b("div"),t=b("label"),l=E(s),r=E(" *"),o=B(),i=b("input"),d=B(),tt(c.$$.fragment),v=B(),f&&f.c(),u=B(),y&&y.c(),m=ze(),this.h()},l:function(V){e=w(V,"DIV",{class:!0});var k=x(e);t=w(k,"LABEL",{for:!0});var O=x(t);l=R(O,s),r=R(O," *"),O.forEach(g),o=T(k),i=w(k,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),d=T(k),nt(c.$$.fragment,k),k.forEach(g),v=T(V),f&&f.l(V),u=T(V),y&&y.l(V),m=ze(),this.h()},h:function(){j(t,"for","file"),$(t,S,48,8,1465),j(i,"id","file"),j(i,"class","base-input"),j(i,"name","file"),j(i,"type","file"),j(i,"accept",".zip,.smod"),j(i,"placeholder","File"),$(i,S,49,8,1514),j(e,"class","grid grid-flow-row gap-2"),$(e,S,47,6,1418)},m:function(V,k){M(V,e,k),a(e,t),a(t,l),a(t,r),a(e,o),a(e,i),a(e,d),st(c,e,null),M(V,v,k),f&&f.m(V,k),M(V,u,k),y&&y.m(V,k),M(V,m,k),p=!0},p:function(V,k){(!p||k&512)&&s!==(s=V[9]("file")+"")&&A(l,s);const O={};k&67633152&&(O.$$scope={dirty:k,ctx:V}),c.$set(O),V[5].file?f?f.p(V,k):(f=Ee(V),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null),V[4]?y?y.p(V,k):(y=Re(V),y.c(),y.m(m.parentNode,m)):y&&(y.d(1),y=null)},i:function(V){p||(ue(c.$$.fragment,V),p=!0)},o:function(V){ve(c.$$.fragment,V),p=!1},d:function(V){V&&(g(e),g(v),g(u),g(m)),ot(c),f&&f.d(V),y&&y.d(V)}};return C("SvelteRegisterBlock",{block:P,id:ke.name,type:"if",source:"(38:4) {#if !editing}",ctx:n}),P}function rt(n){let e,t=(n[19]||"")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(o){e=w(o,"SPAN",{class:!0});var i=x(e);s=R(i,t),i.forEach(g),this.h()},h:function(){j(e,"class","validation-message"),$(e,S,51,10,1688)},m:function(o,i){M(o,e,i),a(e,s)},p:function(o,i){i&524288&&t!==(t=(o[19]||"")+"")&&A(s,t)},d:function(o){o&&g(e)}};return C("SvelteRegisterBlock",{block:l,id:rt.name,type:"slot",source:'(42:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),l}function Ee(n){let e,t,s,l=n[9]("file-type")+"",r,o,i,d=(n[5].file.type||"Unknown")+"",c,v,u,m,p,f=n[9]("file-size")+"",y,P,N,V=xe(n[5].file.size)+"",k;const O={c:function(){e=b("div"),t=b("span"),s=b("strong"),r=E(l),o=E(":"),i=B(),c=E(d),v=b("br"),u=B(),m=b("span"),p=b("strong"),y=E(f),P=E(":"),N=B(),k=E(V),this.h()},l:function(G){e=w(G,"DIV",{});var I=x(e);t=w(I,"SPAN",{});var z=x(t);s=w(z,"STRONG",{});var Y=x(s);r=R(Y,l),o=R(Y,":"),Y.forEach(g),i=T(z),c=R(z,d),z.forEach(g),v=w(I,"BR",{}),u=T(I),m=w(I,"SPAN",{});var h=x(m);p=w(h,"STRONG",{});var ie=x(p);y=R(ie,f),P=R(ie,":"),ie.forEach(g),N=T(h),k=R(h,V),h.forEach(g),I.forEach(g),this.h()},h:function(){$(s,S,57,16,1840),$(t,S,57,10,1834),$(v,S,57,89,1913),$(p,S,58,16,1936),$(m,S,58,10,1930),$(e,S,56,8,1818)},m:function(G,I){M(G,e,I),a(e,t),a(t,s),a(s,r),a(s,o),a(t,i),a(t,c),a(e,v),a(e,u),a(e,m),a(m,p),a(p,y),a(p,P),a(m,N),a(m,k)},p:function(G,I){I&512&&l!==(l=G[9]("file-type")+"")&&A(r,l),I&32&&d!==(d=(G[5].file.type||"Unknown")+"")&&A(c,d),I&512&&f!==(f=G[9]("file-size")+"")&&A(y,f),I&32&&V!==(V=xe(G[5].file.size)+"")&&A(k,V)},d:function(G){G&&g(e)}};return C("SvelteRegisterBlock",{block:O,id:Ee.name,type:"if",source:"(47:6) {#if $data.file}",ctx:n}),O}function Re(n){let e,t,s,l,r=n[9]("version")+"",o,i,d,c=n[4].uplugin.Version+"",v,u,m,p,f,y,P,N="Targets:",V,k=n[4].targets.join(", ")+"",O,W,G,I;function z(L,F){return L[4].uplugin.SemVersion!==void 0?ct:lt}let Y=z(n),h=Y(n);function ie(L,F){return L[4].uplugin.GameVersion!==void 0?ft:at}let H=ie(n),K=H(n),q=n[4].uplugin.Plugins!==void 0&&Pe(n);function ae(L,F){return L[4].objects&&L[4].objects.length>0?dt:pt}let re=ae(n),J=re(n);const Z={c:function(){e=b("div"),t=b("p"),s=b("span"),l=b("strong"),o=E(r),i=E(":"),d=B(),v=E(c),u=b("br"),m=B(),h.c(),p=B(),K.c(),f=B(),y=b("span"),P=b("strong"),P.textContent=N,V=B(),O=E(k),W=b("br"),G=B(),q&&q.c(),I=B(),J.c(),this.h()},l:function(F){e=w(F,"DIV",{});var D=x(e);t=w(D,"P",{class:!0});var te=x(t);s=w(te,"SPAN",{});var Q=x(s);l=w(Q,"STRONG",{});var ce=x(l);o=R(ce,r),i=R(ce,":"),ce.forEach(g),d=T(Q),v=R(Q,c),u=w(Q,"BR",{}),Q.forEach(g),m=T(te),h.l(te),p=T(te),K.l(te),te.forEach(g),f=T(D),y=w(D,"SPAN",{});var le=x(y);P=w(le,"STRONG",{"data-svelte-h":!0}),we(P)!=="svelte-8zo0qs"&&(P.textContent=N),V=T(le),O=R(le,k),W=w(le,"BR",{}),le.forEach(g),G=T(D),q&&q.l(D),I=T(D),J.l(D),D.forEach(g),this.h()},h:function(){$(l,S,65,18,2118),$(u,S,65,78,2178),$(s,S,65,12,2112),j(t,"class","mb-4"),$(t,S,64,10,2083),$(P,S,85,16,2906),$(W,S,85,71,2961),$(y,S,85,10,2900),$(e,S,63,8,2067)},m:function(F,D){M(F,e,D),a(e,t),a(t,s),a(s,l),a(l,o),a(l,i),a(s,d),a(s,v),a(s,u),a(t,m),h.m(t,null),a(t,p),K.m(t,null),a(e,f),a(e,y),a(y,P),a(y,V),a(y,O),a(y,W),a(e,G),q&&q.m(e,null),a(e,I),J.m(e,null)},p:function(F,D){D&512&&r!==(r=F[9]("version")+"")&&A(o,r),D&16&&c!==(c=F[4].uplugin.Version+"")&&A(v,c),Y===(Y=z(F))&&h?h.p(F,D):(h.d(1),h=Y(F),h&&(h.c(),h.m(t,p))),H===(H=ie(F))&&K?K.p(F,D):(K.d(1),K=H(F),K&&(K.c(),K.m(t,null))),D&16&&k!==(k=F[4].targets.join(", ")+"")&&A(O,k),F[4].uplugin.Plugins!==void 0?q?q.p(F,D):(q=Pe(F),q.c(),q.m(e,I)):q&&(q.d(1),q=null),re===(re=ae(F))&&J?J.p(F,D):(J.d(1),J=re(F),J&&(J.c(),J.m(e,null)))},d:function(F){F&&g(e),h.d(),K.d(),q&&q.d(),J.d()}};return C("SvelteRegisterBlock",{block:Z,id:Re.name,type:"if",source:"(54:6) {#if $modMeta}",ctx:n}),Z}function lt(n){let e,t=n[9]("version-form.missing-sem-version")+"",s,l,r=n[4].uplugin.Version+"",o,i;const d={c:function(){e=b("span"),s=E(t),l=B(),o=E(r),i=E(".0.0"),this.h()},l:function(v){e=w(v,"SPAN",{class:!0});var u=x(e);s=R(u,t),l=T(u),o=R(u,r),i=R(u,".0.0"),u.forEach(g),this.h()},h:function(){j(e,"class","text-yellow-600"),$(e,S,70,14,2379)},m:function(v,u){M(v,e,u),a(e,s),a(e,l),a(e,o),a(e,i)},p:function(v,u){u&512&&t!==(t=v[9]("version-form.missing-sem-version")+"")&&A(s,t),u&16&&r!==(r=v[4].uplugin.Version+"")&&A(o,r)},d:function(v){v&&g(e)}};return C("SvelteRegisterBlock",{block:d,id:lt.name,type:"else",source:"(61:12) {:else}",ctx:n}),d}function ct(n){let e,t,s="SemVersion:",l,r=n[4].uplugin.SemVersion+"",o,i;const d={c:function(){e=b("span"),t=b("strong"),t.textContent=s,l=B(),o=E(r),i=b("br"),this.h()},l:function(v){e=w(v,"SPAN",{});var u=x(e);t=w(u,"STRONG",{"data-svelte-h":!0}),we(t)!=="svelte-1q9kpdp"&&(t.textContent=s),l=T(u),o=R(u,r),i=w(u,"BR",{}),u.forEach(g),this.h()},h:function(){$(t,S,68,20,2273),$(i,S,68,78,2331),$(e,S,68,14,2267)},m:function(v,u){M(v,e,u),a(e,t),a(e,l),a(e,o),a(e,i)},p:function(v,u){u&16&&r!==(r=v[4].uplugin.SemVersion+"")&&A(o,r)},d:function(v){v&&g(e)}};return C("SvelteRegisterBlock",{block:d,id:ct.name,type:"if",source:"(59:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),d}function at(n){let e,t=n[9]("version-form.missing-game-version")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(o){e=w(o,"SPAN",{class:!0});var i=x(e);s=R(i,t),i.forEach(g),this.h()},h:function(){j(e,"class","text-yellow-600"),$(e,S,79,14,2745)},m:function(o,i){M(o,e,i),a(e,s)},p:function(o,i){i&512&&t!==(t=o[9]("version-form.missing-game-version")+"")&&A(s,t)},d:function(o){o&&g(e)}};return C("SvelteRegisterBlock",{block:l,id:at.name,type:"else",source:"(70:12) {:else}",ctx:n}),l}function ft(n){let e,t,s="Game version:",l,r=n[4].uplugin.GameVersion+"",o,i;const d={c:function(){e=b("span"),t=b("strong"),t.textContent=s,l=B(),o=E(r),i=b("br"),this.h()},l:function(v){e=w(v,"SPAN",{});var u=x(e);t=w(u,"STRONG",{"data-svelte-h":!0}),we(t)!=="svelte-182gpem"&&(t.textContent=s),l=T(u),o=R(u,r),i=w(u,"BR",{}),u.forEach(g),this.h()},h:function(){$(t,S,77,20,2636),$(i,S,77,81,2697),$(e,S,77,14,2630)},m:function(v,u){M(v,e,u),a(e,t),a(e,l),a(e,o),a(e,i)},p:function(v,u){u&16&&r!==(r=v[4].uplugin.GameVersion+"")&&A(o,r)},d:function(v){v&&g(e)}};return C("SvelteRegisterBlock",{block:d,id:ft.name,type:"if",source:"(68:12) {#if $modMeta.uplugin.GameVersion !== undefined}",ctx:n}),d}function Pe(n){let e,t,s=n[9]("dependencies")+"",l,r,o,i,d=be(n[7]),c=[];for(let u=0;u<d.length;u+=1)c[u]=Ne(et(n,d,u));const v={c:function(){e=b("p"),t=b("strong"),l=E(s),r=E(":"),o=b("br"),i=B();for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l:function(m){e=w(m,"P",{});var p=x(e);t=w(p,"STRONG",{});var f=x(t);l=R(f,s),r=R(f,":"),f.forEach(g),o=w(p,"BR",{}),i=T(p);for(let y=0;y<c.length;y+=1)c[y].l(p);p.forEach(g),this.h()},h:function(){$(t,S,89,14,3061),$(o,S,89,52,3099),$(e,S,88,12,3043)},m:function(m,p){M(m,e,p),a(e,t),a(t,l),a(t,r),a(e,o),a(e,i);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p:function(m,p){if(p&512&&s!==(s=m[9]("dependencies")+"")&&A(l,s),p&128){d=be(m[7]);let f;for(f=0;f<d.length;f+=1){const y=et(m,d,f);c[f]?c[f].p(y,p):(c[f]=Ne(y),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=d.length}},d:function(m){m&&g(e),it(c,m)}};return C("SvelteRegisterBlock",{block:v,id:Pe.name,type:"if",source:"(79:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),v}function ut(n){let e,t="*";const s={c:function(){e=b("span"),e.textContent=t,this.h()},l:function(r){e=w(r,"SPAN",{"data-svelte-h":!0}),we(e)!=="svelte-140b0co"&&(e.textContent=t),this.h()},h:function(){$(e,S,95,18,3349)},m:function(r,o){M(r,e,o)},p:ee,d:function(r){r&&g(e)}};return C("SvelteRegisterBlock",{block:s,id:ut.name,type:"else",source:"(86:16) {:else}",ctx:n}),s}function mt(n){let e,t=n[23].SemVersion+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(o){e=w(o,"SPAN",{});var i=x(e);s=R(i,t),i.forEach(g),this.h()},h:function(){$(e,S,93,18,3270)},m:function(o,i){M(o,e,i),a(e,s)},p:function(o,i){i&128&&t!==(t=o[23].SemVersion+"")&&A(s,t)},d:function(o){o&&g(e)}};return C("SvelteRegisterBlock",{block:l,id:mt.name,type:"if",source:"(84:16) {#if dependency.SemVersion}",ctx:n}),l}function Ne(n){let e,t=n[23].Name+"",s,l,r,o,i;function d(m,p){return m[23].SemVersion?mt:ut}let c=d(n),v=c(n);const u={c:function(){e=b("strong"),s=E(t),l=E(":"),r=B(),v.c(),o=B(),i=b("br"),this.h()},l:function(p){e=w(p,"STRONG",{});var f=x(e);s=R(f,t),l=R(f,":"),f.forEach(g),r=T(p),v.l(p),o=T(p),i=w(p,"BR",{}),this.h()},h:function(){$(e,S,91,16,3171),$(i,S,97,16,3402)},m:function(p,f){M(p,e,f),a(e,s),a(e,l),M(p,r,f),v.m(p,f),M(p,o,f),M(p,i,f)},p:function(p,f){f&128&&t!==(t=p[23].Name+"")&&A(s,t),c===(c=d(p))&&v?v.p(p,f):(v.d(1),v=c(p),v&&(v.c(),v.m(o.parentNode,o)))},d:function(p){p&&(g(e),g(r),g(o),g(i)),v.d(p)}};return C("SvelteRegisterBlock",{block:u,id:Ne.name,type:"each",source:"(82:14) {#each dependencies as dependency}",ctx:n}),u}function pt(n){let e,t,s=n[9]("version-form.missing-sem-version")+"",l;const r={c:function(){e=b("p"),t=b("span"),l=E(s),this.h()},l:function(i){e=w(i,"P",{});var d=x(e);t=w(d,"SPAN",{class:!0});var c=x(t);l=R(c,s),c.forEach(g),d.forEach(g),this.h()},h:function(){j(t,"class","text-yellow-600"),$(t,S,112,14,3796),$(e,S,111,12,3778)},m:function(i,d){M(i,e,d),a(e,t),a(t,l)},p:function(i,d){d&512&&s!==(s=i[9]("version-form.missing-sem-version")+"")&&A(l,s)},d:function(i){i&&g(e)}};return C("SvelteRegisterBlock",{block:r,id:pt.name,type:"else",source:"(102:10) {:else}",ctx:n}),r}function dt(n){let e,t,s=n[9]("objects")+"",l,r,o,i,d=be(n[4].objects),c=[];for(let u=0;u<d.length;u+=1)c[u]=Be(Xe(n,d,u));const v={c:function(){e=b("p"),t=b("strong"),l=E(s),r=E(":"),o=b("br"),i=B();for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l:function(m){e=w(m,"P",{});var p=x(e);t=w(p,"STRONG",{});var f=x(t);l=R(f,s),r=R(f,":"),f.forEach(g),o=w(p,"BR",{}),i=T(p);for(let y=0;y<c.length;y+=1)c[y].l(p);p.forEach(g),this.h()},h:function(){$(t,S,104,14,3559),$(o,S,104,47,3592),$(e,S,103,12,3541)},m:function(m,p){M(m,e,p),a(e,t),a(t,l),a(t,r),a(e,o),a(e,i);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p:function(m,p){if(p&512&&s!==(s=m[9]("objects")+"")&&A(l,s),p&16){d=be(m[4].objects);let f;for(f=0;f<d.length;f+=1){const y=Xe(m,d,f);c[f]?c[f].p(y,p):(c[f]=Be(y),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=d.length}},d:function(m){m&&g(e),it(c,m)}};return C("SvelteRegisterBlock",{block:v,id:dt.name,type:"if",source:"(94:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),v}function Be(n){let e,t=n[20]+"",s,l,r;const o={c:function(){e=b("span"),s=E(t),l=B(),r=b("br"),this.h()},l:function(d){e=w(d,"SPAN",{});var c=x(e);s=R(c,t),c.forEach(g),l=T(d),r=w(d,"BR",{}),this.h()},h:function(){$(e,S,106,16,3664),$(r,S,107,16,3702)},m:function(d,c){M(d,e,c),a(e,s),M(d,l,c),M(d,r,c)},p:function(d,c){c&16&&t!==(t=d[20]+"")&&A(s,t)},d:function(d){d&&(g(e),g(l),g(r))}};return C("SvelteRegisterBlock",{block:o,id:Be.name,type:"each",source:"(97:14) {#each $modMeta.objects as object}",ctx:n}),o}function ht(n){let e,t=(n[19]||"")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(o){e=w(o,"SPAN",{class:!0});var i=x(e);s=R(i,t),i.forEach(g),this.h()},h:function(){j(e,"class","validation-message"),$(e,S,128,10,4348)},m:function(o,i){M(o,e,i),a(e,s)},p:function(o,i){i&524288&&t!==(t=(o[19]||"")+"")&&A(s,t)},d:function(o){o&&g(e)}};return C("SvelteRegisterBlock",{block:l,id:ht.name,type:"slot",source:'(119:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),l}function gt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:gt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function vt(n){let e,t,s=n[18]+"";const l={c:function(){e=b("div"),t=new Tt(!1),this.h()},l:function(o){e=w(o,"DIV",{class:!0});var i=x(e);t=Ft(i,!1),i.forEach(g),this.h()},h:function(){t.a=null,j(e,"class","markdown-content right svelte-1q5q8ki"),$(e,S,135,10,4653)},m:function(o,i){M(o,e,i),t.m(s,e)},p:function(o,i){i&256&&s!==(s=o[18]+"")&&t.p(s)},d:function(o){o&&g(e)}};return C("SvelteRegisterBlock",{block:l,id:vt.name,type:"then",source:'(125:55)            <!-- eslint-disable-next-line -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),l}function bt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:bt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function Te(n){let e,t,s,l,r,o,i,d=n[9]("changelog")+"",c,v,u,m,p,f,y,P,N,V=n[9]("preview")+"",k,O,W,G,I,z,Y=n[9]("version-form.agreement-to")+"",h,ie,H,K=n[9]("content-policy")+"",q,ae,re,J,Z,L,F,D,te,Q,ce,le,U=!n[3]&&ke(n);f=new Fe({props:{for:"changelog",$$slots:{default:[ht,({messages:ne})=>({19:ne}),({messages:ne})=>ne?524288:0]},$$scope:{ctx:n}},$$inline:!0});let X={ctx:n,current:null,token:null,hasCatch:!1,pending:bt,then:vt,catch:gt,value:18};Oe(G=Ve(n[8]),X);const je={c:function(){e=b("form"),t=b("div"),U&&U.c(),s=B(),l=b("div"),r=b("div"),o=b("label"),i=b("span"),c=E(d),v=E(" *"),u=B(),m=b("textarea"),p=B(),tt(f.$$.fragment),y=B(),P=b("div"),N=b("span"),k=E(V),O=E(":"),W=B(),X.block.c(),I=B(),z=b("div"),h=E(Y),ie=B(),H=b("a"),q=E(K),ae=E("."),re=B(),J=b("div"),Z=b("button"),L=b("span"),F=E(n[1]),D=B(),te=E(n[2]),this.h()},l:function(se){e=w(se,"FORM",{});var _=x(e);t=w(_,"DIV",{class:!0});var oe=x(t);U&&U.l(oe),s=T(oe),l=w(oe,"DIV",{class:!0});var me=x(l);r=w(me,"DIV",{class:!0});var pe=x(r);o=w(pe,"LABEL",{class:!0});var de=x(o);i=w(de,"SPAN",{});var $e=x(i);c=R($e,d),v=R($e," *"),$e.forEach(g),u=T(de),m=w(de,"TEXTAREA",{class:!0,rows:!0}),x(m).forEach(g),de.forEach(g),p=T(pe),nt(f.$$.fragment,pe),pe.forEach(g),y=T(me),P=w(me,"DIV",{class:!0});var he=x(P);N=w(he,"SPAN",{});var Se=x(N);k=R(Se,V),O=R(Se,":"),Se.forEach(g),W=T(he),X.block.l(he),he.forEach(g),me.forEach(g),I=T(oe),z=w(oe,"DIV",{class:!0});var fe=x(z);h=R(fe,Y),ie=T(fe),H=w(fe,"A",{href:!0,class:!0});var Ie=x(H);q=R(Ie,K),Ie.forEach(g),ae=R(fe,"."),fe.forEach(g),re=T(oe),J=w(oe,"DIV",{});var Ae=x(J);Z=w(Ae,"BUTTON",{class:!0,type:!0});var ge=x(Z);L=w(ge,"SPAN",{class:!0});var Me=x(L);F=R(Me,n[1]),Me.forEach(g),D=T(ge),te=R(ge,n[2]),ge.forEach(g),Ae.forEach(g),oe.forEach(g),_.forEach(g),this.h()},h:function(){$(i,S,124,10,4111),j(m,"class","vertical-textarea textarea p-2"),m.required=!0,j(m,"rows",10),$(m,S,125,10,4154),j(o,"class","label"),$(o,S,123,8,4079),j(r,"class","grid grid-flow-row auto-rows-max gap-2"),$(r,S,122,6,4018),$(N,S,132,8,4513),j(P,"class","grid grid-flow-row auto-rows-max gap-2"),$(P,S,131,6,4452),j(l,"class","split grid gap-6 svelte-1q5q8ki"),$(l,S,121,4,3981),j(H,"href","/content-policy"),j(H,"class","svelte-1q5q8ki"),$(H,S,141,40,4830),j(z,"class","text-muted"),$(z,S,140,4,4765),j(L,"class","material-icons pr-2"),$(L,S,146,8,4988),j(Z,"class","variant-ghost-primary btn"),j(Z,"type","submit"),Z.disabled=n[6],$(Z,S,145,6,4912),$(J,S,144,4,4900),j(t,"class","grid grid-flow-row gap-6"),$(t,S,45,2,1354),$(e,S,44,0,1336)},m:function(se,_){M(se,e,_),a(e,t),U&&U.m(t,null),a(t,s),a(t,l),a(l,r),a(r,o),a(o,i),a(i,c),a(i,v),a(o,u),a(o,m),Ce(m,n[5].changelog),a(r,p),st(f,r,null),a(l,y),a(l,P),a(P,N),a(N,k),a(N,O),a(P,W),X.block.m(P,X.anchor=null),X.mount=()=>P,X.anchor=null,a(t,I),a(t,z),a(z,h),a(z,ie),a(z,H),a(H,q),a(z,ae),a(t,re),a(t,J),a(J,Z),a(Z,L),a(L,F),a(Z,D),a(Z,te),Q=!0,ce||(le=[Vt(m,"input",n[16]),xt(n[11].call(null,e))],ce=!0)},p:function(se,[_]){n=se,n[3]?U&&(kt(),ve(U,1,1,()=>{U=null}),Et()):U?(U.p(n,_),_&8&&ue(U,1)):(U=ke(n),U.c(),ue(U,1),U.m(t,s)),(!Q||_&512)&&d!==(d=n[9]("changelog")+"")&&A(c,d),_&32&&Ce(m,n[5].changelog);const oe={};_&67633152&&(oe.$$scope={dirty:_,ctx:n}),f.$set(oe),(!Q||_&512)&&V!==(V=n[9]("preview")+"")&&A(k,V),X.ctx=n,_&256&&G!==(G=Ve(n[8]))&&Oe(G,X)||Rt(X,n,_),(!Q||_&512)&&Y!==(Y=n[9]("version-form.agreement-to")+"")&&A(h,Y),(!Q||_&512)&&K!==(K=n[9]("content-policy")+"")&&A(q,K),(!Q||_&2)&&A(F,n[1]),(!Q||_&4)&&A(te,n[2]),(!Q||_&64)&&Pt(Z,"disabled",n[6])},i:function(se){Q||(ue(U),ue(f.$$.fragment,se),Q=!0)},o:function(se){ve(U),ve(f.$$.fragment,se),Q=!1},d:function(se){se&&g(e),U&&U.d(),ot(f),X.block.d(),X.token=null,X=null,ce=!1,Nt(le)}};return C("SvelteRegisterBlock",{block:je,id:Te.name,type:"component",source:"",ctx:n}),je}function Lt(n,e,t){let s,l,r,o,i,d=ee,c=()=>(d(),d=Bt(m,h=>t(9,i=h)),m);n.$$.on_destroy.push(()=>d());let{$$slots:v={},$$scope:u}=e;yt("VersionForm",v,[]);const{t:m}=Ge();ye(m,"t"),c();let{modReference:p}=e,{onSubmit:f}=e,{initialValues:y={changelog:"",stability:Qe.Release}}=e,{submitIcon:P}=e,{submitText:N=i("entry.create")}=e,{editing:V=!1}=e;const k=qe();ye(k,"modMeta"),De(n,k,h=>t(4,r=h));let O=!1;const W=He(p,k),{form:G,data:I}=_e({initialValues:y,extend:[We({schema:W}),Je],onSubmit:h=>{t(6,O=!0),f(Ye(h,W)).then(()=>t(6,O=!1))}});ye(I,"data"),De(n,I,h=>t(5,o=h)),n.$$.on_mount.push(function(){p===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),f===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'"),P===void 0&&!("submitIcon"in e||n.$$.bound[n.$$.props.submitIcon])&&console.warn("<VersionForm> was created without expected prop 'submitIcon'")});const z=["modReference","onSubmit","initialValues","submitIcon","submitText","editing"];Object.keys(e).forEach(h=>{!~z.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${h}'`)});function Y(){o.changelog=this.value,I.set(o)}return n.$$set=h=>{"modReference"in h&&t(13,p=h.modReference),"onSubmit"in h&&t(14,f=h.onSubmit),"initialValues"in h&&t(15,y=h.initialValues),"submitIcon"in h&&t(1,P=h.submitIcon),"submitText"in h&&t(2,N=h.submitText),"editing"in h&&t(3,V=h.editing)},n.$capture_state=()=>({createForm:_e,validator:We,reporter:Je,ValidationMessage:Fe,constructVersionSchema:He,trimNonSchema:Ye,markdown:Ve,writable:qe,VersionStabilities:Qe,prettyBytes:xe,getTranslate:Ge,t:m,modReference:p,onSubmit:f,initialValues:y,submitIcon:P,submitText:N,editing:V,modMeta:k,disabled:O,versionSchema:W,form:G,data:I,dependencies:l,preview:s,$modMeta:r,$data:o,$t:i}),n.$inject_state=h=>{"modReference"in h&&t(13,p=h.modReference),"onSubmit"in h&&t(14,f=h.onSubmit),"initialValues"in h&&t(15,y=h.initialValues),"submitIcon"in h&&t(1,P=h.submitIcon),"submitText"in h&&t(2,N=h.submitText),"editing"in h&&t(3,V=h.editing),"disabled"in h&&t(6,O=h.disabled),"dependencies"in h&&t(7,l=h.dependencies),"preview"in h&&t(8,s=h.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&32&&t(8,s=o.changelog||""),n.$$.dirty&16&&t(7,l=r?.uplugin?.Plugins?.filter(h=>!h.BasePlugin)||[])},[m,P,N,V,r,o,O,l,s,i,k,G,I,p,f,y,Y]}class Ht extends wt{constructor(e){super(e),$t(this,e,Lt,Te,St,{t:0,modReference:13,onSubmit:14,initialValues:15,submitIcon:1,submitText:2,editing:3}),C("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Te.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitIcon(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitIcon(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Ht as V};
//# sourceMappingURL=VersionForm.C2LxYSaG.js.map
