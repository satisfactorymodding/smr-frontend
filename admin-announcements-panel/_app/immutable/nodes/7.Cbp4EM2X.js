import{S as jt,i as Ut,d as _,s as Ot,v as Vt,_ as ht,af as mt,a6 as z,ai as et,y as Tt,X as kt,G as st,b as U,e as E,f as pt,H as Ht,I as nt,j as v,k as O,g as M,J as N,h as I,K as j,m as T,L as ot,n as V,r as H,t as q,q as gt,Q as it,u as Dt,x as Nt,M as g,a2 as Ct,T as vt,p as $t,W as _t,a0 as G,a1 as J,a3 as W,O as xt,R as At}from"../chunks/vendor.PpbVXdev.js";import{k as bt,l as yt,m as Et}from"../chunks/graphql.DWrE1hTh.js";import{M as wt}from"../chunks/MetaDescriptors.Ci5AA_QS.js";import{a as Q}from"../chunks/formatting.B5rxIedp.js";const k="src/routes/admin/unapproved-mods/+page.svelte";function Mt(o,t,s){const e=o.slice();return e[17]=t[s],e}function X(o){let t,s,e,r,u;function d(h){o[8](h)}let c={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};o[4]!==void 0&&(c.settings=o[4]),e=new et({props:c,$$inline:!0}),Tt.push(()=>kt(e,"settings",d)),e.$on("page",o[9]),e.$on("amount",o[10]);const $={c:function(){t=E("div"),s=E("div"),st(e.$$.fragment),this.h()},l:function(a){t=M(a,"DIV",{class:!0});var i=I(t);s=M(i,"DIV",{});var m=I(s);nt(e.$$.fragment,m),m.forEach(v),i.forEach(v),this.h()},h:function(){T(s,k,62,4,1415),j(t,"class","mb-5 ml-auto flex justify-end"),T(t,k,61,2,1367)},m:function(a,i){V(a,t,i),g(t,s),ot(e,s,null),u=!0},p:function(a,i){const m={};!r&&i&16&&(r=!0,m.settings=a[4],Ct(()=>r=!1)),e.$set(m)},i:function(a){u||(H(e.$$.fragment,a),u=!0)},o:function(a){q(e.$$.fragment,a),u=!1},d:function(a){a&&v(t),it(e)}};return _("SvelteRegisterBlock",{block:$,id:X.name,type:"if",source:"(53:0) {#if totalMods}",ctx:o}),$}function Bt(o){let t,s,e,r,u="Mod",d,c,$="Description",h,a,i="Release Date",m,x,b="",f,D,C=vt(o[3].data.getUnapprovedMods.mods),n=[];for(let S=0;S<C.length;S+=1)n[S]=Y(Mt(o,C,S));const p={c:function(){t=E("table"),s=E("thead"),e=E("tr"),r=E("th"),r.textContent=u,d=U(),c=E("th"),c.textContent=$,h=U(),a=E("th"),a.textContent=i,m=U(),x=E("th"),x.innerHTML=b,f=U(),D=E("tbody");for(let B=0;B<n.length;B+=1)n[B].c();this.h()},l:function(B){t=M(B,"TABLE",{class:!0});var w=I(t);s=M(w,"THEAD",{});var y=I(s);e=M(y,"TR",{});var R=I(e);r=M(R,"TH",{"data-svelte-h":!0}),N(r)!=="svelte-1hkc9fy"&&(r.textContent=u),d=O(R),c=M(R,"TH",{"data-svelte-h":!0}),N(c)!=="svelte-18juats"&&(c.textContent=$),h=O(R),a=M(R,"TH",{"data-svelte-h":!0}),N(a)!=="svelte-pi2tux"&&(a.textContent=i),m=O(R),x=M(R,"TH",{"data-svelte-h":!0}),N(x)!=="svelte-qfgexu"&&(x.innerHTML=b),R.forEach(v),y.forEach(v),f=O(w),D=M(w,"TBODY",{});var l=I(D);for(let A=0;A<n.length;A+=1)n[A].l(l);l.forEach(v),w.forEach(v),this.h()},h:function(){T(r,k,83,10,2e3),T(c,k,84,10,2023),T(a,k,85,10,2054),T(x,k,86,10,2086),T(e,k,82,8,1985),T(s,k,81,6,1969),T(D,k,89,6,2147),j(t,"class","table table-hover max-w-full"),T(t,k,80,4,1918)},m:function(B,w){V(B,t,w),g(t,s),g(s,e),g(e,r),g(e,d),g(e,c),g(e,h),g(e,a),g(e,m),g(e,x),g(t,f),g(t,D);for(let y=0;y<n.length;y+=1)n[y]&&n[y].m(D,null)},p:function(B,w){if(w&200){C=vt(B[3].data.getUnapprovedMods.mods);let y;for(y=0;y<C.length;y+=1){const R=Mt(B,C,y);n[y]?n[y].p(R,w):(n[y]=Y(R),n[y].c(),n[y].m(D,null))}for(;y<n.length;y+=1)n[y].d(1);n.length=C.length}},d:function(B){B&&v(t),_t(n,B)}};return _("SvelteRegisterBlock",{block:p,id:Bt.name,type:"else",source:"(72:2) {:else}",ctx:o}),p}function St(o){let t,s,e=o[3].error.message+"",r;const u={c:function(){t=E("section"),s=G("Oh no... "),r=G(e),this.h()},l:function(c){t=M(c,"SECTION",{class:!0});var $=I(t);s=J($,"Oh no... "),r=J($,e),$.forEach(v),this.h()},h:function(){j(t,"class","p-4"),T(t,k,78,4,1842)},m:function(c,$){V(c,t,$),g(t,s),g(t,r)},p:function(c,$){$&8&&e!==(e=c[3].error.message+"")&&W(r,e)},d:function(c){c&&v(t)}};return _("SvelteRegisterBlock",{block:u,id:St.name,type:"if",source:"(70:24) ",ctx:o}),u}function Rt(o){let t,s="Loading...";const e={c:function(){t=E("section"),t.textContent=s,this.h()},l:function(u){t=M(u,"SECTION",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1e06hs8"&&(t.textContent=s),this.h()},h:function(){j(t,"class","p-4"),T(t,k,76,4,1771)},m:function(u,d){V(u,t,d)},p:Dt,d:function(u){u&&v(t)}};return _("SvelteRegisterBlock",{block:e,id:Rt.name,type:"if",source:"(68:2) {#if $mods.fetching}",ctx:o}),e}function Y(o){let t,s,e=o[17].name+"",r,u,d,c=o[17].short_description+"",$,h,a,i=Q(o[17].created_at)+"",m,x,b,f,D,C="Approve",n,p,S="Deny",B,w,y,R,l,A,at;function It(){return o[11](o[17])}function Pt(){return o[12](o[17])}const lt={c:function(){t=E("tr"),s=E("td"),r=G(e),u=U(),d=E("td"),$=G(c),h=U(),a=E("td"),m=G(i),x=U(),b=E("td"),f=E("div"),D=E("button"),D.textContent=C,n=U(),p=E("button"),p.textContent=S,B=U(),w=E("a"),y=G("View"),l=U(),this.h()},l:function(L){t=M(L,"TR",{});var P=I(t);s=M(P,"TD",{});var rt=I(s);r=J(rt,e),rt.forEach(v),u=O(P),d=M(P,"TD",{});var ct=I(d);$=J(ct,c),ct.forEach(v),h=O(P),a=M(P,"TD",{});var ft=I(a);m=J(ft,i),ft.forEach(v),x=O(P),b=M(P,"TD",{class:!0});var ut=I(b);f=M(ut,"DIV",{class:!0});var F=I(f);D=M(F,"BUTTON",{class:!0,"data-svelte-h":!0}),N(D)!=="svelte-1ytvx06"&&(D.textContent=C),n=O(F),p=M(F,"BUTTON",{class:!0,"data-svelte-h":!0}),N(p)!=="svelte-1fhqmlk"&&(p.textContent=S),B=O(F),w=M(F,"A",{class:!0,href:!0});var dt=I(w);y=J(dt,"View"),dt.forEach(v),F.forEach(v),ut.forEach(v),l=O(P),P.forEach(v),this.h()},h:function(){T(s,k,92,12,2239),T(d,k,93,12,2271),T(a,k,94,12,2316),j(D,"class","variant-ghost-primary btn btn-sm"),T(D,k,97,16,2455),j(p,"class","variant-ghost-primary btn btn-sm"),T(p,k,98,16,2573),j(w,"class","variant-ghost-primary btn btn-sm"),j(w,"href",R=z+"/mod/"+o[17].id),T(w,k,99,16,2685),j(f,"class","grid grid-flow-col gap-4"),T(f,k,96,14,2400),j(b,"class","!p-2.5"),T(b,k,95,12,2366),T(t,k,91,10,2222)},m:function(L,P){V(L,t,P),g(t,s),g(s,r),g(t,u),g(t,d),g(d,$),g(t,h),g(t,a),g(a,m),g(t,x),g(t,b),g(b,f),g(f,D),g(f,n),g(f,p),g(f,B),g(f,w),g(w,y),g(t,l),A||(at=[xt(D,"click",It,!1,!1,!1,!1),xt(p,"click",Pt,!1,!1,!1,!1)],A=!0)},p:function(L,P){o=L,P&8&&e!==(e=o[17].name+"")&&W(r,e),P&8&&c!==(c=o[17].short_description+"")&&W($,c),P&8&&i!==(i=Q(o[17].created_at)+"")&&W(m,i),P&8&&R!==(R=z+"/mod/"+o[17].id)&&j(w,"href",R)},d:function(L){L&&v(t),A=!1,At(at)}};return _("SvelteRegisterBlock",{block:lt,id:Y.name,type:"each",source:"(83:8) {#each $mods.data.getUnapprovedMods.mods as mod}",ctx:o}),lt}function Z(o){let t,s,e,r,u;function d(h){o[13](h)}let c={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};o[4]!==void 0&&(c.settings=o[4]),e=new et({props:c,$$inline:!0}),Tt.push(()=>kt(e,"settings",d)),e.$on("page",o[14]),e.$on("amount",o[15]);const $={c:function(){t=E("div"),s=E("div"),st(e.$$.fragment),this.h()},l:function(a){t=M(a,"DIV",{class:!0});var i=I(t);s=M(i,"DIV",{});var m=I(s);nt(e.$$.fragment,m),m.forEach(v),i.forEach(v),this.h()},h:function(){T(s,k,111,4,2950),j(t,"class","ml-auto mt-5 flex justify-end"),T(t,k,110,2,2902)},m:function(a,i){V(a,t,i),g(t,s),ot(e,s,null),u=!0},p:function(a,i){const m={};!r&&i&16&&(r=!0,m.settings=a[4],Ct(()=>r=!1)),e.$set(m)},i:function(a){u||(H(e.$$.fragment,a),u=!0)},o:function(a){q(e.$$.fragment,a),u=!1},d:function(a){a&&v(t),it(e)}};return _("SvelteRegisterBlock",{block:$,id:Z.name,type:"if",source:"(102:0) {#if totalMods}",ctx:o}),$}function tt(o){let t,s,e,r="Unapproved Mods",u,d,c,$,h,a;t=new wt({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"},$$inline:!0});let i=o[2]&&X(o);function m(C,n){return C[3].fetching?Rt:C[3].error?St:Bt}let x=m(o),b=x(o),f=o[2]&&Z(o);const D={c:function(){st(t.$$.fragment),s=U(),e=E("h1"),e.textContent=r,u=U(),i&&i.c(),d=U(),c=E("div"),b.c(),$=U(),f&&f.c(),h=pt(),this.h()},l:function(n){const p=Ht("svelte-g9j975",document.head);nt(t.$$.fragment,p),p.forEach(v),s=O(n),e=M(n,"H1",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-11tcfbx"&&(e.textContent=r),u=O(n),i&&i.l(n),d=O(n),c=M(n,"DIV",{class:!0});var S=I(c);b.l(S),S.forEach(v),$=O(n),f&&f.l(n),h=pt(),this.h()},h:function(){j(e,"class","svelte-1egakhm"),T(e,k,58,0,1323),j(c,"class","card"),T(c,k,74,0,1725)},m:function(n,p){ot(t,document.head,null),V(n,s,p),V(n,e,p),V(n,u,p),i&&i.m(n,p),V(n,d,p),V(n,c,p),b.m(c,null),V(n,$,p),f&&f.m(n,p),V(n,h,p),a=!0},p:function(n,[p]){n[2]?i?(i.p(n,p),p&4&&H(i,1)):(i=X(n),i.c(),H(i,1),i.m(d.parentNode,d)):i&&($t(),q(i,1,1,()=>{i=null}),gt()),x===(x=m(n))&&b?b.p(n,p):(b.d(1),b=x(n),b&&(b.c(),b.m(c,null))),n[2]?f?(f.p(n,p),p&4&&H(f,1)):(f=Z(n),f.c(),H(f,1),f.m(h.parentNode,h)):f&&($t(),q(f,1,1,()=>{f=null}),gt())},i:function(n){a||(H(t.$$.fragment,n),H(i),H(f),a=!0)},o:function(n){q(t.$$.fragment,n),q(i),q(f),a=!1},d:function(n){n&&(v(s),v(e),v(u),v(d),v(c),v($),v(h)),it(t),i&&i.d(n),b.d(),f&&f.d(n)}};return _("SvelteRegisterBlock",{block:D,id:tt.name,type:"component",source:"",ctx:o}),D}function Lt(o,t,s){let e,r,u,d,c=Dt,$=()=>(c(),c=Nt(e,l=>s(3,d=l)),e);o.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:a}=t;Vt("Page",h,[]);const i=ht();let m=20,x=0;const b=l=>{i.mutation(bt,{modId:l}).toPromise().then(()=>{e.pause(),e.resume()})},f=l=>{i.mutation(yt,{modId:l}).toPromise().then(()=>{e.pause(),e.resume()})},D=[];Object.keys(t).forEach(l=>{!~D.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)});function C(l){u=l,s(4,u),s(1,x),s(0,m),s(2,r),s(3,d)}const n=l=>s(1,x=l.detail),p=l=>s(0,m=l.detail),S=l=>b(l.id),B=l=>f(l.id);function w(l){u=l,s(4,u),s(1,x),s(0,m),s(2,r),s(3,d)}const y=l=>s(1,x=l.detail),R=l=>s(0,m=l.detail);return o.$capture_state=()=>({ApproveModDocument:bt,DenyModDocument:yt,GetUnapprovedModsDocument:Et,getContextClient:ht,queryStore:mt,base:z,MetaDescriptors:wt,prettyDate:Q,Paginator:et,client:i,perPage:m,page:x,approveMod:b,denyMod:f,totalMods:r,paginationSettings:u,mods:e,$mods:d}),o.$inject_state=l=>{"perPage"in l&&s(0,m=l.perPage),"page"in l&&s(1,x=l.page),"totalMods"in l&&s(2,r=l.totalMods),"paginationSettings"in l&&s(4,u=l.paginationSettings),"mods"in l&&$(s(5,e=l.mods))},t&&"$$inject"in t&&o.$inject_state(t.$$inject),o.$$.update=()=>{o.$$.dirty&3&&$(s(5,e=mt({query:Et,client:i,variables:{filter:{offset:x*m,limit:m}}}))),o.$$.dirty&8&&s(2,r=d?.data?.getUnapprovedMods?.count),o.$$.dirty&7&&s(4,u={page:x,limit:m,size:r,amounts:[5,10,20,50,100]})},[m,x,r,d,u,e,b,f,C,n,p,S,B,w,y,R]}class Kt extends jt{constructor(t){super(t),Ut(this,t,Lt,tt,Ot,{}),_("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:tt.name})}}export{Kt as component};
//# sourceMappingURL=7.Cbp4EM2X.js.map
