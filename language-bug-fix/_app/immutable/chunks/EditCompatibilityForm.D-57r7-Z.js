import{S,i as B,s as N,d as D,y as T,X as q,v as G,Y as M,Z as H,_ as O,$ as P,e as g,G as K,b as L,a0 as Q,g as v,h as I,I as U,k as V,a1 as X,j as w,K as C,m as F,n as Y,L as Z,M as E,O as z,a2 as A,a3 as J,r as W,t as tt,Q as ot,u as et,x as it}from"./vendor.DfSGHnhZ.js";import{M as R}from"./ModCompatibilityEdit.DefHMXMQ.js";import{E as k}from"./graphql.JkthYSgF.js";const x="src/lib/components/mods/compatibility/EditCompatibilityForm.svelte";function _(e){let o,i,d,p,m,c,u=e[2]("entry.save")+"",n,s,l,f;function $(a){e[5](a)}let b={};e[0].compatibility!==void 0&&(b.compatibilityInfo=e[0].compatibility),i=new R({props:b,$$inline:!0}),T.push(()=>q(i,"compatibilityInfo",$));const h={c:function(){o=g("form"),K(i.$$.fragment),p=L(),m=g("div"),c=g("button"),n=Q(u),this.h()},l:function(t){o=v(t,"FORM",{});var r=I(o);U(i.$$.fragment,r),p=V(r),m=v(r,"DIV",{class:!0});var y=I(m);c=v(y,"BUTTON",{class:!0,type:!0});var j=I(c);n=X(j,u),j.forEach(w),y.forEach(w),r.forEach(w),this.h()},h:function(){C(c,"class","variant-ghost-primary btn"),C(c,"type","submit"),F(c,x,38,4,921),C(m,"class","p-5"),F(m,x,37,2,899),F(o,x,35,0,799)},m:function(t,r){Y(t,o,r),Z(i,o,null),E(o,p),E(o,m),E(m,c),E(c,n),s=!0,l||(f=z(o,"submit",e[3],!1,!1,!1,!1),l=!0)},p:function(t,[r]){const y={};!d&&r&1&&(d=!0,y.compatibilityInfo=t[0].compatibility,A(()=>d=!1)),i.$set(y),(!s||r&4)&&u!==(u=t[2]("entry.save")+"")&&J(n,u)},i:function(t){s||(W(i.$$.fragment,t),s=!0)},o:function(t){tt(i.$$.fragment,t),s=!1},d:function(t){t&&w(o),ot(i),l=!1,f()}};return D("SvelteRegisterBlock",{block:h,id:_.name,type:"component",source:"",ctx:e}),h}function st(e,o,i){let d,p=et,m=()=>(p(),p=it(l,t=>i(2,d=t)),l);e.$$.on_destroy.push(()=>p());let{$$slots:c={},$$scope:u}=o;G("EditCompatibilityForm",c,[]);let{modId:n}=o,{mod:s}=o;const{t:l}=M();H(l,"t"),m();const f=O(),$=P();async function b(t){t.preventDefault();const r=(await f.mutation(k,{modId:n,compatibility:s.compatibility}).toPromise()).data.updateModCompatibility;$(r?"submit":"fail")}e.$$.on_mount.push(function(){n===void 0&&!("modId"in o||e.$$.bound[e.$$.props.modId])&&console.warn("<EditCompatibilityForm> was created without expected prop 'modId'"),s===void 0&&!("mod"in o||e.$$.bound[e.$$.props.mod])&&console.warn("<EditCompatibilityForm> was created without expected prop 'mod'")});const h=["modId","mod"];Object.keys(o).forEach(t=>{!~h.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<EditCompatibilityForm> was created with unknown prop '${t}'`)});function a(t){e.$$.not_equal(s.compatibility,t)&&(s.compatibility=t,i(0,s))}return e.$$set=t=>{"modId"in t&&i(4,n=t.modId),"mod"in t&&i(0,s=t.mod)},e.$capture_state=()=>({ModCompatibilityEdit:R,EditModCompatibilityDocument:k,getContextClient:O,createEventDispatcher:P,getTranslate:M,modId:n,mod:s,t:l,client:f,dispatch:$,onSubmit:b,$t:d}),e.$inject_state=t=>{"modId"in t&&i(4,n=t.modId),"mod"in t&&i(0,s=t.mod)},o&&"$$inject"in o&&e.$inject_state(o.$$inject),[s,l,d,b,n,a]}class ct extends S{constructor(o){super(o),B(this,o,st,_,N,{modId:4,mod:0,t:1}),D("SvelteRegisterComponent",{component:this,tagName:"EditCompatibilityForm",options:o,id:_.name})}get modId(){throw new Error("<EditCompatibilityForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modId(o){throw new Error("<EditCompatibilityForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mod(){throw new Error("<EditCompatibilityForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mod(o){throw new Error("<EditCompatibilityForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(o){throw new Error("<EditCompatibilityForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{ct as E};
//# sourceMappingURL=EditCompatibilityForm.D-57r7-Z.js.map
