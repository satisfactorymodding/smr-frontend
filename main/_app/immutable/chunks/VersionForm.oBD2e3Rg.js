import{S as Je,i as Fe,s as He,A as Se,e as d,a as P,V as y,C as Ce,c as v,d as b,g as R,W as N,f as p,F as ze,H as T,j as I,J as a,K as ye,I as Le,L as Ke,a4 as Qe,m as ie,k as Xe,t as ue,l as Ye,Y as j,M as Ze,N as Me,O as _e,Z as et,a3 as Ne,b as we,G as ge,R as me,T as Ue,q as X,r as tt,w as lt,P as st,Q as nt}from"./vendor.CjqjvYE3.js";import{o as it,a as rt,b as at,e as xe,s as Ve,V as We,c as ot,v as ft,r as ct}from"./forms.BDuxouEx.js";import{J as ut}from"./jszip.jIQ575Pq.js";import{v as mt}from"./uplugin.BkH7UWO9.js";import{T as Pe,V as gt}from"./graphql.DCCO4iQ1.js";import{t as pt}from"./forms.DiJ8PW7-.js";import{m as Re}from"./markdown.vzIcOPJK.js";import{b as Ae}from"./formatting.BPLeivh9.js";const ht=Object.keys(Pe).map(l=>Pe[l]).filter(l=>typeof l=="string"),Te=async(l,e)=>{const t=await mt(l);if(t.length!=0)return{message:`invalid ${e}.uplugin`,extended:t};const n=JSON.parse(l),s=n.Plugins?.some(c=>c.Name==="SML"),i=!!n.GameVersion;return!s&&!i?{message:`either GameVersion or SML dependency must be present in ${e}.uplugin`}:n};function dt(l){const e=l.split("/");return e[e.length-1]}function vt(l){const e=l.split("/");return e.slice(0,e.length-1).join("/")}const bt=[".so",".dll",".pak",".utoc",".ucas"],Et=async(l,e)=>new ut().loadAsync(l).then(async n=>{const s=n.filter(f=>dt(f)==e+".uplugin");if(s.length===0)return{message:"Mod does not contain any "+e+".uplugin files"};const i=Object.keys(n.files).filter(f=>bt.some(o=>f.endsWith(o)));if(s.length===1&&s[0].name===e+".uplugin"){const f=await Te(await s[0].async("string"),e);return"message"in f?f:{uplugin:f,objects:i,targets:["Windows"]}}if(s.some(f=>f.name===e+".uplugin"))return{message:"Mod contains "+e+".uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html"};const c=s.map(f=>vt(f.name)),m=c.filter(f=>!ht.includes(f));if(m.length!==0)return{message:`invalid target(s): ${m.join(", ")}`};const g=n.filter(f=>!c.some(o=>f.startsWith(o+"/")));if(g.length!==0)return{message:`file(s) outside target directories: ${g.map(f=>f.name).join(", ")}`};const r=await Promise.all(s.map(f=>f.async("string").catch(o=>{throw new Error(`invalid ${e}.uplugin: ${o}`)})));if(!r.every(f=>f===r[0]))return{message:"Mod contains "+e+".uplugin files with different contents"};const u=await Te(r[0],e);return"message"in u?u:{uplugin:u,objects:i,targets:c}}).catch(n=>({message:"invalid zip/smod file: "+n})),$t=(l,e)=>it({file:rt(at().superRefine(async(t,n)=>{if(!("name"in t&&"size"in t&&"type"in t)){n.addIssue({message:"Unknown file error",code:xe.custom});return}const s=await Et(t,l);if("message"in s){n.addIssue({message:s.message,code:xe.custom});return}e.set(s)})),changelog:Ve(),stability:Ve()});function je(l,e,t){const n=l.slice();return n[20]=e[t],n}function ke(l,e,t){const n=l.slice();return n[23]=e[t],n}function Ie(l){let e,t,n=l[9]("file")+"",s,i,c,m,g,r,u,f,o,$;r=new We({props:{for:"file",$$slots:{default:[St,({messages:h})=>({19:h}),({messages:h})=>h?524288:0]},$$scope:{ctx:l}}});let S=l[5].file&&Ge(l),w=l[4]&&Oe(l);return{c(){e=d("div"),t=d("label"),s=y(n),i=y(" *"),c=P(),m=d("input"),g=P(),Ce(r.$$.fragment),u=P(),S&&S.c(),f=P(),w&&w.c(),o=we(),this.h()},l(h){e=v(h,"DIV",{class:!0});var x=b(e);t=v(x,"LABEL",{for:!0});var k=b(t);s=N(k,n),i=N(k," *"),k.forEach(p),c=R(x),m=v(x,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),g=R(x),ze(r.$$.fragment,x),x.forEach(p),u=R(h),S&&S.l(h),f=R(h),w&&w.l(h),o=we(),this.h()},h(){T(t,"for","file"),T(m,"id","file"),T(m,"class","base-input"),T(m,"name","file"),T(m,"type","file"),T(m,"accept",".zip,.smod"),T(m,"placeholder","File"),T(e,"class","grid grid-flow-row gap-2")},m(h,x){I(h,e,x),a(e,t),a(t,s),a(t,i),a(e,c),a(e,m),a(e,g),Le(r,e,null),I(h,u,x),S&&S.m(h,x),I(h,f,x),w&&w.m(h,x),I(h,o,x),$=!0},p(h,x){(!$||x&512)&&n!==(n=h[9]("file")+"")&&j(s,n);const k={};x&67633152&&(k.$$scope={dirty:x,ctx:h}),r.$set(k),h[5].file?S?S.p(h,x):(S=Ge(h),S.c(),S.m(f.parentNode,f)):S&&(S.d(1),S=null),h[4]?w?w.p(h,x):(w=Oe(h),w.c(),w.m(o.parentNode,o)):w&&(w.d(1),w=null)},i(h){$||(ie(r.$$.fragment,h),$=!0)},o(h){ue(r.$$.fragment,h),$=!1},d(h){h&&(p(e),p(u),p(f),p(o)),Me(r),S&&S.d(h),w&&w.d(h)}}}function St(l){let e,t=(l[19]||"")+"",n;return{c(){e=d("span"),n=y(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=b(e);n=N(i,t),i.forEach(p),this.h()},h(){T(e,"class","validation-message")},m(s,i){I(s,e,i),a(e,n)},p(s,i){i&524288&&t!==(t=(s[19]||"")+"")&&j(n,t)},d(s){s&&p(e)}}}function Ge(l){let e,t,n,s=l[9]("file-type")+"",i,c,m,g=(l[5].file.type||"Unknown")+"",r,u,f,o,$,S=l[9]("file-size")+"",w,h,x,k=Ae(l[5].file.size)+"",C;return{c(){e=d("div"),t=d("span"),n=d("strong"),i=y(s),c=y(":"),m=P(),r=y(g),u=d("br"),f=P(),o=d("span"),$=d("strong"),w=y(S),h=y(":"),x=P(),C=y(k)},l(O){e=v(O,"DIV",{});var G=b(e);t=v(G,"SPAN",{});var J=b(t);n=v(J,"STRONG",{});var V=b(n);i=N(V,s),c=N(V,":"),V.forEach(p),m=R(J),r=N(J,g),J.forEach(p),u=v(G,"BR",{}),f=R(G),o=v(G,"SPAN",{});var z=b(o);$=v(z,"STRONG",{});var H=b($);w=N(H,S),h=N(H,":"),H.forEach(p),x=R(z),C=N(z,k),z.forEach(p),G.forEach(p)},m(O,G){I(O,e,G),a(e,t),a(t,n),a(n,i),a(n,c),a(t,m),a(t,r),a(e,u),a(e,f),a(e,o),a(o,$),a($,w),a($,h),a(o,x),a(o,C)},p(O,G){G&512&&s!==(s=O[9]("file-type")+"")&&j(i,s),G&32&&g!==(g=(O[5].file.type||"Unknown")+"")&&j(r,g),G&512&&S!==(S=O[9]("file-size")+"")&&j(w,S),G&32&&k!==(k=Ae(O[5].file.size)+"")&&j(C,k)},d(O){O&&p(e)}}}function Oe(l){let e,t,n,s,i=l[9]("version")+"",c,m,g,r=l[4].uplugin.Version+"",u,f,o,$,S,w,h,x="Targets:",k,C=l[4].targets.join(", ")+"",O,G,J,V;function z(E,A){return E[4].uplugin.SemVersion!==void 0?Nt:yt}let H=z(l),W=H(l);function le(E,A){return E[4].uplugin.GameVersion!==void 0?xt:wt}let Q=le(l),L=Q(l),B=l[4].uplugin.Plugins!==void 0&&Be(l);function se(E,A){return E[4].objects&&E[4].objects.length>0?At:Rt}let ee=se(l),M=ee(l);return{c(){e=d("div"),t=d("p"),n=d("span"),s=d("strong"),c=y(i),m=y(":"),g=P(),u=y(r),f=d("br"),o=P(),W.c(),$=P(),L.c(),S=P(),w=d("span"),h=d("strong"),h.textContent=x,k=P(),O=y(C),G=d("br"),J=P(),B&&B.c(),V=P(),M.c(),this.h()},l(E){e=v(E,"DIV",{});var A=b(e);t=v(A,"P",{class:!0});var Y=b(t);n=v(Y,"SPAN",{});var _=b(n);s=v(_,"STRONG",{});var te=b(s);c=N(te,i),m=N(te,":"),te.forEach(p),g=R(_),u=N(_,r),f=v(_,"BR",{}),_.forEach(p),o=R(Y),W.l(Y),$=R(Y),L.l(Y),Y.forEach(p),S=R(A),w=v(A,"SPAN",{});var U=b(w);h=v(U,"STRONG",{"data-svelte-h":!0}),ge(h)!=="svelte-8zo0qs"&&(h.textContent=x),k=R(U),O=N(U,C),G=v(U,"BR",{}),U.forEach(p),J=R(A),B&&B.l(A),V=R(A),M.l(A),A.forEach(p),this.h()},h(){T(t,"class","mb-4")},m(E,A){I(E,e,A),a(e,t),a(t,n),a(n,s),a(s,c),a(s,m),a(n,g),a(n,u),a(n,f),a(t,o),W.m(t,null),a(t,$),L.m(t,null),a(e,S),a(e,w),a(w,h),a(w,k),a(w,O),a(w,G),a(e,J),B&&B.m(e,null),a(e,V),M.m(e,null)},p(E,A){A&512&&i!==(i=E[9]("version")+"")&&j(c,i),A&16&&r!==(r=E[4].uplugin.Version+"")&&j(u,r),H===(H=z(E))&&W?W.p(E,A):(W.d(1),W=H(E),W&&(W.c(),W.m(t,$))),Q===(Q=le(E))&&L?L.p(E,A):(L.d(1),L=Q(E),L&&(L.c(),L.m(t,null))),A&16&&C!==(C=E[4].targets.join(", ")+"")&&j(O,C),E[4].uplugin.Plugins!==void 0?B?B.p(E,A):(B=Be(E),B.c(),B.m(e,V)):B&&(B.d(1),B=null),ee===(ee=se(E))&&M?M.p(E,A):(M.d(1),M=ee(E),M&&(M.c(),M.m(e,null)))},d(E){E&&p(e),W.d(),L.d(),B&&B.d(),M.d()}}}function yt(l){let e,t=l[9]("version-form.missing-sem-version")+"",n,s,i=l[4].uplugin.Version+"",c,m;return{c(){e=d("span"),n=y(t),s=P(),c=y(i),m=y(".0.0"),this.h()},l(g){e=v(g,"SPAN",{class:!0});var r=b(e);n=N(r,t),s=R(r),c=N(r,i),m=N(r,".0.0"),r.forEach(p),this.h()},h(){T(e,"class","text-yellow-600")},m(g,r){I(g,e,r),a(e,n),a(e,s),a(e,c),a(e,m)},p(g,r){r&512&&t!==(t=g[9]("version-form.missing-sem-version")+"")&&j(n,t),r&16&&i!==(i=g[4].uplugin.Version+"")&&j(c,i)},d(g){g&&p(e)}}}function Nt(l){let e,t,n="SemVersion:",s,i=l[4].uplugin.SemVersion+"",c,m;return{c(){e=d("span"),t=d("strong"),t.textContent=n,s=P(),c=y(i),m=d("br")},l(g){e=v(g,"SPAN",{});var r=b(e);t=v(r,"STRONG",{"data-svelte-h":!0}),ge(t)!=="svelte-1q9kpdp"&&(t.textContent=n),s=R(r),c=N(r,i),m=v(r,"BR",{}),r.forEach(p)},m(g,r){I(g,e,r),a(e,t),a(e,s),a(e,c),a(e,m)},p(g,r){r&16&&i!==(i=g[4].uplugin.SemVersion+"")&&j(c,i)},d(g){g&&p(e)}}}function wt(l){let e,t=l[9]("version-form.missing-game-version")+"",n;return{c(){e=d("span"),n=y(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=b(e);n=N(i,t),i.forEach(p),this.h()},h(){T(e,"class","text-yellow-600")},m(s,i){I(s,e,i),a(e,n)},p(s,i){i&512&&t!==(t=s[9]("version-form.missing-game-version")+"")&&j(n,t)},d(s){s&&p(e)}}}function xt(l){let e,t,n="Game version:",s,i=l[4].uplugin.GameVersion+"",c,m;return{c(){e=d("span"),t=d("strong"),t.textContent=n,s=P(),c=y(i),m=d("br")},l(g){e=v(g,"SPAN",{});var r=b(e);t=v(r,"STRONG",{"data-svelte-h":!0}),ge(t)!=="svelte-182gpem"&&(t.textContent=n),s=R(r),c=N(r,i),m=v(r,"BR",{}),r.forEach(p)},m(g,r){I(g,e,r),a(e,t),a(e,s),a(e,c),a(e,m)},p(g,r){r&16&&i!==(i=g[4].uplugin.GameVersion+"")&&j(c,i)},d(g){g&&p(e)}}}function Be(l){let e,t,n=l[9]("dependencies")+"",s,i,c,m,g=me(l[7]),r=[];for(let u=0;u<g.length;u+=1)r[u]=De(ke(l,g,u));return{c(){e=d("p"),t=d("strong"),s=y(n),i=y(":"),c=d("br"),m=P();for(let u=0;u<r.length;u+=1)r[u].c()},l(u){e=v(u,"P",{});var f=b(e);t=v(f,"STRONG",{});var o=b(t);s=N(o,n),i=N(o,":"),o.forEach(p),c=v(f,"BR",{}),m=R(f);for(let $=0;$<r.length;$+=1)r[$].l(f);f.forEach(p)},m(u,f){I(u,e,f),a(e,t),a(t,s),a(t,i),a(e,c),a(e,m);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(u,f){if(f&512&&n!==(n=u[9]("dependencies")+"")&&j(s,n),f&128){g=me(u[7]);let o;for(o=0;o<g.length;o+=1){const $=ke(u,g,o);r[o]?r[o].p($,f):(r[o]=De($),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=g.length}},d(u){u&&p(e),Ue(r,u)}}}function Vt(l){let e,t="*";return{c(){e=d("span"),e.textContent=t},l(n){e=v(n,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-140b0co"&&(e.textContent=t)},m(n,s){I(n,e,s)},p:X,d(n){n&&p(e)}}}function Pt(l){let e,t=l[23].SemVersion+"",n;return{c(){e=d("span"),n=y(t)},l(s){e=v(s,"SPAN",{});var i=b(e);n=N(i,t),i.forEach(p)},m(s,i){I(s,e,i),a(e,n)},p(s,i){i&128&&t!==(t=s[23].SemVersion+"")&&j(n,t)},d(s){s&&p(e)}}}function De(l){let e,t=l[23].Name+"",n,s,i,c,m;function g(f,o){return f[23].SemVersion?Pt:Vt}let r=g(l),u=r(l);return{c(){e=d("strong"),n=y(t),s=y(":"),i=P(),u.c(),c=P(),m=d("br")},l(f){e=v(f,"STRONG",{});var o=b(e);n=N(o,t),s=N(o,":"),o.forEach(p),i=R(f),u.l(f),c=R(f),m=v(f,"BR",{})},m(f,o){I(f,e,o),a(e,n),a(e,s),I(f,i,o),u.m(f,o),I(f,c,o),I(f,m,o)},p(f,o){o&128&&t!==(t=f[23].Name+"")&&j(n,t),r===(r=g(f))&&u?u.p(f,o):(u.d(1),u=r(f),u&&(u.c(),u.m(c.parentNode,c)))},d(f){f&&(p(e),p(i),p(c),p(m)),u.d(f)}}}function Rt(l){let e,t,n=l[9]("version-form.missing-sem-version")+"",s;return{c(){e=d("p"),t=d("span"),s=y(n),this.h()},l(i){e=v(i,"P",{});var c=b(e);t=v(c,"SPAN",{class:!0});var m=b(t);s=N(m,n),m.forEach(p),c.forEach(p),this.h()},h(){T(t,"class","text-yellow-600")},m(i,c){I(i,e,c),a(e,t),a(t,s)},p(i,c){c&512&&n!==(n=i[9]("version-form.missing-sem-version")+"")&&j(s,n)},d(i){i&&p(e)}}}function At(l){let e,t,n=l[9]("objects")+"",s,i,c,m,g=me(l[4].objects),r=[];for(let u=0;u<g.length;u+=1)r[u]=qe(je(l,g,u));return{c(){e=d("p"),t=d("strong"),s=y(n),i=y(":"),c=d("br"),m=P();for(let u=0;u<r.length;u+=1)r[u].c()},l(u){e=v(u,"P",{});var f=b(e);t=v(f,"STRONG",{});var o=b(t);s=N(o,n),i=N(o,":"),o.forEach(p),c=v(f,"BR",{}),m=R(f);for(let $=0;$<r.length;$+=1)r[$].l(f);f.forEach(p)},m(u,f){I(u,e,f),a(e,t),a(t,s),a(t,i),a(e,c),a(e,m);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(u,f){if(f&512&&n!==(n=u[9]("objects")+"")&&j(s,n),f&16){g=me(u[4].objects);let o;for(o=0;o<g.length;o+=1){const $=je(u,g,o);r[o]?r[o].p($,f):(r[o]=qe($),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=g.length}},d(u){u&&p(e),Ue(r,u)}}}function qe(l){let e,t=l[20]+"",n,s,i;return{c(){e=d("span"),n=y(t),s=P(),i=d("br")},l(c){e=v(c,"SPAN",{});var m=b(e);n=N(m,t),m.forEach(p),s=R(c),i=v(c,"BR",{})},m(c,m){I(c,e,m),a(e,n),I(c,s,m),I(c,i,m)},p(c,m){m&16&&t!==(t=c[20]+"")&&j(n,t)},d(c){c&&(p(e),p(s),p(i))}}}function Tt(l){let e,t=(l[19]||"")+"",n;return{c(){e=d("span"),n=y(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=b(e);n=N(i,t),i.forEach(p),this.h()},h(){T(e,"class","validation-message")},m(s,i){I(s,e,i),a(e,n)},p(s,i){i&524288&&t!==(t=(s[19]||"")+"")&&j(n,t)},d(s){s&&p(e)}}}function jt(l){return{c:X,l:X,m:X,p:X,d:X}}function kt(l){let e,t,n=l[18]+"";return{c(){e=d("div"),t=new st(!1),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=b(e);t=nt(i,!1),i.forEach(p),this.h()},h(){t.a=null,T(e,"class","markdown-content right svelte-1q5q8ki")},m(s,i){I(s,e,i),t.m(n,e)},p(s,i){i&256&&n!==(n=s[18]+"")&&t.p(n)},d(s){s&&p(e)}}}function It(l){return{c:X,l:X,m:X,p:X,d:X}}function Gt(l){let e,t,n,s,i,c,m,g=l[9]("changelog")+"",r,u,f,o,$,S,w,h,x,k=l[9]("preview")+"",C,O,G,J,V,z,H=l[9]("version-form.agreement-to")+"",W,le,Q,L=l[9]("content-policy")+"",B,se,ee,M,E,A,Y,_,te,U,pe,ve,D=!l[3]&&Ie(l);S=new We({props:{for:"changelog",$$slots:{default:[Tt,({messages:F})=>({19:F}),({messages:F})=>F?524288:0]},$$scope:{ctx:l}}});let K={ctx:l,current:null,token:null,hasCatch:!1,pending:It,then:kt,catch:jt,value:18};return Se(J=Re(l[8]),K),{c(){e=d("form"),t=d("div"),D&&D.c(),n=P(),s=d("div"),i=d("div"),c=d("label"),m=d("span"),r=y(g),u=y(" *"),f=P(),o=d("textarea"),$=P(),Ce(S.$$.fragment),w=P(),h=d("div"),x=d("span"),C=y(k),O=y(":"),G=P(),K.block.c(),V=P(),z=d("div"),W=y(H),le=P(),Q=d("a"),B=y(L),se=y("."),ee=P(),M=d("div"),E=d("button"),A=d("span"),Y=y(l[1]),_=P(),te=y(l[2]),this.h()},l(F){e=v(F,"FORM",{});var q=b(e);t=v(q,"DIV",{class:!0});var Z=b(t);D&&D.l(Z),n=R(Z),s=v(Z,"DIV",{class:!0});var re=b(s);i=v(re,"DIV",{class:!0});var ae=b(i);c=v(ae,"LABEL",{class:!0});var oe=b(c);m=v(oe,"SPAN",{});var he=b(m);r=N(he,g),u=N(he," *"),he.forEach(p),f=R(oe),o=v(oe,"TEXTAREA",{class:!0,rows:!0}),b(o).forEach(p),oe.forEach(p),$=R(ae),ze(S.$$.fragment,ae),ae.forEach(p),w=R(re),h=v(re,"DIV",{class:!0});var fe=b(h);x=v(fe,"SPAN",{});var de=b(x);C=N(de,k),O=N(de,":"),de.forEach(p),G=R(fe),K.block.l(fe),fe.forEach(p),re.forEach(p),V=R(Z),z=v(Z,"DIV",{class:!0});var ne=b(z);W=N(ne,H),le=R(ne),Q=v(ne,"A",{href:!0,class:!0});var be=b(Q);B=N(be,L),be.forEach(p),se=N(ne,"."),ne.forEach(p),ee=R(Z),M=v(Z,"DIV",{});var Ee=b(M);E=v(Ee,"BUTTON",{class:!0,type:!0});var ce=b(E);A=v(ce,"SPAN",{class:!0});var $e=b(A);Y=N($e,l[1]),$e.forEach(p),_=R(ce),te=N(ce,l[2]),ce.forEach(p),Ee.forEach(p),Z.forEach(p),q.forEach(p),this.h()},h(){T(o,"class","vertical-textarea textarea p-2"),o.required=!0,T(o,"rows",10),T(c,"class","label"),T(i,"class","grid grid-flow-row auto-rows-max gap-2"),T(h,"class","grid grid-flow-row auto-rows-max gap-2"),T(s,"class","split grid gap-6 svelte-1q5q8ki"),T(Q,"href","/content-policy"),T(Q,"class","svelte-1q5q8ki"),T(z,"class","text-muted"),T(A,"class","material-icons pr-2"),T(E,"class","variant-ghost-primary btn"),T(E,"type","submit"),E.disabled=l[6],T(t,"class","grid grid-flow-row gap-6")},m(F,q){I(F,e,q),a(e,t),D&&D.m(t,null),a(t,n),a(t,s),a(s,i),a(i,c),a(c,m),a(m,r),a(m,u),a(c,f),a(c,o),ye(o,l[5].changelog),a(i,$),Le(S,i,null),a(s,w),a(s,h),a(h,x),a(x,C),a(x,O),a(h,G),K.block.m(h,K.anchor=null),K.mount=()=>h,K.anchor=null,a(t,V),a(t,z),a(z,W),a(z,le),a(z,Q),a(Q,B),a(z,se),a(t,ee),a(t,M),a(M,E),a(E,A),a(A,Y),a(E,_),a(E,te),U=!0,pe||(ve=[Ke(o,"input",l[16]),Qe(l[11].call(null,e))],pe=!0)},p(F,[q]){l=F,l[3]?D&&(Xe(),ue(D,1,1,()=>{D=null}),Ye()):D?(D.p(l,q),q&8&&ie(D,1)):(D=Ie(l),D.c(),ie(D,1),D.m(t,n)),(!U||q&512)&&g!==(g=l[9]("changelog")+"")&&j(r,g),q&32&&ye(o,l[5].changelog);const Z={};q&67633152&&(Z.$$scope={dirty:q,ctx:l}),S.$set(Z),(!U||q&512)&&k!==(k=l[9]("preview")+"")&&j(C,k),K.ctx=l,q&256&&J!==(J=Re(l[8]))&&Se(J,K)||Ze(K,l,q),(!U||q&512)&&H!==(H=l[9]("version-form.agreement-to")+"")&&j(W,H),(!U||q&512)&&L!==(L=l[9]("content-policy")+"")&&j(B,L),(!U||q&2)&&j(Y,l[1]),(!U||q&4)&&j(te,l[2]),(!U||q&64)&&(E.disabled=l[6])},i(F){U||(ie(D),ie(S.$$.fragment,F),U=!0)},o(F){ue(D),ue(S.$$.fragment,F),U=!1},d(F){F&&p(e),D&&D.d(),Me(S),K.block.d(),K.token=null,K=null,pe=!1,_e(ve)}}}function Ot(l,e,t){let n,s,i,c,m,g=X,r=()=>(g(),g=tt(u,V=>t(9,m=V)),u);l.$$.on_destroy.push(()=>g());const{t:u}=et();r();let{modReference:f}=e,{onSubmit:o}=e,{initialValues:$={changelog:"",stability:gt.Release}}=e,{submitIcon:S}=e,{submitText:w=m("entry.create")}=e,{editing:h=!1}=e;const x=lt();Ne(l,x,V=>t(4,i=V));let k=!1;const C=$t(f,x),{form:O,data:G}=ot({initialValues:$,extend:[ft({schema:C}),ct],onSubmit:V=>{t(6,k=!0),o(pt(V,C)).then(()=>t(6,k=!1))}});Ne(l,G,V=>t(5,c=V));function J(){c.changelog=this.value,G.set(c)}return l.$$set=V=>{"modReference"in V&&t(13,f=V.modReference),"onSubmit"in V&&t(14,o=V.onSubmit),"initialValues"in V&&t(15,$=V.initialValues),"submitIcon"in V&&t(1,S=V.submitIcon),"submitText"in V&&t(2,w=V.submitText),"editing"in V&&t(3,h=V.editing)},l.$$.update=()=>{l.$$.dirty&32&&t(8,n=c.changelog||""),l.$$.dirty&16&&t(7,s=i?.uplugin?.Plugins?.filter(V=>!V.BasePlugin)||[])},[u,S,w,h,i,c,k,s,n,m,x,O,G,f,o,$,J]}class Wt extends Je{constructor(e){super(),Fe(this,e,Ot,Gt,He,{t:0,modReference:13,onSubmit:14,initialValues:15,submitIcon:1,submitText:2,editing:3})}get t(){return this.$$.ctx[0]}}export{Wt as V};
//# sourceMappingURL=VersionForm.oBD2e3Rg.js.map
