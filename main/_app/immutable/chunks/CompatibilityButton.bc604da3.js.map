{"version":3,"file":"CompatibilityButton.bc604da3.js","sources":["../../../../../../src/lib/components/mods/compatibility/OutdatedBanner.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityStateText.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityInfo.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityIcon.svelte","../../../../../../src/lib/components/mods/compatibility/CompatibilityButton.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import { CompatibilityState } from '$lib/generated';\n\n  export let compatibility: CompatibilityInfoInput;\n  export let logo = false;\n\n  function Worst(input: CompatibilityInfoInput): CompatibilityState {\n    const EA = input.EA.state;\n    if (EA == CompatibilityState.Broken) {\n      // Broken is always the worst\n      return EA;\n    }\n    if (EA == CompatibilityState.Works) {\n      return input.EXP.state; // Anything other than Works is worse\n    }\n    if (input.EXP.state != CompatibilityState.Works) {\n      // If it's not better then it is the worst\n      return input.EXP.state;\n    }\n    return EA;\n  }\n\n  let worst = CompatibilityState.Works;\n  $: if (compatibility) {\n    worst = Worst(compatibility);\n  } else {\n    worst = CompatibilityState.Works;\n  }\n  $: works = worst === CompatibilityState.Works;\n</script>\n\n{#if !works}\n  <div\n    class=\"mod-outdated-stripe\"\n    class:mod-damaged={worst === CompatibilityState.Damaged}\n    class:mod-broken={worst === CompatibilityState.Broken}\n    class:mod-logo-outdated={logo} />\n{/if}\n","<script lang=\"ts\">\n  import type { CompatibilityState } from '$lib/generated';\n  export let state: CompatibilityState;\n\n  const classForState = (s: CompatibilityState): string => `mod-state-${s.toString().toLowerCase()}`;\n</script>\n\n<p class=\"{classForState(state)} mod-state\">{state}</p>\n","<script lang=\"ts\">\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import CompatibilityStateText from '$lib/components/mods/compatibility/CompatibilityStateText.svelte';\n  import { markdown } from '../../../utils/markdown';\n\n  export let compatibility: CompatibilityInfoInput;\n  export const compatibilityStateDescriptions: {\n    [key: string]: string;\n  } = {\n    Works: 'The mod should be functioning as intended.',\n    Damaged:\n      'Something is causing the mod to work improperly, but it is partially working. Be sure to read the note and see an explanation of what is going wrong!',\n    Broken:\n      'The mod is suffering from a critical problem and could do things like crash your game at launch if you were to install it. Be sure to read the note and see an explanation of what is going wrong!',\n    Unknown:\n      'No compatibility information has been reported for this mod yet. Try it out and contact us on the Discord so it can be updated!'\n  };\n</script>\n\n<div>\n  Compatibility information is maintained by the community. If you encounter issues with a mod, please report it on the <a\n    href=\"https://discord.gg/xkVJ73E\"\n    style=\"text-decoration: underline\">Discord</a\n  >!\n</div>\n<br />\n{#if compatibility}\n  <div>Early Access: <CompatibilityStateText state={compatibility?.EA?.state} /></div>\n  <div class=\"compatibility-state-description\">\n    {compatibilityStateDescriptions[compatibility?.EA?.state || 'Unknown']}\n  </div>\n  {#if compatibility.EA.note}\n    <div>\n      Note: {#await markdown(compatibility.EA.note) then rendered}\n        {@html rendered}\n      {/await}\n    </div>\n  {/if}\n  <div>Experimental: <CompatibilityStateText state={compatibility?.EXP?.state} /></div>\n  <div class=\"compatibility-state-description\">\n    {compatibilityStateDescriptions[compatibility?.EXP?.state || 'Unknown']}\n  </div>\n  {#if compatibility.EXP.note}\n    <div>\n      Note: {#await markdown(compatibility.EXP.note) then rendered}\n        {@html rendered}\n      {/await}\n    </div>\n  {/if}\n{:else}\n  <div>\n    {compatibilityStateDescriptions.Unknown}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import type { CompatibilityInput } from '$lib/generated';\n  import { CompatibilityState } from '$lib/generated';\n\n  export let compatibility: CompatibilityInput;\n  export let EXP = false;\n  let iconText = 'rocket_launch';\n  if (EXP) {\n    iconText = 'science';\n  }\n</script>\n\n<p\n  class=\"material-icons text-base\"\n  class:mod-state-works={compatibility?.state === CompatibilityState.Works}\n  class:mod-state-damaged={compatibility?.state === CompatibilityState.Damaged}\n  class:mod-state-broken={compatibility?.state === CompatibilityState.Broken}\n  class:mod-state-unknown={!compatibility}>\n  {iconText}\n</p>\n","<script lang=\"ts\">\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import Dialog, { Content, Title } from '@smui/dialog';\n  import CompatibilityInfo from '$lib/components/mods/compatibility/CompatibilityInfo.svelte';\n  import Button from '@smui/button';\n  import CompatibilityIcon from './CompatibilityIcon.svelte';\n  let open = false;\n\n  export let compatibility: CompatibilityInfoInput;\n</script>\n\n<Button\n  --mdc-text-button-container-height=\"20px\"\n  class=\"min-w-0 m-0\"\n  title=\"Compatibility information (click to view more info)\"\n  on:click={() => {\n    open = true;\n  }}>\n  <CompatibilityIcon compatibility={compatibility?.EA} />\n  <CompatibilityIcon compatibility={compatibility?.EXP} EXP={true} />\n</Button>\n\n<Dialog bind:open>\n  <Title>Compatibility Information</Title>\n  <Content>\n    <CompatibilityInfo {compatibility} />\n  </Content>\n</Dialog>\n"],"names":["ctx","CompatibilityState","Damaged","Broken","insert_hydration","target","div","anchor","create_if_block","compatibility","$$props","logo","Worst","input","EA","state","Works","EXP","worst","works","attr","p","p_class_value","dirty","classForState","s","toString","toLowerCase","t_value","Unknown","t2_value","t7_value","note","create_if_block_2","create_if_block_1","div0","div1","div2","div3","current","set_data","t2","t7","handle_promise","promise","markdown","info","html_tag","raw_value","append_hydration","a","br","compatibilityStateDescriptions","toggle_class","iconText","compatibilityicon0_changes","compatibilityicon1_changes","open","$$invalidate"],"mappings":"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"}