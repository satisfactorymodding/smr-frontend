{"version":3,"file":"EditCompatibilityForm.pW7rBH7W.js","sources":["../../../../../../src/lib/components/mods/compatibility/EditCompatibilityForm.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import ModCompatibilityEdit from './ModCompatibilityEdit.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { EditModCompatibilityDocument } from '$lib/generated';\n  import { getContextClient } from '@urql/svelte';\n  import { createEventDispatcher } from 'svelte';\n  import { getTranslate } from '@tolgee/svelte';\n\n  export let modId: string;\n  export let mod: ModData;\n\n  export const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const dispatch = createEventDispatcher();\n\n  async function onSubmit(e: Event) {\n    e.preventDefault();\n    const success = (\n      await client\n        .mutation(EditModCompatibilityDocument, {\n          modId,\n          compatibility: mod.compatibility\n        })\n        .toPromise()\n    ).data.updateModCompatibility;\n    if (success) {\n      dispatch('submit');\n    } else {\n      dispatch('fail');\n    }\n  }\n</script>\n\n<form on:submit={onSubmit}>\n  <ModCompatibilityEdit bind:compatibilityInfo={mod.compatibility} />\n  <div class=\"p-5\">\n    <button class=\"variant-ghost-primary btn\" type=\"submit\">{$t('entry.save')}</button>\n  </div>\n</form>\n"],"names":["t1_value","ctx","compatibility","modcompatibilityedit_props","compatibilityInfo","insert_hydration","target","form","anchor","append_hydration","div","button","modcompatibilityedit_changes","current","dirty","set_data","t1","modId","$$props","mod","t","getTranslate","client","getContextClient","dispatch","createEventDispatcher","async","onSubmit","e","preventDefault","success","mutation","EditModCompatibilityDocument","toPromise","data","updateModCompatibility","$$self","$$","not_equal","value"],"mappings":"mXAsC6DA,EAAAC,KAAG,YAAY,EAAA,0CAF5B,OAAAA,KAAIC,gBAAa,SAAjBC,EAAAC,kBAAAH,GAAIC,EAAAA,8bADpDG,EAKMC,EAAAC,EAAAC,sBAHJC,EAEKF,EAAAG,CADHD,EAAAA,EAAkFC,EAAAC,CAAAA,iCAHrEV,EAAQ,8CACuBW,EAAAR,kBAAAH,GAAIC,EAAAA,mCAES,GAAA,CAAAW,GAAAC,EAAA,IAAAd,KAAAA,EAAAC,GAAG,EAAA,YAAA,EAAY,KAAAc,EAAAC,EAAAhB,CAAAA,sMA9B/DiB,CAAaC,EAAAA,OACbC,GAAYD,EAER,KAAA,CAAAE,EAAAA,CAAAA,EAAMC,QAEf,MAAAC,EAASC,EAET,EAAAC,EAAWC,EAAAA,EAEFC,eAAAC,EAASC,GACtBA,EAAEC,eAAAA,EACI,MAAAC,GAAAA,MACER,EACHS,SAASC,GACRf,MACAf,EAAAA,cAAeiB,EAAIjB,aAAAA,CAAAA,EAEpB+B,UACHC,GAAAA,KAAKC,uBAELX,EADEM,EACO,SAEA,sBAMiCM,EAAAC,GAAAC,UAAAnB,EAAIjB,cAAaqC,CAAAA,IAAjBpB,EAAIjB,cAAaqC"}