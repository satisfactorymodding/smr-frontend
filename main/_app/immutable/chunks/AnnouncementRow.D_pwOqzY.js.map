{"version":3,"file":"AnnouncementRow.D_pwOqzY.js","sources":["../../../../../../src/lib/components/announcements/AnnouncementRow.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { AnnouncementImportance } from '$lib/generated';\n  import { markdown } from '$lib/utils/markdown';\n\n  const iconNames: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'info',\n    [AnnouncementImportance.Alert]: 'error',\n    [AnnouncementImportance.Warning]: 'warning',\n    [AnnouncementImportance.Fix]: 'build_circle'\n  };\n  const backgroundColors: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'bg-sky-500',\n    [AnnouncementImportance.Alert]: 'bg-red-600',\n    [AnnouncementImportance.Warning]: 'bg-yellow-400',\n    [AnnouncementImportance.Fix]: 'bg-green-600'\n  };\n  const monospacePrefix = 'monotext:';\n\n  export let message: string;\n  export let importance: AnnouncementImportance;\n\n  // Enables making monospace announcements\n  $: isMonospace = message.startsWith(monospacePrefix);\n  $: finalMessage = isMonospace ? message.replaceAll(monospacePrefix, '') : message;\n</script>\n\n<div class=\"{backgroundColors[importance]} max-h-64 overflow-hidden rounded-sm\">\n  <div class=\"striped p-1 text-black\">\n    <span class=\"material-icons align-middle text-2xl\">{iconNames[importance]}</span>\n    <div\n      class=\"text-l announcement-markdown inline-block max-w-full break-words align-middle\"\n      class:font-mono={isMonospace}\n      class:whitespace-pre={isMonospace}>\n      <b>{importance}: </b>\n      {#await markdown(finalMessage, true) then previewRendered}\n        <!-- eslint-disable-next-line -->\n        {@html previewRendered}\n      {/await}\n    </div>\n  </div>\n</div>\n\n<style>\n  .striped {\n    background: repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 14px,\n      rgba(60, 60, 60, 0.1) 14px,\n      rgba(60, 60, 60, 0.1) 28px\n    );\n  }\n</style>\n"],"names":["ctx","html_tag","p","raw_value","t0_value","markdown","info","attr","div2","div2_class_value","insert_hydration","target","anchor","append_hydration","div1","span","div0","b","dirty","set_data","t0","handle_promise","promise","monospacePrefix","iconNames","AnnouncementImportance","Info","Alert","Warning","Fix","backgroundColors","message","$$props","importance","isMonospace","startsWith","$$invalidate","finalMessage","replaceAll"],"mappings":"sVAoCeA,EAAe,CAAA,EAAA,qIAAfA,EAAe,CAAA,EAAA,KAAAC,EAAAC,EAAAC,6FAR0BC,EAAAJ,GAAUA,EAAAA,EAAU,IAAA,+GAM9DK,EAASL,EAAY,GAAE,EAAIM,EAAAA,CAAAA,8EAD/BN,EAAU,QAAC,+OAAXA,EAAU,CAAA,CAAA,QAAC,4PAFEA,EAAW,yBACNA,EAAW,yDAN1BO,EAAAC,EAAA,QAAAC,EAAAT,GAAiBA,EAAAA,EAAU,IAAA,qDAAA,UAAxCU,EAcKC,EAAAH,EAAAI,CAbHC,EAAAA,EAYKL,EAAAM,CAXHD,EAAAA,EAAgFC,EAAAC,CAAAA,gBAChFF,EASKC,EAAAE,CAAAA,EALHH,EAAoBG,EAAAC,6FAL8BC,EAAA,GAAAd,KAAAA,EAAAJ,KAAUA,EAAU,CAAA,CAAA,EAAA,KAAAmB,EAAAC,EAAAhB,YAKlEJ,EAAU,wBACNK,EAASL,EAAY,CAAE,EAAA,EAAA,IAAIqB,EAAAC,EAAAhB,CAAAA,iCAHlBN,EAAW,8BACNA,EAAW,IAN1BkB,EAAA,GAAAT,KAAAA,EAAAT,GAAiBA,EAAAA,EAAU,IAAA,6HAVhC,MAAAuB,EAAkB,4CAZlBC,EAAS,EACZC,EAAuBC,IAAO,EAAA,QAC9BD,EAAuBE,KAAAA,EAAQ,SAC/BF,EAAuBG,OAAU,EAAA,WACjCH,EAAuBI,GAAAA,EAAM,gBAE1BC,EAAgB,EACnBL,EAAuBC,IAAO,EAAA,cAC9BD,EAAuBE,KAAAA,EAAQ,cAC/BF,EAAuBG,OAAU,EAAA,iBACjCH,EAAuBI,GAAAA,EAAM,4BAIrBE,GAAeC,cACfC,CAAAA,EAAkCD,gIAG1CE,EAAcH,EAAQI,WAAWZ,CAAAA,CAAAA,iBACnCa,EAAA,EAAEC,EAAeH,EAAcH,EAAQO,WAAWf,EAAiB,EAAA,EAAMQ"}