import{S as ur,i as dr,s as pr,b as Ge,j as q,q as H,f as n,Z as hr,_ as yr,aa as br,r as ze,e as f,c as u,G as mr,H as c,a as _,V as A,d as m,g as I,W as N,a5 as Ke,J as i,Y as T,A as Qe,u as fe,U as ue,aA as $r,C as Y,F as tt,K as Q,I as et,L as Nt,a4 as Er,M as wr,X as de,m as B,k as pe,t as R,l as he,N as rt,O as xr,a3 as _r,aB as je,R as Ye,T as Ir,P as Ar,Q as Nr}from"./vendor.CjqjvYE3.js";import{o as Jt,s as it,a as Zt,b as Pr,l as Vr,f as tr,g as kr,V as Lt,c as Dr,v as Sr,r as Tr}from"./forms.BDuxouEx.js";import{t as Ur}from"./forms.DiJ8PW7-.js";import{m as er}from"./markdown.vzIcOPJK.js";import{J as Lr,x as rr}from"./graphql.DCCO4iQ1.js";import{T as Br}from"./TagList.RD14bl_C.js";import{M as qr}from"./ModCompatibilityEdit.mj3Kd8Sh.js";const sr=Jt({name:it().min(3).max(32),mod_reference:it().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:it().min(16).max(128),full_description:Zt(it()),logo:Zt(Pr().refine(e=>"name"in e&&"size"in e&&"type"in e)),source_url:it().url().optional().or(Vr("")),authors:Zt(Jt({role:it(),user_id:it()}).array()),compatibility:Zt(Jt({EA:Jt({state:it(),note:tr()}),EXP:Jt({state:it(),note:tr()})})),hidden:kr(),tagIDs:Zt(it().array())});function Cr(e){let t,s="Unknown User ID";return{c(){t=f("p"),t.textContent=s,this.h()},l(a){t=u(a,"P",{class:!0,"data-svelte-h":!0}),mr(t)!=="svelte-12dp6bw"&&(t.textContent=s),this.h()},h(){c(t,"class","mr-2 whitespace-nowrap")},m(a,r){q(a,t,r)},p:H,d(a){a&&n(t)}}}function Or(e){let t,s,a,r,l,o,h=e[2].data.getUser.username+"",g;return{c(){t=f("div"),s=f("div"),r=_(),l=f("div"),o=f("span"),g=A(h),this.h()},l(w){t=u(w,"DIV",{class:!0});var b=m(t);s=u(b,"DIV",{class:!0,style:!0}),m(s).forEach(n),r=I(b),l=u(b,"DIV",{class:!0});var C=m(l);o=u(C,"SPAN",{class:!0});var P=m(o);g=N(P,h),P.forEach(n),C.forEach(n),b.forEach(n),this.h()},h(){c(s,"class","h-7 w-7 rounded-full bg-cover"),c(s,"style",a=`background-image: url("${e[2].data.getUser.avatar||Ke+"/images/no_image.webp"}")`),c(o,"class","text-yellow-500"),c(l,"class","grid grid-flow-row"),c(t,"class","mr-2 grid auto-cols-max grid-flow-col gap-x-2")},m(w,b){q(w,t,b),i(t,s),i(t,r),i(t,l),i(l,o),i(o,g)},p(w,b){b&4&&a!==(a=`background-image: url("${w[2].data.getUser.avatar||Ke+"/images/no_image.webp"}")`)&&c(s,"style",a),b&4&&h!==(h=w[2].data.getUser.username+"")&&T(g,h)},d(w){w&&n(t)}}}function Mr(e){let t,s=e[3]("error.oh-no")+"",a,r,l=e[2].error.message+"",o;return{c(){t=f("p"),a=A(s),r=A("... "),o=A(l),this.h()},l(h){t=u(h,"P",{class:!0});var g=m(t);a=N(g,s),r=N(g,"... "),o=N(g,l),g.forEach(n),this.h()},h(){c(t,"class","mr-2")},m(h,g){q(h,t,g),i(t,a),i(t,r),i(t,o)},p(h,g){g&8&&s!==(s=h[3]("error.oh-no")+"")&&T(a,s),g&4&&l!==(l=h[2].error.message+"")&&T(o,l)},d(h){h&&n(t)}}}function jr(e){let t,s=e[3]("loading")+"",a,r;return{c(){t=f("p"),a=A(s),r=A("..."),this.h()},l(l){t=u(l,"P",{class:!0});var o=m(t);a=N(o,s),r=N(o,"..."),o.forEach(n),this.h()},h(){c(t,"class","mr-2")},m(l,o){q(l,t,o),i(t,a),i(t,r)},p(l,o){o&8&&s!==(s=l[3]("loading")+"")&&T(a,s)},d(l){l&&n(t)}}}function zr(e){let t;function s(l,o){return l[2].fetching?jr:l[2].error?Mr:l[2].data.getUser?Or:Cr}let a=s(e),r=a(e);return{c(){r.c(),t=Ge()},l(l){r.l(l),t=Ge()},m(l,o){r.m(l,o),q(l,t,o)},p(l,[o]){a===(a=s(l))&&r?r.p(l,o):(r.d(1),r=a(l),r&&(r.c(),r.m(t.parentNode,t)))},i:H,o:H,d(l){l&&n(t),r.d(l)}}}function Rr(e,t,s){let a,r,l=H,o=()=>(l(),l=ze(a,j=>s(2,r=j)),a),h,g=H,w=()=>(g(),g=ze(C,j=>s(3,h=j)),C);e.$$.on_destroy.push(()=>l()),e.$$.on_destroy.push(()=>g());let{id:b}=t;const{t:C}=hr();w();const P=yr();return e.$$set=j=>{"id"in j&&s(4,b=j.id)},e.$$.update=()=>{e.$$.dirty&16&&o(s(1,a=br({query:Lr,client:P,variables:{user:b}})))},[C,a,r,h,b]}class Wr extends ur{constructor(t){super(),dr(this,t,Rr,zr,pr,{id:4,t:0})}get t(){return this.$$.ctx[0]}}function lr(e,t,s){const a=e.slice();return a[28]=t[s],a[29]=t,a[30]=s,a}function Xr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function ar(e){let t,s=e[7]("mod.reference-warning")+"",a;return{c(){t=f("span"),a=A(s)},l(r){t=u(r,"SPAN",{});var l=m(t);a=N(l,s),l.forEach(n)},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[0]&128&&s!==(s=r[7]("mod.reference-warning")+"")&&T(a,s)},d(r){r&&n(t)}}}function Fr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function Hr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function Jr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function Zr(e){return{c:H,l:H,m:H,p:H,d:H}}function Gr(e){let t,s,a=e[32]+"";return{c(){t=f("div"),s=new Ar(!1),this.h()},l(r){t=u(r,"DIV",{class:!0});var l=m(t);s=Nr(l,!1),l.forEach(n),this.h()},h(){s.a=null,c(t,"class","markdown-content right svelte-k92wki")},m(r,l){q(r,t,l),s.m(a,t)},p(r,l){l[0]&64&&a!==(a=r[32]+"")&&s.p(a)},d(r){r&&n(t)}}}function Kr(e){return{c:H,l:H,m:H,p:H,d:H}}function Qr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function Yr(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function ts(e){let t=e[7]("entry.hidden")+"",s;return{c(){s=A(t)},l(a){s=N(a,t)},m(a,r){q(a,s,r)},p(a,r){r[0]&128&&t!==(t=a[7]("entry.hidden")+"")&&T(s,t)},d(a){a&&n(s)}}}function es(e){let t,s=(e[31]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){q(r,t,l),i(t,a)},p(r,l){l[1]&1&&s!==(s=(r[31]||"")+"")&&T(a,s)},d(r){r&&n(t)}}}function ir(e){let t,s,a,r,l,o,h,g,w=e[7]("authors")+"",b,C,P,j,$=e[7]("add")+"",U,V,L,D,X;function dt(p){e[22](p)}let W={name:"slider-label",$$slots:{default:[rs]},$$scope:{ctx:e}};e[5]!==void 0&&(W.checked=e[5]),s=new $r({props:W}),fe.push(()=>ue(s,"checked",dt)),s.$on("change",e[23]);let S=e[5]&&nr(e),J=Ye(e[4].authors),x=[];for(let p=0;p<J.length;p+=1)x[p]=fr(lr(e,J,p));const Pt=p=>R(x[p],1,1,()=>{x[p]=null});return{c(){t=f("div"),Y(s.$$.fragment),r=_(),S&&S.c(),l=_(),o=f("div"),h=f("div"),g=f("h4"),b=A(w),C=_(),P=f("button"),j=f("span"),U=A($),V=_();for(let p=0;p<x.length;p+=1)x[p].c();this.h()},l(p){t=u(p,"DIV",{});var E=m(t);tt(s.$$.fragment,E),E.forEach(n),r=I(p),S&&S.l(p),l=I(p),o=u(p,"DIV",{class:!0});var M=m(o);h=u(M,"DIV",{class:!0});var k=m(h);g=u(k,"H4",{class:!0});var K=m(g);b=N(K,w),K.forEach(n),C=I(k),P=u(k,"BUTTON",{class:!0,type:!0});var pt=m(P);j=u(pt,"SPAN",{});var ht=m(j);U=N(ht,$),ht.forEach(n),pt.forEach(n),k.forEach(n),V=I(M);for(let v=0;v<x.length;v+=1)x[v].l(M);M.forEach(n),this.h()},h(){c(g,"class","mr-4"),c(P,"class","variant-ghost-primary btn"),c(P,"type","button"),c(h,"class","flex items-center"),c(o,"class","grid grid-flow-row gap-2")},m(p,E){q(p,t,E),et(s,t,null),q(p,r,E),S&&S.m(p,E),q(p,l,E),q(p,o,E),i(o,h),i(h,g),i(g,b),i(h,C),i(h,P),i(P,j),i(j,U),i(o,V);for(let M=0;M<x.length;M+=1)x[M]&&x[M].m(o,null);L=!0,D||(X=Nt(P,"click",e[10]),D=!0)},p(p,E){const M={};if(E[0]&128|E[1]&4&&(M.$$scope={dirty:E,ctx:p}),!a&&E[0]&32&&(a=!0,M.checked=p[5],de(()=>a=!1)),s.$set(M),p[5]?S?(S.p(p,E),E[0]&32&&B(S,1)):(S=nr(p),S.c(),B(S,1),S.m(l.parentNode,l)):S&&(pe(),R(S,1,1,()=>{S=null}),he()),(!L||E[0]&128)&&w!==(w=p[7]("authors")+"")&&T(b,w),(!L||E[0]&128)&&$!==($=p[7]("add")+"")&&T(U,$),E[0]&2192){J=Ye(p[4].authors);let k;for(k=0;k<J.length;k+=1){const K=lr(p,J,k);x[k]?(x[k].p(K,E),B(x[k],1)):(x[k]=fr(K),x[k].c(),B(x[k],1),x[k].m(o,null))}for(pe(),k=J.length;k<x.length;k+=1)Pt(k);he()}},i(p){if(!L){B(s.$$.fragment,p),B(S);for(let E=0;E<J.length;E+=1)B(x[E]);L=!0}},o(p){R(s.$$.fragment,p),R(S),x=x.filter(Boolean);for(let E=0;E<x.length;E+=1)R(x[E]);L=!1},d(p){p&&(n(t),n(r),n(l),n(o)),rt(s),S&&S.d(p),Ir(x,p),D=!1,X()}}}function rs(e){let t=e[7]("compatibility-info.edit")+"",s;return{c(){s=A(t)},l(a){s=N(a,t)},m(a,r){q(a,s,r)},p(a,r){r[0]&128&&t!==(t=a[7]("compatibility-info.edit")+"")&&T(s,t)},d(a){a&&n(s)}}}function nr(e){let t,s,a;function r(o){e[24](o)}let l={};return e[4].compatibility!==void 0&&(l.compatibilityInfo=e[4].compatibility),t=new qr({props:l}),fe.push(()=>ue(t,"compatibilityInfo",r)),{c(){Y(t.$$.fragment)},l(o){tt(t.$$.fragment,o)},m(o,h){et(t,o,h),a=!0},p(o,h){const g={};!s&&h[0]&16&&(s=!0,g.compatibilityInfo=o[4].compatibility,de(()=>s=!1)),t.$set(g)},i(o){a||(B(t.$$.fragment,o),a=!0)},o(o){R(t.$$.fragment,o),a=!1},d(o){rt(t,o)}}}function or(e){let t,s,a;return s=new Wr({props:{id:e[4].authors[e[30]].user_id}}),{c(){t=f("div"),Y(s.$$.fragment),this.h()},l(r){t=u(r,"DIV",{class:!0});var l=m(t);tt(s.$$.fragment,l),l.forEach(n),this.h()},h(){c(t,"class","p-2")},m(r,l){q(r,t,l),et(s,t,null),a=!0},p(r,l){const o={};l[0]&16&&(o.id=r[4].authors[r[30]].user_id),s.$set(o)},i(r){a||(B(s.$$.fragment,r),a=!0)},o(r){R(s.$$.fragment,r),a=!1},d(r){r&&n(t),rt(s)}}}function cr(e){let t,s,a=e[7]("remove")+"",r,l,o;function h(){return e[26](e[30])}return{c(){t=f("button"),s=f("span"),r=A(a),this.h()},l(g){t=u(g,"BUTTON",{class:!0,type:!0});var w=m(t);s=u(w,"SPAN",{});var b=m(s);r=N(b,a),b.forEach(n),w.forEach(n),this.h()},h(){c(t,"class","variant-ghost-primary btn"),c(t,"type","button")},m(g,w){q(g,t,w),i(t,s),i(s,r),l||(o=Nt(t,"click",h),l=!0)},p(g,w){e=g,w[0]&128&&a!==(a=e[7]("remove")+"")&&T(r,a)},d(g){g&&n(t),l=!1,o()}}}function fr(e){let t,s,a,r,l="User ID",o,h,g,w,b,C,P,j,$=e[4].authors[e[30]].user_id&&or(e);function U(){e[25].call(h,e[30])}let V=e[28].role!=="creator"&&cr(e);return{c(){t=f("div"),$&&$.c(),s=_(),a=f("label"),r=f("span"),r.textContent=l,o=_(),h=f("input"),w=_(),V&&V.c(),b=_(),this.h()},l(L){t=u(L,"DIV",{class:!0});var D=m(t);$&&$.l(D),s=I(D),a=u(D,"LABEL",{class:!0});var X=m(a);r=u(X,"SPAN",{"data-svelte-h":!0}),mr(r)!=="svelte-5fmcbq"&&(r.textContent=l),o=I(X),h=u(X,"INPUT",{type:!0,class:!0}),X.forEach(n),w=I(D),V&&V.l(D),b=I(D),D.forEach(n),this.h()},h(){c(h,"type","text"),h.required=!0,c(h,"class","input p-2"),h.disabled=g=e[28].role==="creator",c(a,"class","label"),c(t,"class","flex items-end")},m(L,D){q(L,t,D),$&&$.m(t,null),i(t,s),i(t,a),i(a,r),i(a,o),i(a,h),Q(h,e[4].authors[e[30]].user_id),i(t,w),V&&V.m(t,null),i(t,b),C=!0,P||(j=Nt(h,"input",U),P=!0)},p(L,D){e=L,e[4].authors[e[30]].user_id?$?($.p(e,D),D[0]&16&&B($,1)):($=or(e),$.c(),B($,1),$.m(t,s)):$&&(pe(),R($,1,1,()=>{$=null}),he()),(!C||D[0]&16&&g!==(g=e[28].role==="creator"))&&(h.disabled=g),D[0]&16&&h.value!==e[4].authors[e[30]].user_id&&Q(h,e[4].authors[e[30]].user_id),e[28].role!=="creator"?V?V.p(e,D):(V=cr(e),V.c(),V.m(t,b)):V&&(V.d(1),V=null)},i(L){C||(B($),C=!0)},o(L){R($),C=!1},d(L){L&&n(t),$&&$.d(),V&&V.d(),P=!1,j()}}}function ss(e){let t,s,a,r,l,o=e[7]("entry.name")+"",h,g,w,b,C,P,j,$,U,V,L=e[7]("mod.reference")+"",D,X,dt,W,S,J,x,Pt,p,E,M,k=e[7]("entry.short-description")+"",K,pt,ht,v,me,mt,$e,$t,gt,vt,Bt,zt=e[7]("entry.full-description")+"",Gt,ge,ve,st,ye,yt,be,nt,qt,Rt=e[7]("preview")+"",Kt,Ee,we,Qt,xe,Ct,ot,_e,Ie,lt,Vt,Wt=e[7]("logo")+"",Yt,Ae,Ne,ct,Pe,bt,Ve,Et,wt,Xt,Ft=e[7]("entry.source-url")+"",te,ke,at,De,xt,Se,_t,ft,Te,Ue,It,Le,ee,Ht,kt,re,Z,Be,Re;P=new Lt({props:{for:"name",$$slots:{default:[Xr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}});let F=!e[2]&&ar(e);x=new Lt({props:{for:"mod_reference",$$slots:{default:[Fr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}}),mt=new Lt({props:{for:"short_description",$$slots:{default:[Hr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}}),yt=new Lt({props:{for:"full_description",$$slots:{default:[Jr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}});let G={ctx:e,current:null,token:null,hasCatch:!1,pending:Kr,then:Gr,catch:Zr,value:32};Qe(Qt=er(e[6]),G);function gr(d){e[19](d)}let We={editable:!0};e[3]!==void 0&&(We.tags=e[3]),ot=new Br({props:We}),fe.push(()=>ue(ot,"tags",gr)),bt=new Lt({props:{for:"logo",$$slots:{default:[Qr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}}),xt=new Lt({props:{for:"source_url",$$slots:{default:[Yr,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}});function vr(d){e[21](d)}let Xe={name:"slider-label",$$slots:{default:[ts]},$$scope:{ctx:e}};e[4].hidden!==void 0&&(Xe.checked=e[4].hidden),ft=new $r({props:Xe}),fe.push(()=>ue(ft,"checked",vr)),It=new Lt({props:{for:"hidden",$$slots:{default:[es,({messages:d})=>({31:d}),({messages:d})=>[0,d?1:0]]},$$scope:{ctx:e}}});let z=e[2]&&ir(e);return{c(){t=f("form"),s=f("div"),a=f("div"),r=f("label"),l=f("span"),h=A(o),g=A(" *"),w=_(),b=f("input"),C=_(),Y(P.$$.fragment),j=_(),$=f("div"),U=f("label"),V=f("span"),D=A(L),X=A(" *"),dt=_(),W=f("input"),S=_(),F&&F.c(),J=_(),Y(x.$$.fragment),Pt=_(),p=f("div"),E=f("label"),M=f("span"),K=A(k),pt=A(" *"),ht=_(),v=f("input"),me=_(),Y(mt.$$.fragment),$e=_(),$t=f("div"),gt=f("div"),vt=f("label"),Bt=f("span"),Gt=A(zt),ge=A(" *"),ve=_(),st=f("textarea"),ye=_(),Y(yt.$$.fragment),be=_(),nt=f("div"),qt=f("span"),Kt=A(Rt),Ee=A(":"),we=_(),G.block.c(),xe=_(),Ct=f("div"),Y(ot.$$.fragment),Ie=_(),lt=f("div"),Vt=f("label"),Yt=A(Wt),Ae=A(":"),Ne=_(),ct=f("input"),Pe=_(),Y(bt.$$.fragment),Ve=_(),Et=f("div"),wt=f("label"),Xt=f("span"),te=A(Ft),ke=_(),at=f("input"),De=_(),Y(xt.$$.fragment),Se=_(),_t=f("div"),Y(ft.$$.fragment),Ue=_(),Y(It.$$.fragment),Le=_(),z&&z.c(),ee=_(),Ht=f("div"),kt=f("button"),re=A(e[1]),this.h()},l(d){t=u(d,"FORM",{});var y=m(t);s=u(y,"DIV",{class:!0});var O=m(s);a=u(O,"DIV",{class:!0});var Dt=m(a);r=u(Dt,"LABEL",{class:!0});var St=m(r);l=u(St,"SPAN",{});var Ot=m(l);h=N(Ot,o),g=N(Ot," *"),Ot.forEach(n),w=I(St),b=u(St,"INPUT",{type:!0,class:!0}),St.forEach(n),C=I(Dt),tt(P.$$.fragment,Dt),Dt.forEach(n),j=I(O),$=u(O,"DIV",{class:!0});var Tt=m($);U=u(Tt,"LABEL",{class:!0});var ut=m(U);V=u(ut,"SPAN",{});var Mt=m(V);D=N(Mt,L),X=N(Mt," *"),Mt.forEach(n),dt=I(ut),W=u(ut,"INPUT",{type:!0,class:!0}),S=I(ut),F&&F.l(ut),ut.forEach(n),J=I(Tt),tt(x.$$.fragment,Tt),Tt.forEach(n),Pt=I(O),p=u(O,"DIV",{class:!0});var At=m(p);E=u(At,"LABEL",{class:!0});var Ut=m(E);M=u(Ut,"SPAN",{});var qe=m(M);K=N(qe,k),pt=N(qe," *"),qe.forEach(n),ht=I(Ut),v=u(Ut,"INPUT",{type:!0,class:!0}),Ut.forEach(n),me=I(At),tt(mt.$$.fragment,At),At.forEach(n),$e=I(O),$t=u(O,"DIV",{class:!0});var se=m($t);gt=u(se,"DIV",{class:!0});var le=m(gt);vt=u(le,"LABEL",{class:!0});var ae=m(vt);Bt=u(ae,"SPAN",{});var Ce=m(Bt);Gt=N(Ce,zt),ge=N(Ce," *"),Ce.forEach(n),ve=I(ae),st=u(ae,"TEXTAREA",{class:!0,rows:!0}),m(st).forEach(n),ae.forEach(n),ye=I(le),tt(yt.$$.fragment,le),le.forEach(n),be=I(se),nt=u(se,"DIV",{class:!0});var ie=m(nt);qt=u(ie,"SPAN",{});var Oe=m(qt);Kt=N(Oe,Rt),Ee=N(Oe,":"),Oe.forEach(n),we=I(ie),G.block.l(ie),ie.forEach(n),se.forEach(n),xe=I(O),Ct=u(O,"DIV",{class:!0});var Fe=m(Ct);tt(ot.$$.fragment,Fe),Fe.forEach(n),Ie=I(O),lt=u(O,"DIV",{class:!0});var jt=m(lt);Vt=u(jt,"LABEL",{for:!0});var Me=m(Vt);Yt=N(Me,Wt),Ae=N(Me,":"),Me.forEach(n),Ne=I(jt),ct=u(jt,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Pe=I(jt),tt(bt.$$.fragment,jt),jt.forEach(n),Ve=I(O),Et=u(O,"DIV",{class:!0});var ne=m(Et);wt=u(ne,"LABEL",{class:!0});var oe=m(wt);Xt=u(oe,"SPAN",{});var He=m(Xt);te=N(He,Ft),He.forEach(n),ke=I(oe),at=u(oe,"INPUT",{type:!0,class:!0}),oe.forEach(n),De=I(ne),tt(xt.$$.fragment,ne),ne.forEach(n),Se=I(O),_t=u(O,"DIV",{class:!0});var ce=m(_t);tt(ft.$$.fragment,ce),Ue=I(ce),tt(It.$$.fragment,ce),ce.forEach(n),Le=I(O),z&&z.l(O),ee=I(O),Ht=u(O,"DIV",{});var Je=m(Ht);kt=u(Je,"BUTTON",{class:!0,type:!0});var Ze=m(kt);re=N(Ze,e[1]),Ze.forEach(n),Je.forEach(n),O.forEach(n),y.forEach(n),this.h()},h(){c(b,"type","text"),b.required=!0,c(b,"class","input p-2"),c(r,"class","label"),c(a,"class","grid grid-flow-row gap-2"),c(W,"type","text"),W.required=!0,c(W,"class","input p-2"),W.disabled=e[2],c(U,"class","label"),c($,"class","grid grid-flow-row gap-2"),c(v,"type","text"),v.required=!0,c(v,"class","input p-2"),c(E,"class","label"),c(p,"class","grid grid-flow-row gap-2"),c(st,"class","vertical-textarea textarea p-2"),st.required=!0,c(st,"rows",10),c(vt,"class","label"),c(gt,"class","grid grid-flow-row auto-rows-max gap-2"),c(nt,"class","grid grid-flow-row auto-rows-max gap-2"),c($t,"class","split grid gap-6 svelte-k92wki"),c(Ct,"class","grid grid-flow-row gap-2"),c(Vt,"for","logo"),c(ct,"id","logo"),c(ct,"class","base-input"),c(ct,"name","logo"),c(ct,"type","file"),c(ct,"accept","image/png,image/jpeg,image/gif"),c(ct,"placeholder","Logo"),c(lt,"class","grid grid-flow-row gap-2"),c(at,"type","text"),at.required=!0,c(at,"class","input p-2"),c(wt,"class","label"),c(Et,"class","grid grid-flow-row gap-2"),c(_t,"class","grid grid-flow-row gap-2"),c(kt,"class","variant-ghost-primary btn"),c(kt,"type","submit"),c(s,"class","grid grid-flow-row gap-6")},m(d,y){q(d,t,y),i(t,s),i(s,a),i(a,r),i(r,l),i(l,h),i(l,g),i(r,w),i(r,b),Q(b,e[4].name),i(a,C),et(P,a,null),i(s,j),i(s,$),i($,U),i(U,V),i(V,D),i(V,X),i(U,dt),i(U,W),Q(W,e[4].mod_reference),i(U,S),F&&F.m(U,null),i($,J),et(x,$,null),i(s,Pt),i(s,p),i(p,E),i(E,M),i(M,K),i(M,pt),i(E,ht),i(E,v),Q(v,e[4].short_description),i(p,me),et(mt,p,null),i(s,$e),i(s,$t),i($t,gt),i(gt,vt),i(vt,Bt),i(Bt,Gt),i(Bt,ge),i(vt,ve),i(vt,st),Q(st,e[4].full_description),i(gt,ye),et(yt,gt,null),i($t,be),i($t,nt),i(nt,qt),i(qt,Kt),i(qt,Ee),i(nt,we),G.block.m(nt,G.anchor=null),G.mount=()=>nt,G.anchor=null,i(s,xe),i(s,Ct),et(ot,Ct,null),i(s,Ie),i(s,lt),i(lt,Vt),i(Vt,Yt),i(Vt,Ae),i(lt,Ne),i(lt,ct),i(lt,Pe),et(bt,lt,null),i(s,Ve),i(s,Et),i(Et,wt),i(wt,Xt),i(Xt,te),i(wt,ke),i(wt,at),Q(at,e[4].source_url),i(Et,De),et(xt,Et,null),i(s,Se),i(s,_t),et(ft,_t,null),i(_t,Ue),et(It,_t,null),i(s,Le),z&&z.m(s,null),i(s,ee),i(s,Ht),i(Ht,kt),i(kt,re),Z=!0,Be||(Re=[Nt(b,"input",e[15]),Nt(W,"input",e[16]),Nt(v,"input",e[17]),Nt(st,"input",e[18]),Nt(at,"input",e[20]),Er(e[8].call(null,t))],Be=!0)},p(d,y){e=d,(!Z||y[0]&128)&&o!==(o=e[7]("entry.name")+"")&&T(h,o),y[0]&16&&b.value!==e[4].name&&Q(b,e[4].name);const O={};y[1]&5&&(O.$$scope={dirty:y,ctx:e}),P.$set(O),(!Z||y[0]&128)&&L!==(L=e[7]("mod.reference")+"")&&T(D,L),(!Z||y[0]&4)&&(W.disabled=e[2]),y[0]&16&&W.value!==e[4].mod_reference&&Q(W,e[4].mod_reference),e[2]?F&&(F.d(1),F=null):F?F.p(e,y):(F=ar(e),F.c(),F.m(U,null));const Dt={};y[1]&5&&(Dt.$$scope={dirty:y,ctx:e}),x.$set(Dt),(!Z||y[0]&128)&&k!==(k=e[7]("entry.short-description")+"")&&T(K,k),y[0]&16&&v.value!==e[4].short_description&&Q(v,e[4].short_description);const St={};y[1]&5&&(St.$$scope={dirty:y,ctx:e}),mt.$set(St),(!Z||y[0]&128)&&zt!==(zt=e[7]("entry.full-description")+"")&&T(Gt,zt),y[0]&16&&Q(st,e[4].full_description);const Ot={};y[1]&5&&(Ot.$$scope={dirty:y,ctx:e}),yt.$set(Ot),(!Z||y[0]&128)&&Rt!==(Rt=e[7]("preview")+"")&&T(Kt,Rt),G.ctx=e,y[0]&64&&Qt!==(Qt=er(e[6]))&&Qe(Qt,G)||wr(G,e,y);const Tt={};!_e&&y[0]&8&&(_e=!0,Tt.tags=e[3],de(()=>_e=!1)),ot.$set(Tt),(!Z||y[0]&128)&&Wt!==(Wt=e[7]("logo")+"")&&T(Yt,Wt);const ut={};y[1]&5&&(ut.$$scope={dirty:y,ctx:e}),bt.$set(ut),(!Z||y[0]&128)&&Ft!==(Ft=e[7]("entry.source-url")+"")&&T(te,Ft),y[0]&16&&at.value!==e[4].source_url&&Q(at,e[4].source_url);const Mt={};y[1]&5&&(Mt.$$scope={dirty:y,ctx:e}),xt.$set(Mt);const At={};y[0]&128|y[1]&4&&(At.$$scope={dirty:y,ctx:e}),!Te&&y[0]&16&&(Te=!0,At.checked=e[4].hidden,de(()=>Te=!1)),ft.$set(At);const Ut={};y[1]&5&&(Ut.$$scope={dirty:y,ctx:e}),It.$set(Ut),e[2]?z?(z.p(e,y),y[0]&4&&B(z,1)):(z=ir(e),z.c(),B(z,1),z.m(s,ee)):z&&(pe(),R(z,1,1,()=>{z=null}),he()),(!Z||y[0]&2)&&T(re,e[1])},i(d){Z||(B(P.$$.fragment,d),B(x.$$.fragment,d),B(mt.$$.fragment,d),B(yt.$$.fragment,d),B(ot.$$.fragment,d),B(bt.$$.fragment,d),B(xt.$$.fragment,d),B(ft.$$.fragment,d),B(It.$$.fragment,d),B(z),Z=!0)},o(d){R(P.$$.fragment,d),R(x.$$.fragment,d),R(mt.$$.fragment,d),R(yt.$$.fragment,d),R(ot.$$.fragment,d),R(bt.$$.fragment,d),R(xt.$$.fragment,d),R(ft.$$.fragment,d),R(It.$$.fragment,d),R(z),Z=!1},d(d){d&&n(t),rt(P),F&&F.d(),rt(x),rt(mt),rt(yt),G.block.d(),G.token=null,G=null,rt(ot),rt(bt),rt(xt),rt(ft),rt(It),z&&z.d(),Be=!1,xr(Re)}}}function ls(e,t,s){let a,r,l,o=H,h=()=>(o(),o=ze(g,v=>s(7,l=v)),g);e.$$.on_destroy.push(()=>o());const{t:g}=hr();h();let{onSubmit:w}=t,{initialValues:b={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:rr.Works,note:""},EXP:{state:rr.Works,note:""}}}}=t,{submitText:C=l("entry.create")}=t,{editing:P=!1}=t;const{form:j,data:$}=Dr({initialValues:b,extend:[Sr({schema:sr}),Tr],onSubmit:v=>w(Ur(v,sr))});_r(e,$,v=>s(4,r=v));let U=r.tags;const V=()=>{je($,r.tagIDs=U.map(v=>v.id),r)},L=()=>{r.authors.push({role:"editor",user_id:"",key:""}),$.set(r)},D=v=>{r.authors.splice(v,1),$.set(r)};let X=!1;const dt=r.compatibility;function W(){r.name=this.value,$.set(r)}function S(){r.mod_reference=this.value,$.set(r)}function J(){r.short_description=this.value,$.set(r)}function x(){r.full_description=this.value,$.set(r)}function Pt(v){U=v,s(3,U)}function p(){r.source_url=this.value,$.set(r)}function E(v){e.$$.not_equal(r.hidden,v)&&(r.hidden=v,$.set(r))}function M(v){X=v,s(5,X)}const k=()=>{je($,r.compatibility=X?dt:void 0,r)};function K(v){e.$$.not_equal(r.compatibility,v)&&(r.compatibility=v,$.set(r))}function pt(v){r.authors[v].user_id=this.value,$.set(r)}const ht=v=>D(v);return e.$$set=v=>{"onSubmit"in v&&s(13,w=v.onSubmit),"initialValues"in v&&s(14,b=v.initialValues),"submitText"in v&&s(1,C=v.submitText),"editing"in v&&s(2,P=v.editing)},e.$$.update=()=>{e.$$.dirty[0]&8&&U&&V(),e.$$.dirty[0]&16&&je($,r.compatibility=r.compatibility?r.compatibility:void 0,r),e.$$.dirty[0]&20&&(P||delete r.compatibility),e.$$.dirty[0]&16&&s(6,a=r.full_description||"")},[g,C,P,U,r,X,a,l,j,$,L,D,dt,w,b,W,S,J,x,Pt,p,E,M,k,K,pt,ht]}class ds extends ur{constructor(t){super(),dr(this,t,ls,ss,pr,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1])}get t(){return this.$$.ctx[0]}}export{ds as M};
//# sourceMappingURL=ModForm.CRrzmSvG.js.map
