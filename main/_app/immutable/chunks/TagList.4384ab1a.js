import{S as Vt,i as At,s as kt,u as y,v as b,w as I,d as g,Y as D,a as O,$ as H,g as Pt,t as R,c as Ct,b as S,G as ot,aD as _t,aE as Nt,a9 as Ot,p as z,P as Q,U as P,X as C,_,a4 as tt,a5 as N,e as et,L as nt,aR as ut,I as F,R as U,J as M,V as q,Z as x,K as j,bF as Ft,ae as Mt,bG as lt,aq as Ut,bH as $t,bI as pt}from"./vendor.60cf38ca.js";import{i as qt}from"./graphql.eeb20993.js";import{T as zt,I as Bt,F as Gt}from"./forms.a2905f40.js";function st(s,t,n){const e=s.slice();return e[38]=t[n],e}function at(s,t,n){const e=s.slice();return e[38]=t[n],e}function Ht(s){let t,n,e,l;function r(i){s[28](i)}function a(i){s[29](i)}let $={class:"tags overflow-visible",style:"z-index: 9999",$$slots:{ripple:[ne],label:[ee],default:[Qt]},$$scope:{ctx:s}};return s[3]!==void 0&&($.lineRipple=s[3]),s[2]!==void 0&&($.input=s[2]),t=new zt({props:$}),z.push(()=>Q(t,"lineRipple",r)),z.push(()=>Q(t,"input",a)),{c(){P(t.$$.fragment)},l(i){C(t.$$.fragment,i)},m(i,p){_(t,i,p),l=!0},p(i,p){const h={};p[0]&2045|p[1]&8192&&(h.$$scope={dirty:p,ctx:i}),!n&&p[0]&8&&(n=!0,h.lineRipple=i[3],tt(()=>n=!1)),!e&&p[0]&4&&(e=!0,h.input=i[2],tt(()=>e=!1)),t.$set(h)},i(i){l||(S(t.$$.fragment,i),l=!0)},o(i){R(t.$$.fragment,i),l=!1},d(i){N(t,i)}}}function Kt(s){let t,n=s[0].length>0&&ft(s);return{c(){n&&n.c(),t=et()},l(e){n&&n.l(e),t=et()},m(e,l){n&&n.m(e,l),O(e,t,l)},p(e,l){e[0].length>0?n?n.p(e,l):(n=ft(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:nt,o:nt,d(e){n&&n.d(e),e&&g(t)}}}function rt(s){let t,n,e,l,r,a,$,i,p,h=s[38].name+"",c,o,T;function m(){return s[21](s[38])}return{c(){t=y("div"),n=y("span"),e=F("#"),l=U(),r=y("span"),a=y("i"),$=F("cancel"),i=U(),p=y("p"),c=F(h),this.h()},l(d){t=b(d,"DIV",{class:!0});var u=I(t);n=b(u,"SPAN",{class:!0});var w=I(n);e=M(w,"#"),w.forEach(g),l=q(u),r=b(u,"SPAN",{class:!0});var E=I(r);a=b(E,"I",{class:!0});var V=I(a);$=M(V,"cancel"),V.forEach(g),E.forEach(g),i=q(u),p=b(u,"P",{});var v=I(p);c=M(v,h),v.forEach(g),u.forEach(g),this.h()},h(){D(n,"class","hashtag text-orange-500 svelte-314er6"),D(a,"class","material-icons mdc-chip__icon mdc-chip__icon--trailing svelte-314er6"),D(r,"class","cancel svelte-314er6"),D(t,"class","text-neutral-300 whitespace-nowrap flex removable-tag svelte-314er6")},m(d,u){O(d,t,u),x(t,n),x(n,e),x(t,l),x(t,r),x(r,a),x(a,$),x(t,i),x(t,p),x(p,c),o||(T=H(a,"click",m),o=!0)},p(d,u){s=d,u[0]&1&&h!==(h=s[38].name+"")&&j(c,h)},d(d){d&&g(t),o=!1,T()}}}function Lt(s){let t=s[41].name+"",n;return{c(){n=F(t)},l(e){n=M(e,t)},m(e,l){O(e,n,l)},p(e,l){l[1]&1024&&t!==(t=e[41].name+"")&&j(n,t)},d(e){e&&g(n)}}}function jt(s){let t,n;return t=new pt({props:{$$slots:{default:[Lt]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[1]&9216&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(S(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function Jt(s){let t,n;function e(){return s[22](s[41])}return t=new $t({props:{chip:s[41],$$slots:{default:[jt]},$$scope:{ctx:s}}}),t.$on("SMUIChip:interaction",e),{c(){P(t.$$.fragment)},l(l){C(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){s=l;const a={};r[1]&1024&&(a.chip=s[41]),r[1]&9216&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(l){n||(S(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){N(t,l)}}}function Wt(s){let t=s[41].name+"",n;return{c(){n=F(t)},l(e){n=M(e,t)},m(e,l){O(e,n,l)},p(e,l){l[1]&1024&&t!==(t=e[41].name+"")&&j(n,t)},d(e){e&&g(n)}}}function Xt(s){let t,n;return t=new pt({props:{$$slots:{default:[Wt]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[1]&9216&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(S(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function Yt(s){let t,n;function e(){return s[23](s[41])}return t=new $t({props:{chip:s[41],$$slots:{default:[Xt]},$$scope:{ctx:s}}}),t.$on("SMUIChip:interaction",e),{c(){P(t.$$.fragment)},l(l){C(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){s=l;const a={};r[1]&1024&&(a.chip=s[41]),r[1]&9216&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(l){n||(S(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){N(t,l)}}}function Zt(s){let t,n,e,l,r,a,$,i,p,h;return a=new lt({props:{chips:s[5],key:se,$$slots:{default:[Jt,({chip:c})=>({41:c}),({chip:c})=>[0,c?1024:0]]},$$scope:{ctx:s}}}),p=new lt({props:{chips:s[6],key:ae,$$slots:{default:[Yt,({chip:c})=>({41:c}),({chip:c})=>[0,c?1024:0]]},$$scope:{ctx:s}}}),{c(){t=y("div"),n=y("h1"),e=F("Available Tags"),l=U(),r=y("div"),P(a.$$.fragment),$=U(),i=y("div"),P(p.$$.fragment),this.h()},l(c){t=b(c,"DIV",{style:!0});var o=I(t);n=b(o,"H1",{});var T=I(n);e=M(T,"Available Tags"),T.forEach(g),l=q(o),r=b(o,"DIV",{class:!0});var m=I(r);C(a.$$.fragment,m),m.forEach(g),$=q(o),i=b(o,"DIV",{class:!0});var d=I(i);C(p.$$.fragment,d),d.forEach(g),o.forEach(g),this.h()},h(){D(r,"class","flex flex-wrap m-1"),D(i,"class","flex flex-wrap m-1"),Ut(t,"margin","1rem")},m(c,o){O(c,t,o),x(t,n),x(n,e),x(t,l),x(t,r),_(a,r,null),x(t,$),x(t,i),_(p,i,null),h=!0},p(c,o){const T={};o[0]&32&&(T.chips=c[5]),o[1]&9216&&(T.$$scope={dirty:o,ctx:c}),a.$set(T);const m={};o[0]&64&&(m.chips=c[6]),o[1]&9216&&(m.$$scope={dirty:o,ctx:c}),p.$set(m)},i(c){h||(S(a.$$.fragment,c),S(p.$$.fragment,c),h=!0)},o(c){R(a.$$.fragment,c),R(p.$$.fragment,c),h=!1},d(c){c&&g(t),N(a),N(p)}}}function it(s){let t,n;return{c(){t=y("span"),n=F("#"),this.h()},l(e){t=b(e,"SPAN",{class:!0});var l=I(t);n=M(l,"#"),l.forEach(g),this.h()},h(){D(t,"class","text-orange-500")},m(e,l){O(e,t,l),x(t,n)},d(e){e&&g(t)}}}function Qt(s){let t,n,e,l,r,a,$,i,p,h,c=s[0],o=[];for(let u=0;u<c.length;u+=1)o[u]=rt(st(s,c,u));let T={managed:!0,anchorCorner:"BOTTOM_LEFT",anchorElement:s[7],$$slots:{default:[Zt]},$$scope:{ctx:s}};l=new Ft({props:T}),s[24](l);let m=s[10]&&it(),d={id:"input-manual-a",spellcheck:"false",autocomplete:"off",class:"inline text-sm text-neutral-300 "+(s[4]?"shake":""),style:"height: initial"};return $=new Bt({props:d}),s[25]($),$.$on("keydown",s[14]),$.$on("input",s[16]),{c(){t=y("div");for(let u=0;u<o.length;u+=1)o[u].c();n=U(),e=y("div"),P(l.$$.fragment),r=U(),m&&m.c(),a=U(),P($.$$.fragment),this.h()},l(u){t=b(u,"DIV",{class:!0});var w=I(t);for(let V=0;V<o.length;V+=1)o[V].l(w);n=q(w),e=b(w,"DIV",{id:!0,class:!0});var E=I(e);C(l.$$.fragment,E),r=q(E),m&&m.l(E),a=q(E),C($.$$.fragment,E),E.forEach(g),w.forEach(g),this.h()},h(){D(e,"id","newTagContainer"),D(e,"class","text-neutral-300 whitespace-nowrap flex"),D(t,"class","flex flex-row flex-wrap text-sm gap-1 mr-2")},m(u,w){O(u,t,w);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(t,null);x(t,n),x(t,e),_(l,e,null),x(e,r),m&&m.m(e,null),x(e,a),_($,e,null),s[26](e),i=!0,p||(h=[H(e,"focusin",s[27]),H(e,"focusout",s[15])],p=!0)},p(u,w){if(w[0]&8193){c=u[0];let v;for(v=0;v<c.length;v+=1){const B=st(u,c,v);o[v]?o[v].p(B,w):(o[v]=rt(B),o[v].c(),o[v].m(t,n))}for(;v<o.length;v+=1)o[v].d(1);o.length=c.length}const E={};w[0]&128&&(E.anchorElement=u[7]),w[0]&96|w[1]&8192&&(E.$$scope={dirty:w,ctx:u}),l.$set(E),u[10]?m||(m=it(),m.c(),m.m(e,a)):m&&(m.d(1),m=null);const V={};w[0]&16&&(V.class="inline text-sm text-neutral-300 "+(u[4]?"shake":"")),$.$set(V)},i(u){i||(S(l.$$.fragment,u),S($.$$.fragment,u),i=!0)},o(u){R(l.$$.fragment,u),R($.$$.fragment,u),i=!1},d(u){u&&g(t),ut(o,u),s[24](null),N(l),m&&m.d(),s[25](null),N($),s[26](null),p=!1,ot(h)}}}function te(s){let t;return{c(){t=F("Tags")},l(n){t=M(n,"Tags")},m(n,e){O(n,t,e)},d(n){n&&g(t)}}}function ee(s){let t,n;return t=new Gt({props:{class:"pb-2",for:"input-manual-a",slot:"label",floatAbove:s[7]&&s[7].value.length>0||s[10]||s[0].length>0,$$slots:{default:[te]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[0]&1153&&(r.floatAbove=e[7]&&e[7].value.length>0||e[10]||e[0].length>0),l[1]&8192&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(S(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function ne(s){let t,n,e={slot:"ripple"};return t=new Mt({props:e}),s[20](t),{c(){P(t.$$.fragment)},l(l){C(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){const a={};t.$set(a)},i(l){n||(S(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){s[20](null),N(t,l)}}}function ft(s){let t,n=s[0],e=[];for(let l=0;l<n.length;l+=1)e[l]=ct(at(s,n,l));return{c(){t=y("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=b(l,"DIV",{class:!0});var r=I(t);for(let a=0;a<e.length;a+=1)e[a].l(r);r.forEach(g),this.h()},h(){D(t,"class","flex flex-row flex-wrap text-sm gap-1")},m(l,r){O(l,t,r);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,r){if(r[0]&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const $=at(l,n,a);e[a]?e[a].p($,r):(e[a]=ct($),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(l){l&&g(t),ut(e,l)}}}function ct(s){let t,n,e,l=s[38].name+"",r,a;return{c(){t=y("div"),n=y("span"),e=F("#"),r=F(l),a=U(),this.h()},l($){t=b($,"DIV",{class:!0});var i=I(t);n=b(i,"SPAN",{class:!0});var p=I(n);e=M(p,"#"),p.forEach(g),r=M(i,l),a=q(i),i.forEach(g),this.h()},h(){D(n,"class","text-orange-500"),D(t,"class","text-neutral-300 lowercase")},m($,i){O($,t,i),x(t,n),x(n,e),x(t,r),x(t,a)},p($,i){i[0]&1&&l!==(l=$[38].name+"")&&j(r,l)},d($){$&&g(t)}}}function le(s){let t,n,e,l,r,a;const $=[Kt,Ht],i=[];function p(h,c){return h[1]?1:0}return n=p(s),e=i[n]=$[n](s),{c(){t=y("div"),e.c(),this.h()},l(h){t=b(h,"DIV",{class:!0});var c=I(t);e.l(c),c.forEach(g),this.h()},h(){D(t,"class","tags")},m(h,c){O(h,t,c),i[n].m(t,null),l=!0,r||(a=[H(t,"focusin",s[30]),H(t,"focusout",s[31])],r=!0)},p(h,c){let o=n;n=p(h),n===o?i[n].p(h,c):(Pt(),R(i[o],1,1,()=>{i[o]=null}),Ct(),e=i[n],e?e.p(h,c):(e=i[n]=$[n](h),e.c()),S(e,1),e.m(t,null))},i(h){l||(S(e),l=!0)},o(h){R(e),l=!1},d(h){h&&g(t),i[n].d(),r=!1,ot(a)}}}function W(s,t,n){s.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"&&s.setSelectionRange(t,n)}function X(s){s.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"&&s.setSelectionRange(s.value.length,s.value.length)}const se=s=>s.name,ae=s=>s.name;function re(s,t,n){let e;const l=_t(),r=Nt({query:qt,client:l,variables:{}});Ot(s,r,f=>n(19,e=f));let{tags:a=[]}=t,{editable:$=!1}=t,i,p,h=!1,c=[],o=[],T=[],m,d,u=null,w,E=!1;function V(f,A,k){if(!f||!A)return[f,f];let L=f.filter(G=>!A.find(J=>J.id==G.id));const Z=L.filter(G=>!d||G.name.startsWith(k));return L=L.filter(G=>Z.findIndex(J=>J.id===G.id)===-1),[Z,L]}function v(){n(0,a),n(5,[o,T]=V(c,a,m),o,n(6,T))}function B(f){m=f,n(7,d.value=m,d)}function K(f){if(!c)return!1;const A=c.find(k=>typeof f=="string"?f==k.name||f==k.id:f.id==k.id);return A&&!a.find(k=>k.id==A.id)?(a.push(A),v(),!0):(v(),!1)}function Y(f){n(0,a=a.filter(A=>A!=f)),v()}function ht(f){if(f instanceof KeyboardEvent)if(f.code=="Backspace")d.value==""&&(B(a.pop().name),X(d),n(0,a),f.preventDefault(),v());else if(f.code=="Enter")f.preventDefault(),K(d.value)?(B(""),v()):(n(4,h=!0),setTimeout(()=>n(4,h=!1),500));else{const A=m+f.key,[k]=V(c,a,A);k&&k.length>0&&(n(7,d.value=k[0].name,d),W(d,m.length+1,d.value.length),f.preventDefault(),m=A,v())}}function mt(){setTimeout(()=>{u&&!u.contains(document.activeElement)&&w.setOpen(!1)},200)}function gt(f){m=d.value,v(),f.preventDefault()}function dt(f){z[f?"unshift":"push"](()=>{p=f,n(3,p)})}const vt=f=>Y(f),xt=f=>K(f.name),wt=f=>K(f.name);function Et(f){z[f?"unshift":"push"](()=>{w=f,n(9,w)})}function yt(f){z[f?"unshift":"push"](()=>{i=f,n(2,i)})}function bt(f){z[f?"unshift":"push"](()=>{u=f,n(8,u)})}const It=()=>w.setOpen(!0);function Tt(f){p=f,n(3,p)}function Dt(f){i=f,n(2,i)}const Rt=()=>n(10,E=!0),St=()=>n(10,E=!1);return s.$$set=f=>{"tags"in f&&n(0,a=f.tags),"editable"in f&&n(1,$=f.editable)},s.$$.update=()=>{s.$$.dirty[0]&4&&n(7,d=i?.getElement()),s.$$.dirty[0]&524290&&$&&!e.fetching&&!e.error&&(c=e.data?.getTags||[],v())},[a,$,i,p,h,o,T,d,u,w,E,r,K,Y,ht,mt,gt,W,X,e,dt,vt,xt,wt,Et,yt,bt,It,Tt,Dt,Rt,St]}class oe extends Vt{constructor(t){super(),At(this,t,re,le,kt,{tags:0,editable:1,setTextRange:17,placeCaretAtEnd:18},null,[-1,-1])}get setTextRange(){return W}get placeCaretAtEnd(){return X}}export{oe as T};
//# sourceMappingURL=TagList.4384ab1a.js.map
