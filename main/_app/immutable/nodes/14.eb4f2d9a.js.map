{"version":3,"file":"14.eb4f2d9a.js","sources":["../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../src/routes/guides/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { queryStore, getContextClient } from '@urql/svelte';\n  import { GetGuidesDocument } from '$lib/generated';\n  import GuideCard from './GuideCard.svelte';\n  import PageControls from '$lib/components/utils/PageControls.svelte';\n  import { base } from '$app/paths';\n  import Button from '@smui/button';\n  import { user } from '$lib/stores/user';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n\n  export let colCount: 4 | 5 = 4;\n  export let newGuide = false;\n\n  const client = getContextClient();\n\n  // TODO Selectable\n  const perPage = 40;\n\n  let page = 1;\n\n  $: guides = queryStore({\n    query: GetGuidesDocument,\n    client,\n    variables: { offset: (page - 1) * perPage, limit: perPage }\n  });\n\n  let totalGuides = 0;\n  $: if ($guides?.data?.getGuides?.count) {\n    totalGuides = $guides.data.getGuides.count;\n  }\n\n  $: gridClasses =\n    colCount == 4\n      ? '3xl:grid-cols-4 2xl:grid-cols-3 lg:grid-cols-2 grid-cols-1'\n      : '3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1';\n</script>\n\n<div class=\"mb-5 ml-auto flex justify-between\">\n  {#if newGuide && $user !== null}\n    <Button variant=\"outlined\" href=\"{base}/new-guide\">New Guide</Button>\n  {/if}\n\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} bind:currentPage={page} />\n  </div>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _}\n      <FicsitCard fake />\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>Oh no... {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide}\n      <GuideCard {guide} logo={guide.user.avatar} />\n    {/each}\n  </div>\n{/if}\n\n<div class=\"mt-5 ml-auto flex justify-end\">\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} bind:currentPage={page} />\n  </div>\n</div>\n","<script lang=\"ts\">\n  import GuideGrid from '$lib/components/guides/GuideGrid.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Guides for Satisfactory and modding Satisfactory\" title=\"Guides\" />\n</svelte:head>\n\n<GuideGrid newGuide={true} colCount={4} />\n"],"names":["base","each_value_1","ctx","data","getGuides","guides","length","i","insert_hydration","target","div","anchor","each_blocks","error","message","p","set_data","t1","t1_value","each_value","Array","perPage","user","avatar","create_if_block_2","totalPages","Math","ceil","fetching","div1","append_hydration","div0","div3","div2","dirty","pagecontrols0_changes","pagecontrols1_changes","colCount","$$props","newGuide","client","getContextClient","page","totalGuides","value","$$subscribe_guides","$$invalidate","queryStore","query","GetGuidesDocument","variables","offset","limit","$guides","count","gridClasses","guidegrid","GuideGrid","props"],"mappings":"uyBAuCsCA,GAAI,mTAAa,WAAA,cAAA,WAAA,4DAkB5CC,EAAAC,EAAQ,CAAAC,EAAAA,KAAKC,UAAUC,4BAA5BC,OAAIC,GAAA,+PADUL,EAAW,CAAA,EAAA,iBAA7BM,CAAAA,EAIKC,EAAAC,EAAAC,yEAHIV,EAAAC,EAAQ,CAAA,EAAAC,KAAKC,UAAUC,yBAA5BC,OAAIC,GAAA,EAAA,0GAAJD,OAAIC,EAAAK,EAAAN,OAAAC,GAAA,qCADUL,EAAW,CAAA,EAAA,wDACzBI,OAAIC,GAAA,oIAHKL,EAAO,GAACW,MAAMC,QAAO,6BAA/B,WAAA,8CAAA,WAAA,gCAAHN,EAAsCC,EAAAM,EAAAJ,CAAAA,oCAAzBT,EAAO,CAACW,EAAAA,MAAMC,QAAO,KAAAE,GAAAC,EAAAC,oDALzBC,EAAAC,MAAMC,wBAAXf,OAAIC,GAAA,yNADUL,EAAW,CAAA,EAAA,QAAA,UAA7BM,EAIKC,EAAAC,EAAAC,CAAAA,0FAJaT,EAAW,CAAA,EAAA,wDACzBI,OAAIC,GAAA,2KASqBL,EAAK,EAAA,EAACoB,KAAKC,MAAAA,CAAAA,CAAAA,4HAAXrB,EAAK,EAAA,EAACoB,KAAKC,sWApBnCrB,EAAQ,CAAA,GAAIA,EAAK,CAAA,IAAK,MAAIsB,EAAAtB,gCAKHuB,WAAAC,KAAKC,KAAKzB,GAAcmB,EAAAA,CAAAA,CAAAA,EAA4BnB,EAAI,CAAA,IAAA,uBAAJA,EAAI,CAAA,+FAIjF,OAAAA,GAAQ0B,EAAAA,SAAQ,EAMX1B,GAAQW,EAAAA,MAAK,wDAYOY,WAAAC,KAAKC,KAAKzB,GAAcmB,EAAAA,CAAAA,CAAAA,SAA4BnB,EAAI,CAAA,IAAA,uBAAJA,EAAI,CAAA,2iBA5BtFM,EAQKC,EAAAoB,EAAAlB,CAAAA,wBAHHmB,EAEKD,EAAAE,6CAmBPvB,EAIKC,EAAAuB,EAAArB,CAAAA,EAHHmB,EAEKE,EAAAC,8BA5BA/B,EAAQ,CAAIA,GAAAA,EAAK,CAAK,IAAA,4GAKCgC,EAAA,IAAAC,EAAAV,WAAAC,KAAKC,KAAKzB,KAAcmB,iCAA4BnB,EAAI,gLAsBxDgC,EAAA,IAAAE,EAAAX,WAAAC,KAAKC,KAAKzB,GAAcmB,EAAAA,CAAAA,gCAA4BnB,EAAI,CAAA,yNAjD9E,MAAAmB,EAAU,2HANL,IAAAgB,SAAAA,EAAkB,CAACC,EAAAA,EACnBC,CAAAA,SAAAA,EAAW,EAAA,EAAKD,EAErB,MAAAE,EAASC,GAAAA,EAKX,IAAAC,EAAO,EAQPC,EAAc,gBAiB8DD,EAAIE,uBAsBJF,EAAIE,gIA7CnFC,EAAAC,EAAA,EAAEzC,EAAS0C,GAAU,CACpBC,MAAOC,GACPT,OAAAA,EACAU,UAAS,CAAIC,QAAST,EAAO,GAAKrB,EAAS+B,MAAO/B,qBAI7CgC,GAASlD,MAAMC,WAAWkD,OAC/BR,EAAA,EAAAH,EAAcU,EAAQlD,KAAKC,UAAUkD,KAAAA,kBAGpCR,EAAA,EAAAS,EACDlB,GAAY,EACR,6DACA,6CAAA,qPCzBamB,EAAA,IAAAC,GAAA,CAAAC,MAAA,CAAAnB,SAAA,YAAgB,CAAA,CAAA,CAAA"}