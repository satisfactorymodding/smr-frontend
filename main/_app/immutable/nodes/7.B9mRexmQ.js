import{S as Ve,i as be,s as Ie,I as Q,a as y,e as $,b as le,Y as Ce,J as X,f as v,g as V,c as E,d as x,A as D,L as G,j as b,m as A,t as _,l as ie,O as Z,C as Ae,D as Be,Z as $e,u as Ee,_ as Te,M as p,$ as we,k as oe,q as De,r as Ne,T as fe,K as S,U as Ue,P as O,Q as L,R as H,a0 as ce,N as ue,X as _e}from"../chunks/vendor.C9t1ZX-H.js";import{g as Oe,h as Le,i as Pe}from"../chunks/graphql.CfvMSMJ1.js";import{A as he}from"../chunks/api.Cl8hA2m0.js";import"../chunks/user.B3chpDYW.js";import{M as je}from"../chunks/MetaDescriptors.DhabOU7J.js";import{p as de}from"../chunks/formatting.Djc7f7Ia.js";function me(a,e,r){const s=a.slice();return s[17]=e[r],s}function pe(a){let e,r,s,o,c;function f(t){a[8](t)}let n={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return a[4]!==void 0&&(n.settings=a[4]),s=new $e({props:n}),Ee.push(()=>Te(s,"settings",f)),s.$on("page",a[9]),s.$on("amount",a[10]),{c(){e=$("div"),r=$("div"),Q(s.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0});var h=x(e);r=E(h,"DIV",{});var l=x(r);X(s.$$.fragment,l),l.forEach(v),h.forEach(v),this.h()},h(){D(e,"class","mb-5 ml-auto flex justify-end")},m(t,h){b(t,e,h),p(e,r),G(s,r,null),c=!0},p(t,h){const l={};!o&&h&16&&(o=!0,l.settings=t[4],we(()=>o=!1)),s.$set(l)},i(t){c||(A(s.$$.fragment,t),c=!0)},o(t){_(s.$$.fragment,t),c=!1},d(t){t&&v(e),Z(s)}}}function ke(a){let e,r,s="<tr><th>Mod</th> <th>Version</th> <th>Release Date</th> <th></th></tr>",o,c,f=fe(a[3].data.getUnapprovedVersions.versions),n=[];for(let t=0;t<f.length;t+=1)n[t]=ve(me(a,f,t));return{c(){e=$("table"),r=$("thead"),r.innerHTML=s,o=y(),c=$("tbody");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=E(t,"TABLE",{class:!0});var h=x(e);r=E(h,"THEAD",{"data-svelte-h":!0}),S(r)!=="svelte-zi4vc6"&&(r.innerHTML=s),o=V(h),c=E(h,"TBODY",{});var l=x(c);for(let u=0;u<n.length;u+=1)n[u].l(l);l.forEach(v),h.forEach(v),this.h()},h(){D(e,"class","table table-hover max-w-full")},m(t,h){b(t,e,h),p(e,r),p(e,o),p(e,c);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(c,null)},p(t,h){if(h&200){f=fe(t[3].data.getUnapprovedVersions.versions);let l;for(l=0;l<f.length;l+=1){const u=me(t,f,l);n[l]?n[l].p(u,h):(n[l]=ve(u),n[l].c(),n[l].m(c,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=f.length}},d(t){t&&v(e),Ue(n,t)}}}function qe(a){let e,r,s=a[3].error.message+"",o;return{c(){e=$("section"),r=O("Oh no... "),o=O(s),this.h()},l(c){e=E(c,"SECTION",{class:!0});var f=x(e);r=L(f,"Oh no... "),o=L(f,s),f.forEach(v),this.h()},h(){D(e,"class","p-4")},m(c,f){b(c,e,f),p(e,r),p(e,o)},p(c,f){f&8&&s!==(s=c[3].error.message+"")&&H(o,s)},d(c){c&&v(e)}}}function Me(a){let e,r="Loading...";return{c(){e=$("section"),e.textContent=r,this.h()},l(s){e=E(s,"SECTION",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1e06hs8"&&(e.textContent=r),this.h()},h(){D(e,"class","p-4")},m(s,o){b(s,e,o)},p:De,d(s){s&&v(e)}}}function ve(a){let e,r,s=a[17].mod.name+"",o,c,f,n=a[17].version+"",t,h,l,u=de(a[17].created_at)+"",m,i,g,T,I,k="Approve",P,C,q="Deny",j,d,R,M,Y,B,F,z,J,K,W;function xe(){return a[11](a[17])}function ye(){return a[12](a[17])}return{c(){e=$("tr"),r=$("td"),o=O(s),c=y(),f=$("td"),t=O(n),h=y(),l=$("td"),m=O(u),i=y(),g=$("td"),T=$("div"),I=$("button"),I.textContent=k,P=y(),C=$("button"),C.textContent=q,j=y(),d=$("a"),R=O("Download"),Y=y(),B=$("a"),F=O("View"),J=y(),this.h()},l(U){e=E(U,"TR",{});var w=x(e);r=E(w,"TD",{});var ee=x(r);o=L(ee,s),ee.forEach(v),c=V(w),f=E(w,"TD",{});var te=x(f);t=L(te,n),te.forEach(v),h=V(w),l=E(w,"TD",{});var re=x(l);m=L(re,u),re.forEach(v),i=V(w),g=E(w,"TD",{class:!0});var se=x(g);T=E(se,"DIV",{class:!0});var N=x(T);I=E(N,"BUTTON",{class:!0,"data-svelte-h":!0}),S(I)!=="svelte-qyrrqz"&&(I.textContent=k),P=V(N),C=E(N,"BUTTON",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-50citx"&&(C.textContent=q),j=V(N),d=E(N,"A",{class:!0,href:!0});var ae=x(d);R=L(ae,"Download"),ae.forEach(v),Y=V(N),B=E(N,"A",{class:!0,href:!0});var ne=x(B);F=L(ne,"View"),ne.forEach(v),N.forEach(v),se.forEach(v),J=V(w),w.forEach(v),this.h()},h(){D(I,"class","variant-ghost-primary btn"),D(C,"class","variant-ghost-primary btn"),D(d,"class","variant-ghost-primary btn"),D(d,"href",M=he+"/mod/"+a[17].mod_id+"/versions/"+a[17].id+"/download"),D(B,"class","variant-ghost-primary btn"),D(B,"href",z=ce+"/mod/"+a[17].mod_id+"/version/"+a[17].id),D(T,"class","grid grid-flow-col gap-4"),D(g,"class","!p-2.5")},m(U,w){b(U,e,w),p(e,r),p(r,o),p(e,c),p(e,f),p(f,t),p(e,h),p(e,l),p(l,m),p(e,i),p(e,g),p(g,T),p(T,I),p(T,P),p(T,C),p(T,j),p(T,d),p(d,R),p(T,Y),p(T,B),p(B,F),p(e,J),K||(W=[ue(I,"click",xe),ue(C,"click",ye)],K=!0)},p(U,w){a=U,w&8&&s!==(s=a[17].mod.name+"")&&H(o,s),w&8&&n!==(n=a[17].version+"")&&H(t,n),w&8&&u!==(u=de(a[17].created_at)+"")&&H(m,u),w&8&&M!==(M=he+"/mod/"+a[17].mod_id+"/versions/"+a[17].id+"/download")&&D(d,"href",M),w&8&&z!==(z=ce+"/mod/"+a[17].mod_id+"/version/"+a[17].id)&&D(B,"href",z)},d(U){U&&v(e),K=!1,_e(W)}}}function ge(a){let e,r,s,o;function c(n){a[13](n)}let f={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return a[4]!==void 0&&(f.settings=a[4]),r=new $e({props:f}),Ee.push(()=>Te(r,"settings",c)),r.$on("page",a[14]),r.$on("amount",a[15]),{c(){e=$("div"),Q(r.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var t=x(e);X(r.$$.fragment,t),t.forEach(v),this.h()},h(){D(e,"class","ml-auto mt-5 flex justify-end")},m(n,t){b(n,e,t),G(r,e,null),o=!0},p(n,t){const h={};!s&&t&16&&(s=!0,h.settings=n[4],we(()=>s=!1)),r.$set(h)},i(n){o||(A(r.$$.fragment,n),o=!0)},o(n){_(r.$$.fragment,n),o=!1},d(n){n&&v(e),Z(r)}}}function ze(a){let e,r,s,o,c,f,n;e=new je({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let t=a[2]&&pe(a);function h(i,g){return i[3].fetching?Me:i[3].error?qe:ke}let l=h(a),u=l(a),m=a[2]&&ge(a);return{c(){Q(e.$$.fragment),r=y(),t&&t.c(),s=y(),o=$("div"),u.c(),c=y(),m&&m.c(),f=le(),this.h()},l(i){const g=Ce("svelte-c87g9p",document.head);X(e.$$.fragment,g),g.forEach(v),r=V(i),t&&t.l(i),s=V(i),o=E(i,"DIV",{class:!0});var T=x(o);u.l(T),T.forEach(v),c=V(i),m&&m.l(i),f=le(),this.h()},h(){D(o,"class","card")},m(i,g){G(e,document.head,null),b(i,r,g),t&&t.m(i,g),b(i,s,g),b(i,o,g),u.m(o,null),b(i,c,g),m&&m.m(i,g),b(i,f,g),n=!0},p(i,[g]){i[2]?t?(t.p(i,g),g&4&&A(t,1)):(t=pe(i),t.c(),A(t,1),t.m(s.parentNode,s)):t&&(oe(),_(t,1,1,()=>{t=null}),ie()),l===(l=h(i))&&u?u.p(i,g):(u.d(1),u=l(i),u&&(u.c(),u.m(o,null))),i[2]?m?(m.p(i,g),g&4&&A(m,1)):(m=ge(i),m.c(),A(m,1),m.m(f.parentNode,f)):m&&(oe(),_(m,1,1,()=>{m=null}),ie())},i(i){n||(A(e.$$.fragment,i),A(t),A(m),n=!0)},o(i){_(e.$$.fragment,i),_(t),_(m),n=!1},d(i){i&&(v(r),v(s),v(o),v(c),v(f)),Z(e),t&&t.d(i),u.d(),m&&m.d(i)}}}function He(a,e,r){let s,o,c,f,n=De,t=()=>(n(),n=Ne(s,d=>r(3,f=d)),s);a.$$.on_destroy.push(()=>n());const h=Ae();let l=20,u=1;const m=d=>{h.mutation(Le,{versionId:d}).toPromise().then(()=>{s.pause(),s.resume()})},i=d=>{h.mutation(Pe,{versionId:d}).toPromise().then(()=>{s.pause(),s.resume()})};function g(d){c=d,r(4,c),r(1,u),r(0,l),r(2,o),r(3,f)}const T=d=>r(1,u=d.detail),I=d=>r(0,l=d.detail),k=d=>m(d.id),P=d=>i(d.id);function C(d){c=d,r(4,c),r(1,u),r(0,l),r(2,o),r(3,f)}const q=d=>r(1,u=d.detail),j=d=>r(0,l=d.detail);return a.$$.update=()=>{a.$$.dirty&3&&t(r(5,s=Be({query:Oe,client:h,variables:{filter:{offset:(u-1)*l,limit:l}}}))),a.$$.dirty&8&&r(2,o=f?.data?.getUnapprovedVersions?.count),a.$$.dirty&7&&r(4,c={page:u,limit:l,size:o,amounts:[5,10,20,50,100]})},[l,u,o,f,c,s,m,i,g,T,I,k,P,C,q,j]}class Qe extends Ve{constructor(e){super(),be(this,e,He,ze,Ie,{})}}export{Qe as component};
//# sourceMappingURL=7.B9mRexmQ.js.map
