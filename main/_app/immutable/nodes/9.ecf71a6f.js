import{S as te,i as re,s as ne,bh as $e,U as x,R as V,e as E,a_ as se,X as v,d as u,V as D,_ as w,a as d,b as m,t as p,c as A,a5 as y,aD as fe,aF as oe,p as z,P as G,u as L,v as j,w as q,Y as C,Z as k,a4 as Q,g as B,L as ae,ar as le,bi as T,I as _,J as I,K as J,aR as ie,aJ as R,aN as F}from"../chunks/vendor.b9433985.js";import{o as ce,p as ue,q as me}from"../chunks/graphql.eeb20993.js";import{P as W}from"../chunks/PageControls.8f06806b.js";import{c as H}from"../chunks/api.087e22ff.js";import"../chunks/user.9871059b.js";import{M as pe}from"../chunks/MetaDescriptors.a1e3c9f2.js";import{D as de,H as ge,B as he,R as ee,C as M}from"../chunks/forms.30f9df96.js";import{p as K}from"../chunks/formatting.6003925c.js";function S(o,e,r){const t=o.slice();return t[11]=e[r],t}function X(o){let e,r,t,n,a;function l($){o[6]($)}let i={totalPages:Math.ceil(o[2]/N)};return o[0]!==void 0&&(i.currentPage=o[0]),t=new W({props:i}),z.push(()=>G(t,"currentPage",l)),{c(){e=L("div"),r=L("div"),x(t.$$.fragment),this.h()},l($){e=j($,"DIV",{class:!0});var f=q(e);r=j(f,"DIV",{});var s=q(r);v(t.$$.fragment,s),s.forEach(u),f.forEach(u),this.h()},h(){C(e,"class","mb-5 ml-auto flex justify-end")},m($,f){d($,e,f),k(e,r),w(t,r,null),a=!0},p($,f){const s={};f&4&&(s.totalPages=Math.ceil($[2]/N)),!n&&f&1&&(n=!0,s.currentPage=$[0],Q(()=>n=!1)),t.$set(s)},i($){a||(m(t.$$.fragment,$),a=!0)},o($){p(t.$$.fragment,$),a=!1},d($){$&&u(e),y(t)}}}function xe(o){let e,r;return e=new de({props:{class:"max-w-full",$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const a={};n&16386&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function ve(o){let e,r;return e=new T({props:{$$slots:{default:[qe]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const a={};n&16386&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function we(o){let e,r;return e=new T({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const a={};n&16384&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function ye(o){let e;return{c(){e=_("Mod")},l(r){e=I(r,"Mod")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Pe(o){let e;return{c(){e=_("Version")},l(r){e=I(r,"Version")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Ve(o){let e;return{c(){e=_("Release Date")},l(r){e=I(r,"Release Date")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function De(o){let e,r,t,n,a,l,i,$;return e=new M({props:{$$slots:{default:[ye]},$$scope:{ctx:o}}}),t=new M({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),a=new M({props:{$$slots:{default:[Ve]},$$scope:{ctx:o}}}),i=new M({}),{c(){x(e.$$.fragment),r=V(),x(t.$$.fragment),n=V(),x(a.$$.fragment),l=V(),x(i.$$.fragment)},l(f){v(e.$$.fragment,f),r=D(f),v(t.$$.fragment,f),n=D(f),v(a.$$.fragment,f),l=D(f),v(i.$$.fragment,f)},m(f,s){w(e,f,s),d(f,r,s),w(t,f,s),d(f,n,s),w(a,f,s),d(f,l,s),w(i,f,s),$=!0},p(f,s){const c={};s&16384&&(c.$$scope={dirty:s,ctx:f}),e.$set(c);const h={};s&16384&&(h.$$scope={dirty:s,ctx:f}),t.$set(h);const g={};s&16384&&(g.$$scope={dirty:s,ctx:f}),a.$set(g)},i(f){$||(m(e.$$.fragment,f),m(t.$$.fragment,f),m(a.$$.fragment,f),m(i.$$.fragment,f),$=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(a.$$.fragment,f),p(i.$$.fragment,f),$=!1},d(f){y(e,f),f&&u(r),y(t,f),f&&u(n),y(a,f),f&&u(l),y(i,f)}}}function _e(o){let e,r;return e=new ee({props:{$$slots:{default:[De]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const a={};n&16384&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Ie(o){let e=o[11].mod.name+"",r;return{c(){r=_(e)},l(t){r=I(t,e)},m(t,n){d(t,r,n)},p(t,n){n&2&&e!==(e=t[11].mod.name+"")&&J(r,e)},d(t){t&&u(r)}}}function Me(o){let e=o[11].version+"",r;return{c(){r=_(e)},l(t){r=I(t,e)},m(t,n){d(t,r,n)},p(t,n){n&2&&e!==(e=t[11].version+"")&&J(r,e)},d(t){t&&u(r)}}}function Ue(o){let e=K(o[11].created_at)+"",r;return{c(){r=_(e)},l(t){r=I(t,e)},m(t,n){d(t,r,n)},p(t,n){n&2&&e!==(e=K(t[11].created_at)+"")&&J(r,e)},d(t){t&&u(r)}}}function be(o){let e;return{c(){e=_("Approve")},l(r){e=I(r,"Approve")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Ee(o){let e;return{c(){e=_("Deny")},l(r){e=I(r,"Deny")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Ne(o){let e;return{c(){e=_("Download")},l(r){e=I(r,"Download")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Re(o){let e;return{c(){e=_("View")},l(r){e=I(r,"View")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function ke(o){let e,r,t,n,a,l,i,$,f;function s(){return o[7](o[11])}r=new R({props:{variant:"outlined",$$slots:{default:[be]},$$scope:{ctx:o}}}),r.$on("click",s);function c(){return o[8](o[11])}return n=new R({props:{variant:"outlined",$$slots:{default:[Ee]},$$scope:{ctx:o}}}),n.$on("click",c),l=new R({props:{variant:"outlined",href:H+"/mod/"+o[11].mod_id+"/versions/"+o[11].id+"/download",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),$=new R({props:{variant:"outlined",href:F+"/mod/"+o[11].mod_id+"/version/"+o[11].id,$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){e=L("div"),x(r.$$.fragment),t=V(),x(n.$$.fragment),a=V(),x(l.$$.fragment),i=V(),x($.$$.fragment),this.h()},l(h){e=j(h,"DIV",{class:!0});var g=q(e);v(r.$$.fragment,g),t=D(g),v(n.$$.fragment,g),a=D(g),v(l.$$.fragment,g),i=D(g),v($.$$.fragment,g),g.forEach(u),this.h()},h(){C(e,"class","grid grid-flow-col gap-4")},m(h,g){d(h,e,g),w(r,e,null),k(e,t),w(n,e,null),k(e,a),w(l,e,null),k(e,i),w($,e,null),f=!0},p(h,g){o=h;const U={};g&16384&&(U.$$scope={dirty:g,ctx:o}),r.$set(U);const b={};g&16384&&(b.$$scope={dirty:g,ctx:o}),n.$set(b);const P={};g&2&&(P.href=H+"/mod/"+o[11].mod_id+"/versions/"+o[11].id+"/download"),g&16384&&(P.$$scope={dirty:g,ctx:o}),l.$set(P);const O={};g&2&&(O.href=F+"/mod/"+o[11].mod_id+"/version/"+o[11].id),g&16384&&(O.$$scope={dirty:g,ctx:o}),$.$set(O)},i(h){f||(m(r.$$.fragment,h),m(n.$$.fragment,h),m(l.$$.fragment,h),m($.$$.fragment,h),f=!0)},o(h){p(r.$$.fragment,h),p(n.$$.fragment,h),p(l.$$.fragment,h),p($.$$.fragment,h),f=!1},d(h){h&&u(e),y(r),y(n),y(l),y($)}}}function Ae(o){let e,r,t,n,a,l,i,$,f;return e=new M({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),t=new M({props:{$$slots:{default:[Me]},$$scope:{ctx:o}}}),a=new M({props:{$$slots:{default:[Ue]},$$scope:{ctx:o}}}),i=new M({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment),r=V(),x(t.$$.fragment),n=V(),x(a.$$.fragment),l=V(),x(i.$$.fragment),$=V()},l(s){v(e.$$.fragment,s),r=D(s),v(t.$$.fragment,s),n=D(s),v(a.$$.fragment,s),l=D(s),v(i.$$.fragment,s),$=D(s)},m(s,c){w(e,s,c),d(s,r,c),w(t,s,c),d(s,n,c),w(a,s,c),d(s,l,c),w(i,s,c),d(s,$,c),f=!0},p(s,c){const h={};c&16386&&(h.$$scope={dirty:c,ctx:s}),e.$set(h);const g={};c&16386&&(g.$$scope={dirty:c,ctx:s}),t.$set(g);const U={};c&16386&&(U.$$scope={dirty:c,ctx:s}),a.$set(U);const b={};c&16386&&(b.$$scope={dirty:c,ctx:s}),i.$set(b)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),m(a.$$.fragment,s),m(i.$$.fragment,s),f=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(a.$$.fragment,s),p(i.$$.fragment,s),f=!1},d(s){y(e,s),s&&u(r),y(t,s),s&&u(n),y(a,s),s&&u(l),y(i,s),s&&u($)}}}function Y(o){let e,r;return e=new ee({props:{$$slots:{default:[Ae]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const a={};n&16386&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Le(o){let e,r,t=o[1].data.getUnapprovedVersions.versions,n=[];for(let l=0;l<t.length;l+=1)n[l]=Y(S(o,t,l));const a=l=>p(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=E()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=E()},m(l,i){for(let $=0;$<n.length;$+=1)n[$]&&n[$].m(l,i);d(l,e,i),r=!0},p(l,i){if(i&50){t=l[1].data.getUnapprovedVersions.versions;let $;for($=0;$<t.length;$+=1){const f=S(l,t,$);n[$]?(n[$].p(f,i),m(n[$],1)):(n[$]=Y(f),n[$].c(),m(n[$],1),n[$].m(e.parentNode,e))}for(B(),$=t.length;$<n.length;$+=1)a($);A()}},i(l){if(!r){for(let i=0;i<t.length;i+=1)m(n[i]);r=!0}},o(l){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)p(n[i]);r=!1},d(l){ie(n,l),l&&u(e)}}}function je(o){let e,r,t,n;return e=new ge({props:{$$slots:{default:[_e]},$$scope:{ctx:o}}}),t=new he({props:{$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment),r=V(),x(t.$$.fragment)},l(a){v(e.$$.fragment,a),r=D(a),v(t.$$.fragment,a)},m(a,l){w(e,a,l),d(a,r,l),w(t,a,l),n=!0},p(a,l){const i={};l&16384&&(i.$$scope={dirty:l,ctx:a}),e.$set(i);const $={};l&16386&&($.$$scope={dirty:l,ctx:a}),t.$set($)},i(a){n||(m(e.$$.fragment,a),m(t.$$.fragment,a),n=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),n=!1},d(a){y(e,a),a&&u(r),y(t,a)}}}function qe(o){let e,r=o[1].error.message+"",t;return{c(){e=_("Oh no... "),t=_(r)},l(n){e=I(n,"Oh no... "),t=I(n,r)},m(n,a){d(n,e,a),d(n,t,a)},p(n,a){a&2&&r!==(r=n[1].error.message+"")&&J(t,r)},d(n){n&&u(e),n&&u(t)}}}function Be(o){let e;return{c(){e=_("Loading...")},l(r){e=I(r,"Loading...")},m(r,t){d(r,e,t)},d(r){r&&u(e)}}}function Je(o){let e,r,t,n;const a=[we,ve,xe],l=[];function i($,f){return $[1].fetching?0:$[1].error?1:2}return e=i(o),r=l[e]=a[e](o),{c(){r.c(),t=E()},l($){r.l($),t=E()},m($,f){l[e].m($,f),d($,t,f),n=!0},p($,f){let s=e;e=i($),e===s?l[e].p($,f):(B(),p(l[s],1,1,()=>{l[s]=null}),A(),r=l[e],r?r.p($,f):(r=l[e]=a[e]($),r.c()),m(r,1),r.m(t.parentNode,t))},i($){n||(m(r),n=!0)},o($){p(r),n=!1},d($){l[e].d($),$&&u(t)}}}function Z(o){let e,r,t,n;function a(i){o[9](i)}let l={totalPages:Math.ceil(o[2]/N)};return o[0]!==void 0&&(l.currentPage=o[0]),r=new W({props:l}),z.push(()=>G(r,"currentPage",a)),{c(){e=L("div"),x(r.$$.fragment),this.h()},l(i){e=j(i,"DIV",{class:!0});var $=q(e);v(r.$$.fragment,$),$.forEach(u),this.h()},h(){C(e,"class","mt-5 ml-auto flex justify-end")},m(i,$){d(i,e,$),w(r,e,null),n=!0},p(i,$){const f={};$&4&&(f.totalPages=Math.ceil(i[2]/N)),!t&&$&1&&(t=!0,f.currentPage=i[0],Q(()=>t=!1)),r.$set(f)},i(i){n||(m(r.$$.fragment,i),n=!0)},o(i){p(r.$$.fragment,i),n=!1},d(i){i&&u(e),y(r)}}}function Oe(o){let e,r,t,n,a,l,i;e=new pe({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let $=o[2]&&X(o);n=new $e({props:{$$slots:{default:[Je]},$$scope:{ctx:o}}});let f=o[2]&&Z(o);return{c(){x(e.$$.fragment),r=V(),$&&$.c(),t=V(),x(n.$$.fragment),a=V(),f&&f.c(),l=E()},l(s){const c=se("svelte-c87g9p",document.head);v(e.$$.fragment,c),c.forEach(u),r=D(s),$&&$.l(s),t=D(s),v(n.$$.fragment,s),a=D(s),f&&f.l(s),l=E()},m(s,c){w(e,document.head,null),d(s,r,c),$&&$.m(s,c),d(s,t,c),w(n,s,c),d(s,a,c),f&&f.m(s,c),d(s,l,c),i=!0},p(s,[c]){s[2]?$?($.p(s,c),c&4&&m($,1)):($=X(s),$.c(),m($,1),$.m(t.parentNode,t)):$&&(B(),p($,1,1,()=>{$=null}),A());const h={};c&16386&&(h.$$scope={dirty:c,ctx:s}),n.$set(h),s[2]?f?(f.p(s,c),c&4&&m(f,1)):(f=Z(s),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(B(),p(f,1,1,()=>{f=null}),A())},i(s){i||(m(e.$$.fragment,s),m($),m(n.$$.fragment,s),m(f),i=!0)},o(s){p(e.$$.fragment,s),p($),p(n.$$.fragment,s),p(f),i=!1},d(s){y(e),s&&u(r),$&&$.d(s),s&&u(t),y(n,s),s&&u(a),f&&f.d(s),s&&u(l)}}}const N=20;function Ce(o,e,r){let t,n,a=ae,l=()=>(a(),a=le(t,P=>r(1,n=P)),t);o.$$.on_destroy.push(()=>a());const i=fe();let $=1,f=0;const s=P=>{i.mutation(ue,{versionId:P}).toPromise().then(()=>{t.pause(),t.resume()})},c=P=>{i.mutation(me,{versionId:P}).toPromise().then(()=>{t.pause(),t.resume()})};function h(P){$=P,r(0,$)}const g=P=>s(P.id),U=P=>c(P.id);function b(P){$=P,r(0,$)}return o.$$.update=()=>{o.$$.dirty&1&&l(r(3,t=oe({query:ce,client:i,variables:{filter:{offset:($-1)*N,limit:N}}}))),o.$$.dirty&2&&n?.data?.getUnapprovedVersions?.count&&r(2,f=n.data.getUnapprovedVersions.count)},[$,n,f,t,s,c,h,g,U,b]}class Ge extends te{constructor(e){super(),re(this,e,Ce,Oe,ne,{})}}export{Ge as component};
//# sourceMappingURL=9.ecf71a6f.js.map
