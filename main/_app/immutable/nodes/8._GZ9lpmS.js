import{S as ye,i as be,s as Ce,C as W,a as y,e as E,b as ne,D as Ie,F as K,f as p,g as b,c as T,G as M,d as D,H as x,I as Q,j as w,m as U,t as k,l as ie,N as X,_ as Ne,aa as Ue,ad as $e,u as Ee,U as Te,J as v,X as Ve,k as oe,q as xe,r as Be,R as fe,T as Oe,V as A,W as H,Y as P,a2 as ce,L as ue,O as _e}from"../chunks/vendor.nHw7xl6d.js";import{n as Le,o as ke,p as Ae}from"../chunks/graphql.DCCO4iQ1.js";import{a as he}from"../chunks/api.Cl6NqAcY.js";import"../chunks/user.cANzncJq.js";import{M as He}from"../chunks/MetaDescriptors.fGnSEFRr.js";import{a as de}from"../chunks/formatting.BPLeivh9.js";function me(r,e,t){const s=r.slice();return s[17]=e[t],s}function pe(r){let e,t,s,d,c;function f(l){r[8](l)}let a={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return r[4]!==void 0&&(a.settings=r[4]),s=new $e({props:a}),Ee.push(()=>Te(s,"settings",f)),s.$on("page",r[9]),s.$on("amount",r[10]),{c(){e=E("div"),t=E("div"),W(s.$$.fragment),this.h()},l(l){e=T(l,"DIV",{class:!0});var h=D(e);t=T(h,"DIV",{});var i=D(t);K(s.$$.fragment,i),i.forEach(p),h.forEach(p),this.h()},h(){x(e,"class","mb-5 ml-auto flex justify-end")},m(l,h){w(l,e,h),v(e,t),Q(s,t,null),c=!0},p(l,h){const i={};!d&&h&16&&(d=!0,i.settings=l[4],Ve(()=>d=!1)),s.$set(i)},i(l){c||(U(s.$$.fragment,l),c=!0)},o(l){k(s.$$.fragment,l),c=!1},d(l){l&&p(e),X(s)}}}function je(r){let e,t,s="<tr><th>Mod</th> <th>Version</th> <th>Release Date</th> <th></th></tr>",d,c,f=fe(r[3].data.getUnapprovedVersions.versions),a=[];for(let l=0;l<f.length;l+=1)a[l]=ve(me(r,f,l));return{c(){e=E("table"),t=E("thead"),t.innerHTML=s,d=y(),c=E("tbody");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=T(l,"TABLE",{class:!0});var h=D(e);t=T(h,"THEAD",{"data-svelte-h":!0}),M(t)!=="svelte-zi4vc6"&&(t.innerHTML=s),d=b(h),c=T(h,"TBODY",{});var i=D(c);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(p),h.forEach(p),this.h()},h(){x(e,"class","table table-hover max-w-full")},m(l,h){w(l,e,h),v(e,t),v(e,d),v(e,c);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(c,null)},p(l,h){if(h&200){f=fe(l[3].data.getUnapprovedVersions.versions);let i;for(i=0;i<f.length;i+=1){const o=me(l,f,i);a[i]?a[i].p(o,h):(a[i]=ve(o),a[i].c(),a[i].m(c,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=f.length}},d(l){l&&p(e),Oe(a,l)}}}function Me(r){let e,t,s=r[3].error.message+"",d;return{c(){e=E("section"),t=A("Oh no... "),d=A(s),this.h()},l(c){e=T(c,"SECTION",{class:!0});var f=D(e);t=H(f,"Oh no... "),d=H(f,s),f.forEach(p),this.h()},h(){x(e,"class","p-4")},m(c,f){w(c,e,f),v(e,t),v(e,d)},p(c,f){f&8&&s!==(s=c[3].error.message+"")&&P(d,s)},d(c){c&&p(e)}}}function qe(r){let e,t="Loading...";return{c(){e=E("section"),e.textContent=t,this.h()},l(s){e=T(s,"SECTION",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1e06hs8"&&(e.textContent=t),this.h()},h(){x(e,"class","p-4")},m(s,d){w(s,e,d)},p:xe,d(s){s&&p(e)}}}function ve(r){let e,t,s=r[17].mod.name+"",d,c,f,a=r[17].version+"",l,h,i,o=de(r[17].created_at)+"",I,C,$,u,n,g="Approve",B,N,q="Deny",j,m,S,z,R,O,Y,F,G,J,Z;function De(){return r[11](r[17])}function we(){return r[12](r[17])}return{c(){e=E("tr"),t=E("td"),d=A(s),c=y(),f=E("td"),l=A(a),h=y(),i=E("td"),I=A(o),C=y(),$=E("td"),u=E("div"),n=E("button"),n.textContent=g,B=y(),N=E("button"),N.textContent=q,j=y(),m=E("a"),S=A("Download"),R=y(),O=E("a"),Y=A("View"),G=y(),this.h()},l(L){e=T(L,"TR",{});var V=D(e);t=T(V,"TD",{});var ee=D(t);d=H(ee,s),ee.forEach(p),c=b(V),f=T(V,"TD",{});var te=D(f);l=H(te,a),te.forEach(p),h=b(V),i=T(V,"TD",{});var se=D(i);I=H(se,o),se.forEach(p),C=b(V),$=T(V,"TD",{class:!0});var re=D($);u=T(re,"DIV",{class:!0});var _=D(u);n=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-qyrrqz"&&(n.textContent=g),B=b(_),N=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-50citx"&&(N.textContent=q),j=b(_),m=T(_,"A",{class:!0,href:!0});var ae=D(m);S=H(ae,"Download"),ae.forEach(p),R=b(_),O=T(_,"A",{class:!0,href:!0});var le=D(O);Y=H(le,"View"),le.forEach(p),_.forEach(p),re.forEach(p),G=b(V),V.forEach(p),this.h()},h(){x(n,"class","variant-ghost-primary btn"),x(N,"class","variant-ghost-primary btn"),x(m,"class","variant-ghost-primary btn"),x(m,"href",z=he+"/mod/"+r[17].mod_id+"/versions/"+r[17].id+"/download"),x(O,"class","variant-ghost-primary btn"),x(O,"href",F=ce+"/mod/"+r[17].mod_id+"/version/"+r[17].id),x(u,"class","grid grid-flow-col gap-4"),x($,"class","!p-2.5")},m(L,V){w(L,e,V),v(e,t),v(t,d),v(e,c),v(e,f),v(f,l),v(e,h),v(e,i),v(i,I),v(e,C),v(e,$),v($,u),v(u,n),v(u,B),v(u,N),v(u,j),v(u,m),v(m,S),v(u,R),v(u,O),v(O,Y),v(e,G),J||(Z=[ue(n,"click",De),ue(N,"click",we)],J=!0)},p(L,V){r=L,V&8&&s!==(s=r[17].mod.name+"")&&P(d,s),V&8&&a!==(a=r[17].version+"")&&P(l,a),V&8&&o!==(o=de(r[17].created_at)+"")&&P(I,o),V&8&&z!==(z=he+"/mod/"+r[17].mod_id+"/versions/"+r[17].id+"/download")&&x(m,"href",z),V&8&&F!==(F=ce+"/mod/"+r[17].mod_id+"/version/"+r[17].id)&&x(O,"href",F)},d(L){L&&p(e),J=!1,_e(Z)}}}function ge(r){let e,t,s,d;function c(a){r[13](a)}let f={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return r[4]!==void 0&&(f.settings=r[4]),t=new $e({props:f}),Ee.push(()=>Te(t,"settings",c)),t.$on("page",r[14]),t.$on("amount",r[15]),{c(){e=E("div"),W(t.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var l=D(e);K(t.$$.fragment,l),l.forEach(p),this.h()},h(){x(e,"class","ml-auto mt-5 flex justify-end")},m(a,l){w(a,e,l),Q(t,e,null),d=!0},p(a,l){const h={};!s&&l&16&&(s=!0,h.settings=a[4],Ve(()=>s=!1)),t.$set(h)},i(a){d||(U(t.$$.fragment,a),d=!0)},o(a){k(t.$$.fragment,a),d=!1},d(a){a&&p(e),X(t)}}}function ze(r){let e,t,s,d="Unapproved Versions",c,f,a,l,h,i;e=new He({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let o=r[2]&&pe(r);function I(n,g){return n[3].fetching?qe:n[3].error?Me:je}let C=I(r),$=C(r),u=r[2]&&ge(r);return{c(){W(e.$$.fragment),t=y(),s=E("h1"),s.textContent=d,c=y(),o&&o.c(),f=y(),a=E("div"),$.c(),l=y(),u&&u.c(),h=ne(),this.h()},l(n){const g=Ie("svelte-c87g9p",document.head);K(e.$$.fragment,g),g.forEach(p),t=b(n),s=T(n,"H1",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1o21eet"&&(s.textContent=d),c=b(n),o&&o.l(n),f=b(n),a=T(n,"DIV",{class:!0});var B=D(a);$.l(B),B.forEach(p),l=b(n),u&&u.l(n),h=ne(),this.h()},h(){x(s,"class","svelte-1egakhm"),x(a,"class","card")},m(n,g){Q(e,document.head,null),w(n,t,g),w(n,s,g),w(n,c,g),o&&o.m(n,g),w(n,f,g),w(n,a,g),$.m(a,null),w(n,l,g),u&&u.m(n,g),w(n,h,g),i=!0},p(n,[g]){n[2]?o?(o.p(n,g),g&4&&U(o,1)):(o=pe(n),o.c(),U(o,1),o.m(f.parentNode,f)):o&&(oe(),k(o,1,1,()=>{o=null}),ie()),C===(C=I(n))&&$?$.p(n,g):($.d(1),$=C(n),$&&($.c(),$.m(a,null))),n[2]?u?(u.p(n,g),g&4&&U(u,1)):(u=ge(n),u.c(),U(u,1),u.m(h.parentNode,h)):u&&(oe(),k(u,1,1,()=>{u=null}),ie())},i(n){i||(U(e.$$.fragment,n),U(o),U(u),i=!0)},o(n){k(e.$$.fragment,n),k(o),k(u),i=!1},d(n){n&&(p(t),p(s),p(c),p(f),p(a),p(l),p(h)),X(e),o&&o.d(n),$.d(),u&&u.d(n)}}}function Fe(r,e,t){let s,d,c,f,a=xe,l=()=>(a(),a=Be(s,m=>t(3,f=m)),s);r.$$.on_destroy.push(()=>a());const h=Ne();let i=20,o=1;const I=m=>{h.mutation(ke,{versionId:m}).toPromise().then(()=>{s.pause(),s.resume()})},C=m=>{h.mutation(Ae,{versionId:m}).toPromise().then(()=>{s.pause(),s.resume()})};function $(m){c=m,t(4,c),t(1,o),t(0,i),t(2,d),t(3,f)}const u=m=>t(1,o=m.detail),n=m=>t(0,i=m.detail),g=m=>I(m.id),B=m=>C(m.id);function N(m){c=m,t(4,c),t(1,o),t(0,i),t(2,d),t(3,f)}const q=m=>t(1,o=m.detail),j=m=>t(0,i=m.detail);return r.$$.update=()=>{r.$$.dirty&3&&l(t(5,s=Ue({query:Le,client:h,variables:{filter:{offset:(o-1)*i,limit:i}}}))),r.$$.dirty&8&&t(2,d=f?.data?.getUnapprovedVersions?.count),r.$$.dirty&7&&t(4,c={page:o,limit:i,size:d,amounts:[5,10,20,50,100]})},[i,o,d,f,c,s,I,C,$,u,n,g,B,N,q,j]}class We extends ye{constructor(e){super(),be(this,e,Fe,ze,Ce,{})}}export{We as component};
//# sourceMappingURL=8._GZ9lpmS.js.map
