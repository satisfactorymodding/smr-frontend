{"version":3,"file":"13.C1tPhSIv.js","sources":["../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../src/routes/guides/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { queryStore, getContextClient } from '@urql/svelte';\n  import { GetGuidesDocument } from '$lib/generated';\n  import GuideCard from './GuideCard.svelte';\n  import { base } from '$app/paths';\n  import { user } from '$lib/stores/user';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import { type PaginationSettings, Paginator } from '@skeletonlabs/skeleton';\n\n  export let colCount: 4 | 5 = 4;\n  export let newGuide = false;\n\n  const client = getContextClient();\n\n  let perPage = 32;\n  let page = 0;\n\n  export const { t } = getTranslate();\n\n  $: guides = queryStore({\n    query: GetGuidesDocument,\n    client,\n    variables: { offset: page * perPage, limit: perPage }\n  });\n\n  $: totalGuides = $guides?.data?.getGuides?.count || 0;\n\n  $: gridClasses =\n    colCount == 4\n      ? '3xl:grid-cols-4 2xl:grid-cols-3 lg:grid-cols-2 grid-cols-1'\n      : '3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1';\n\n  $: paginationSettings = {\n    page: page,\n    limit: perPage,\n    size: totalGuides,\n    amounts: [8, 16, 32, 64, 100]\n  } satisfies PaginationSettings;\n</script>\n\n<div\n  class=\"mb-5 ml-auto flex\"\n  class:justify-between={newGuide && $user !== null}\n  class:justify-end={!newGuide || $user == null}>\n  {#if newGuide && $user !== null}\n    <a class=\"variant-ghost-primary btn\" href=\"{base}/new-guide\">{$t('guides.new')}</a>\n  {/if}\n\n  <div>\n    <Paginator\n      bind:settings={paginationSettings}\n      showFirstLastButtons={true}\n      showPreviousNextButtons={true}\n      on:page={(p) => (page = p.detail)}\n      on:amount={(p) => (perPage = p.detail)}\n      controlVariant=\"variant-filled-surface\" />\n  </div>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _}\n      <FicsitCard fake />\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>{$t('error.oh-no')} {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide}\n      <GuideCard {guide} logo={guide.user.avatar} />\n    {/each}\n  </div>\n{/if}\n\n<div class=\"ml-auto mt-5 flex justify-end\">\n  <div>\n    <Paginator\n      bind:settings={paginationSettings}\n      showFirstLastButtons={true}\n      showPreviousNextButtons={true}\n      on:page={(p) => (page = p.detail)}\n      on:amount={(p) => (perPage = p.detail)}\n      controlVariant=\"variant-filled-surface\" />\n  </div>\n</div>\n","<script lang=\"ts\">\n  import GuideGrid from '$lib/components/guides/GuideGrid.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Guides for Satisfactory and modding Satisfactory\" title=\"Guides\" />\n</svelte:head>\n\n<GuideGrid newGuide={true} colCount={4} />\n"],"names":["t_1_value","ctx","base","insert_hydration","target","a","anchor","dirty","set_data","t_1","each_value_1","ensure_array_like","data","getGuides","guides","length","i","div","each_blocks","t0_value","error","message","p","t0","t2","t2_value","each_value","Array","user","avatar","create_if_block_2","fetching","div1","append_hydration","div0","div3","div2","colCount","$$props","newGuide","client","getContextClient","perPage","page","t","getTranslate","paginationSettings","value","page_handler","$$invalidate","detail","amount_handler","page_handler_1","amount_handler_1","$$subscribe_guides","queryStore","query","GetGuidesDocument","variables","offset","limit","totalGuides","$guides","count","gridClasses","size","amounts","guidegrid","GuideGrid","props"],"mappings":"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"}