import{S as x,i as ee,s as te,e as A,K as v,g as E,h as I,L as h,j as m,Y as O,l as d,Z as N,N as b,v as p,w as _,Q as w,bc as ne,d as k,a7 as P,aW as se,f as D,a0 as R,aG as re,a3 as le,a5 as oe,aF as Q,aH as ae,$ as B,a6 as fe,bd as T,a8 as V,a9 as j,aa as L,aQ as $e,aL as S}from"../../chunks/vendor-ec5ada1e.js";import{j as ue,A as ce,D as ie}from"../../chunks/graphql-b763070c.js";import{P as F}from"../../chunks/PageControls-f861fd77.js";import{b as K}from"../../chunks/api-82c76902.js";import"../../chunks/user-eeec5cd2.js";import{b as W}from"../../chunks/paths-396f020f.js";import{M as me}from"../../chunks/MetaDescriptors-906e206a.js";import{D as pe,H as _e,B as de,R as Y,C as M}from"../../chunks/forms-2be97dc2.js";import{a as Z}from"../../chunks/formatting-24701f16.js";import"../../chunks/stores-bab812ef.js";function z(o,e,n){const t=o.slice();return t[10]=e[n],t}function J(o){let e,n,t,s;return t=new F({props:{totalPages:Math.ceil(o[1]/C),currentPage:o[3]}}),{c(){e=A("div"),n=A("div"),v(t.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var f=I(e);n=E(f,"DIV",{});var u=I(n);h(t.$$.fragment,u),u.forEach(m),f.forEach(m),this.h()},h(){O(e,"class","mb-5 ml-auto flex justify-end")},m(l,f){d(l,e,f),N(e,n),b(t,n,null),s=!0},p(l,f){const u={};f&2&&(u.totalPages=Math.ceil(l[1]/C)),t.$set(u)},i(l){s||(p(t.$$.fragment,l),s=!0)},o(l){_(t.$$.fragment,l),s=!1},d(l){l&&m(e),w(t)}}}function ge(o){let e,n;return e=new pe({props:{class:"max-w-full",$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ve(o){let e,n;return e=new T({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function he(o){let e,n;return e=new T({props:{$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function be(o){let e;return{c(){e=V("Mod")},l(n){e=j(n,"Mod")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function we(o){let e;return{c(){e=V("Version")},l(n){e=j(n,"Version")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ke(o){let e;return{c(){e=V("Release Date")},l(n){e=j(n,"Release Date")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function De(o){let e,n,t,s,l,f,u,a;return e=new M({props:{$$slots:{default:[be]},$$scope:{ctx:o}}}),t=new M({props:{$$slots:{default:[we]},$$scope:{ctx:o}}}),l=new M({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),u=new M({}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment),s=k(),v(l.$$.fragment),f=k(),v(u.$$.fragment)},l($){h(e.$$.fragment,$),n=D($),h(t.$$.fragment,$),s=D($),h(l.$$.fragment,$),f=D($),h(u.$$.fragment,$)},m($,r){b(e,$,r),d($,n,r),b(t,$,r),d($,s,r),b(l,$,r),d($,f,r),b(u,$,r),a=!0},p($,r){const c={};r&8192&&(c.$$scope={dirty:r,ctx:$}),e.$set(c);const g={};r&8192&&(g.$$scope={dirty:r,ctx:$}),t.$set(g);const i={};r&8192&&(i.$$scope={dirty:r,ctx:$}),l.$set(i)},i($){a||(p(e.$$.fragment,$),p(t.$$.fragment,$),p(l.$$.fragment,$),p(u.$$.fragment,$),a=!0)},o($){_(e.$$.fragment,$),_(t.$$.fragment,$),_(l.$$.fragment,$),_(u.$$.fragment,$),a=!1},d($){w(e,$),$&&m(n),w(t,$),$&&m(s),w(l,$),$&&m(f),w(u,$)}}}function Ve(o){let e,n;return e=new Y({props:{$$slots:{default:[De]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function je(o){let e=o[10].mod.name+"",n;return{c(){n=V(e)},l(t){n=j(t,e)},m(t,s){d(t,n,s)},p(t,s){s&1&&e!==(e=t[10].mod.name+"")&&L(n,e)},d(t){t&&m(n)}}}function Me(o){let e=o[10].version+"",n;return{c(){n=V(e)},l(t){n=j(t,e)},m(t,s){d(t,n,s)},p(t,s){s&1&&e!==(e=t[10].version+"")&&L(n,e)},d(t){t&&m(n)}}}function Pe(o){let e=Z(o[10].created_at)+"",n;return{c(){n=V(e)},l(t){n=j(t,e)},m(t,s){d(t,n,s)},p(t,s){s&1&&e!==(e=Z(t[10].created_at)+"")&&L(n,e)},d(t){t&&m(n)}}}function Ce(o){let e;return{c(){e=V("Approve")},l(n){e=j(n,"Approve")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function Ue(o){let e;return{c(){e=V("Deny")},l(n){e=j(n,"Deny")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function qe(o){let e;return{c(){e=V("Download")},l(n){e=j(n,"Download")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function Ae(o){let e;return{c(){e=V("View")},l(n){e=j(n,"View")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function Ee(o){let e,n,t,s,l,f,u,a,$;function r(){return o[6](o[10])}n=new S({props:{variant:"outlined",$$slots:{default:[Ce]},$$scope:{ctx:o}}}),n.$on("click",r);function c(){return o[7](o[10])}return s=new S({props:{variant:"outlined",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),s.$on("click",c),f=new S({props:{variant:"outlined",href:K+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download",$$slots:{default:[qe]},$$scope:{ctx:o}}}),a=new S({props:{variant:"outlined",href:W+"/mod/"+o[10].mod_id+"/version/"+o[10].id,$$slots:{default:[Ae]},$$scope:{ctx:o}}}),{c(){e=A("div"),v(n.$$.fragment),t=k(),v(s.$$.fragment),l=k(),v(f.$$.fragment),u=k(),v(a.$$.fragment),this.h()},l(g){e=E(g,"DIV",{class:!0});var i=I(e);h(n.$$.fragment,i),t=D(i),h(s.$$.fragment,i),l=D(i),h(f.$$.fragment,i),u=D(i),h(a.$$.fragment,i),i.forEach(m),this.h()},h(){O(e,"class","grid grid-flow-col gap-4")},m(g,i){d(g,e,i),b(n,e,null),N(e,t),b(s,e,null),N(e,l),b(f,e,null),N(e,u),b(a,e,null),$=!0},p(g,i){o=g;const U={};i&8192&&(U.$$scope={dirty:i,ctx:o}),n.$set(U);const q={};i&8192&&(q.$$scope={dirty:i,ctx:o}),s.$set(q);const H={};i&1&&(H.href=K+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download"),i&8192&&(H.$$scope={dirty:i,ctx:o}),f.$set(H);const G={};i&1&&(G.href=W+"/mod/"+o[10].mod_id+"/version/"+o[10].id),i&8192&&(G.$$scope={dirty:i,ctx:o}),a.$set(G)},i(g){$||(p(n.$$.fragment,g),p(s.$$.fragment,g),p(f.$$.fragment,g),p(a.$$.fragment,g),$=!0)},o(g){_(n.$$.fragment,g),_(s.$$.fragment,g),_(f.$$.fragment,g),_(a.$$.fragment,g),$=!1},d(g){g&&m(e),w(n),w(s),w(f),w(a)}}}function Ie(o){let e,n,t,s,l,f,u,a,$;return e=new M({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),t=new M({props:{$$slots:{default:[Me]},$$scope:{ctx:o}}}),l=new M({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),u=new M({props:{$$slots:{default:[Ee]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment),s=k(),v(l.$$.fragment),f=k(),v(u.$$.fragment),a=k()},l(r){h(e.$$.fragment,r),n=D(r),h(t.$$.fragment,r),s=D(r),h(l.$$.fragment,r),f=D(r),h(u.$$.fragment,r),a=D(r)},m(r,c){b(e,r,c),d(r,n,c),b(t,r,c),d(r,s,c),b(l,r,c),d(r,f,c),b(u,r,c),d(r,a,c),$=!0},p(r,c){const g={};c&8193&&(g.$$scope={dirty:c,ctx:r}),e.$set(g);const i={};c&8193&&(i.$$scope={dirty:c,ctx:r}),t.$set(i);const U={};c&8193&&(U.$$scope={dirty:c,ctx:r}),l.$set(U);const q={};c&8193&&(q.$$scope={dirty:c,ctx:r}),u.$set(q)},i(r){$||(p(e.$$.fragment,r),p(t.$$.fragment,r),p(l.$$.fragment,r),p(u.$$.fragment,r),$=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),_(l.$$.fragment,r),_(u.$$.fragment,r),$=!1},d(r){w(e,r),r&&m(n),w(t,r),r&&m(s),w(l,r),r&&m(f),w(u,r),r&&m(a)}}}function X(o){let e,n;return e=new Y({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ne(o){let e,n,t=o[0].data.getUnapprovedVersions.versions,s=[];for(let f=0;f<t.length;f+=1)s[f]=X(z(o,t,f));const l=f=>_(s[f],1,1,()=>{s[f]=null});return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=P()},l(f){for(let u=0;u<s.length;u+=1)s[u].l(f);e=P()},m(f,u){for(let a=0;a<s.length;a+=1)s[a].m(f,u);d(f,e,u),n=!0},p(f,u){if(u&49){t=f[0].data.getUnapprovedVersions.versions;let a;for(a=0;a<t.length;a+=1){const $=z(f,t,a);s[a]?(s[a].p($,u),p(s[a],1)):(s[a]=X($),s[a].c(),p(s[a],1),s[a].m(e.parentNode,e))}for(B(),a=t.length;a<s.length;a+=1)l(a);R()}},i(f){if(!n){for(let u=0;u<t.length;u+=1)p(s[u]);n=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)_(s[u]);n=!1},d(f){$e(s,f),f&&m(e)}}}function Re(o){let e,n,t,s;return e=new _e({props:{$$slots:{default:[Ve]},$$scope:{ctx:o}}}),t=new de({props:{$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment)},l(l){h(e.$$.fragment,l),n=D(l),h(t.$$.fragment,l)},m(l,f){b(e,l,f),d(l,n,f),b(t,l,f),s=!0},p(l,f){const u={};f&8192&&(u.$$scope={dirty:f,ctx:l}),e.$set(u);const a={};f&8193&&(a.$$scope={dirty:f,ctx:l}),t.$set(a)},i(l){s||(p(e.$$.fragment,l),p(t.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),s=!1},d(l){w(e,l),l&&m(n),w(t,l)}}}function Be(o){let e,n=o[0].error.message+"",t;return{c(){e=V("Oh no... "),t=V(n)},l(s){e=j(s,"Oh no... "),t=j(s,n)},m(s,l){d(s,e,l),d(s,t,l)},p(s,l){l&1&&n!==(n=s[0].error.message+"")&&L(t,n)},d(s){s&&m(e),s&&m(t)}}}function Le(o){let e;return{c(){e=V("Loading...")},l(n){e=j(n,"Loading...")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function Se(o){let e,n,t,s;const l=[he,ve,ge],f=[];function u(a,$){return a[0].fetching?0:a[0].error?1:2}return e=u(o),n=f[e]=l[e](o),{c(){n.c(),t=P()},l(a){n.l(a),t=P()},m(a,$){f[e].m(a,$),d(a,t,$),s=!0},p(a,$){let r=e;e=u(a),e===r?f[e].p(a,$):(B(),_(f[r],1,1,()=>{f[r]=null}),R(),n=f[e],n?n.p(a,$):(n=f[e]=l[e](a),n.c()),p(n,1),n.m(t.parentNode,t))},i(a){s||(p(n),s=!0)},o(a){_(n),s=!1},d(a){f[e].d(a),a&&m(t)}}}function y(o){let e,n,t;return n=new F({props:{totalPages:Math.ceil(o[1]/C),currentPage:o[3]}}),{c(){e=A("div"),v(n.$$.fragment),this.h()},l(s){e=E(s,"DIV",{class:!0});var l=I(e);h(n.$$.fragment,l),l.forEach(m),this.h()},h(){O(e,"class","mt-5 ml-auto flex justify-end")},m(s,l){d(s,e,l),b(n,e,null),t=!0},p(s,l){const f={};l&2&&(f.totalPages=Math.ceil(s[1]/C)),n.$set(f)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){_(n.$$.fragment,s),t=!1},d(s){s&&m(e),w(n)}}}function He(o){let e,n,t,s,l,f,u;e=new me({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let a=o[1]&&J(o);s=new ne({props:{$$slots:{default:[Se]},$$scope:{ctx:o}}});let $=o[1]&&y(o);return{c(){v(e.$$.fragment),n=k(),a&&a.c(),t=k(),v(s.$$.fragment),l=k(),$&&$.c(),f=P()},l(r){const c=se('[data-svelte="svelte-c87g9p"]',document.head);h(e.$$.fragment,c),c.forEach(m),n=D(r),a&&a.l(r),t=D(r),h(s.$$.fragment,r),l=D(r),$&&$.l(r),f=P()},m(r,c){b(e,document.head,null),d(r,n,c),a&&a.m(r,c),d(r,t,c),b(s,r,c),d(r,l,c),$&&$.m(r,c),d(r,f,c),u=!0},p(r,[c]){r[1]?a?(a.p(r,c),c&2&&p(a,1)):(a=J(r),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(B(),_(a,1,1,()=>{a=null}),R());const g={};c&8193&&(g.$$scope={dirty:c,ctx:r}),s.$set(g),r[1]?$?($.p(r,c),c&2&&p($,1)):($=y(r),$.c(),p($,1),$.m(f.parentNode,f)):$&&(B(),_($,1,1,()=>{$=null}),R())},i(r){u||(p(e.$$.fragment,r),p(a),p(s.$$.fragment,r),p($),u=!0)},o(r){_(e.$$.fragment,r),_(a),_(s.$$.fragment,r),_($),u=!1},d(r){w(e),r&&m(n),a&&a.d(r),r&&m(t),w(s,r),r&&m(l),$&&$.d(r),r&&m(f)}}}const C=20;function Ge(o,e,n){let t;const s=re(ue,{filter:{offset:0,limit:C}});le(o,s,i=>n(0,t=i));const l=fe(1);let f;l.subscribe(i=>oe(s,t.variables.filter.offset=(i-1)*C,t));const u=Q({query:ce}),a=i=>{u({versionId:i}).then(()=>{s.reexecute()})},$=Q({query:ie}),r=i=>{$({versionId:i}).then(()=>{s.reexecute()})};ae(s);const c=i=>a(i.id),g=i=>r(i.id);return o.$$.update=()=>{o.$$.dirty&1&&n(1,f=t?.data?.getUnapprovedVersions?.count)},[t,f,s,l,a,r,c,g]}class Xe extends x{constructor(e){super();ee(this,e,Ge,He,te,{})}}export{Xe as default};
//# sourceMappingURL=unapproved-versions.svelte-28526170.js.map
