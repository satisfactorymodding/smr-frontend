{"version":3,"file":"mod-0e15fd66.js","sources":["../../../../../src/lib/utils/mod.ts"],"sourcesContent":["import satisfies from 'semver/functions/satisfies.js';\nimport minVersion from 'semver/ranges/min-version.js';\nimport type { Maybe, Version } from '$lib/generated';\n\nexport const modStatus = (latestVersions?: {\n  alpha?: Maybe<Pick<Version, 'sml_version'>>;\n  beta?: Maybe<Pick<Version, 'sml_version'>>;\n  release?: Maybe<Pick<Version, 'sml_version'>>;\n}) => {\n  if (!latestVersions) {\n    return 'outdated';\n  }\n\n  let result: 'outdated' | 'own-risk' = 'outdated';\n  for (const releaseType of Object.keys(latestVersions)) {\n    const version = latestVersions[releaseType];\n    if (version && version.sml_version) {\n      try {\n        if (satisfies(minVersion(version.sml_version), '>=3.0.0')) {\n          if (satisfies(minVersion(version.sml_version), '>=3.2.0')) {\n            return undefined;\n          }\n          result = 'own-risk';\n        }\n      } catch (e) {\n        // Ignored\n      }\n    }\n  }\n\n  return result;\n};\n"],"names":["satisfies","minVersion"],"mappings":"uDAIa,GAAY,AAAC,GAIpB,IACA,CAAC,QACI,cAGL,GAAkC,oBAC3B,KAAe,QAAO,KAAK,GAAiB,MAC/C,GAAU,EAAe,MAC3B,GAAW,EAAQ,eACjB,IACEA,EAAUC,EAAW,EAAQ,aAAc,WAAY,IACrDD,EAAUC,EAAW,EAAQ,aAAc,oBAGtC,0BAQV"}