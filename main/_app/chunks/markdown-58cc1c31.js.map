{"version":3,"file":"markdown-58cc1c31.js","sources":["../../../../../src/lib/utils/markdown.ts"],"sourcesContent":["import DOMPurify from 'dompurify';\nimport marked from \"marked\";\nimport {browser} from '$app/env';\n\nlet resolver;\nconst sanitizer = new Promise<(string) => string>(r => resolver = r);\n\nif (!browser) {\n  (async () => {\n    const {JSDOM} = await import('jsdom');\n    resolver(DOMPurify(new JSDOM('').window).sanitize);\n  })();\n} else {\n  resolver(DOMPurify.sanitize);\n}\n\nexport const markdown = (md: string): Promise<string> => {\n  return sanitizer.then((s) => s(marked(md)));\n}\n"],"names":["resolver","sanitizer","Promise","r","DOMPurify","sanitize","markdown","md","then","s","marked"],"mappings":"kDAIA,IAAIA,EACJ,MAAMC,EAAY,IAAIC,YAAiCF,EAAWG,MAQvDC,EAAUC,gBAGRC,EAAYC,GAChBN,EAAUO,MAAMC,GAAMA,EAAEC,EAAOH"}