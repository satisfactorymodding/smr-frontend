{"version":3,"file":"23.1H1iyWlt.js","sources":["../../../../../../src/routes/new-mod/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContextClient } from '@urql/svelte';\n  import { NewModDocument } from '$lib/generated';\n  import { goto } from '$app/navigation';\n  import ModForm from '$lib/components/mods/ModForm.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { base } from '$app/paths';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import { getToastStore } from '@skeletonlabs/skeleton';\n  import { getTranslate } from '@tolgee/svelte';\n\n  export const { t } = getTranslate();\n\n  const toastStore = getToastStore();\n\n  const client = getContextClient();\n\n  const onSubmit = (data: ModData) => {\n    client\n      .mutation(NewModDocument, {\n        mod: data\n      })\n      .toPromise()\n      .then((value) => {\n        if (value.error) {\n          console.error(value.error.message);\n          toastStore.trigger({\n            message: 'Error creating mod: ' + value.error.message,\n            background: 'variant-filled-error',\n            autohide: false\n          });\n        } else {\n          toastStore.trigger({\n            message: $t('new-mod.toast.creation-success'),\n            background: 'variant-filled-success',\n            timeout: 5000\n          });\n          goto(base + '/mod/' + value.data.createMod.id);\n        }\n      });\n  };\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Adding a new mod in the Satisfactory Mod Repository\" title=\"New mod\" />\n</svelte:head>\n\n<h1 class=\"my-4 text-4xl font-bold\">{$t('new-mod.title')}</h1>\n\n<div class=\"card p-4\">\n  <section>\n    <ModForm {onSubmit} />\n  </section>\n</div>\n"],"names":["t1_value","ctx","insert_hydration_dev","target","h1","anchor","div","append_hydration_dev","section","current","dirty","set_data_dev","t1","t","getTranslate","toastStore","getToastStore","client","getContextClient","onSubmit","data","mutation","NewModDocument","mod","toPromise","then","value","error","console","message","trigger","background","autohide","$t","timeout","goto","base","createMod","id"],"mappings":"6gBA+CqCA,EAAAC,KAAG,eAAe,EAAA,6uBAAvDC,EAA6DC,EAAAC,EAAAC,mBAE7DH,EAIKC,EAAAG,EAAAD,CAHHE,EAAAA,EAESD,EAAAE,CAAAA,uCAL0BC,CAAAA,GAAAC,EAAA,IAAAV,KAAAA,EAAAC,KAAG,eAAe,EAAA,KAAAU,GAAAC,EAAAZ,kZApCtC,KAAAa,CAAAA,EAAAA,CAAMC,EAAAA,EAAAA,aAEf,EAAA,MAAAC,EAAaC,EAAAA,EAEbC,EAASC,EAET,EAAAC,EAAYC,GAChBH,CAAAA,EACGI,SAASC,EACR,CAAAC,IAAKH,CAENI,CAAAA,EAAAA,UAAAA,EACAC,KAAMC,GAAAA,CACDA,EAAMC,OACRC,QAAQD,MAAMD,EAAMC,MAAME,OAAAA,EAC1Bd,EAAWe,QAAO,CAChBD,QAAS,uBAAyBH,EAAMC,MAAME,QAC9CE,WAAY,uBACZC,SAAU,OAGZjB,EAAWe,QAAO,CAChBD,QAASI,EAAG,gCAAA,EACZF,WAAY,yBACZG,QAAS,GAAA,CAAA,EAEXC,EAAKC,EAAO,QAAUV,EAAMN,KAAKiB,UAAUC,EAAAA"}